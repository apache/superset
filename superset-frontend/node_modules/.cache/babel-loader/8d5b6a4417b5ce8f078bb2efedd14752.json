{"ast":null,"code":"import _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";import _forEachInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/for-each\";import _Object$assign from \"@babel/runtime-corejs3/core-js-stable/object/assign\";import _reduceInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/reduce\";import _extends from \"@babel/runtime-corejs3/helpers/extends\";var _jsxFileName = \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/ListView/ListView.tsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\nimport { t } from '@superset-ui/translation';\nimport React from 'react';\nimport { Col, DropdownButton, MenuItem, Row } from 'react-bootstrap';\nimport IndeterminateCheckbox from '../IndeterminateCheckbox';\nimport TableCollection from './TableCollection';\nimport Pagination from './Pagination';\nimport { FilterMenu, FilterInputs } from './LegacyFilters';\nimport FilterControls from './Filters';\nimport { ListViewError, useListViewState } from './utils';\nimport './ListViewStyles.less';import { jsx as ___EmotionJSX } from \"@emotion/core\";\nconst bulkSelectColumnConfig = {\n  Cell: ({ row }) => ___EmotionJSX(IndeterminateCheckbox, _extends({}, row.getToggleRowSelectedProps(), { id: row.id, __source: { fileName: _jsxFileName, lineNumber: 30 }, __self: this })),\n  Header: ({ getToggleAllRowsSelectedProps }) => ___EmotionJSX(IndeterminateCheckbox, _extends({}, getToggleAllRowsSelectedProps(), { id: 'header-toggle-all', __source: { fileName: _jsxFileName, lineNumber: 31 }, __self: this })),\n  id: 'selection' };\n\nconst ListView = ({ columns, data, count, pageSize: initialPageSize, fetchData, loading, initialSort = [], className = '', title = '', filters = [], bulkActions = [], useNewUIFilters = false }) => {\n  const { getTableProps, getTableBodyProps, headerGroups, rows, prepareRow, pageCount = 1, gotoPage, removeFilterAndApply, setInternalFilters, updateInternalFilter, applyFilterValue, applyFilters, filtersApplied, selectedFlatRows, state: { pageIndex, pageSize, internalFilters } } = useListViewState({\n    bulkSelectColumnConfig,\n    bulkSelectMode: Boolean(bulkActions.length),\n    columns,\n    count,\n    data,\n    fetchData,\n    initialPageSize,\n    initialSort,\n    initialFilters: useNewUIFilters ? filters : [] });\n\n  const filterable = Boolean(filters.length);\n  if (filterable) {\n    const columnAccessors = _reduceInstanceProperty(columns).call(columns, (acc, col) => _Object$assign({}, acc, { [col.accessor || col.id]: true }), {});\n    _forEachInstanceProperty(filters).call(filters, f => {\n      if (!columnAccessors[f.id]) {\n        throw new ListViewError(\"Invalid filter config, \" + f.id + \" is not present in columns\");\n      }\n    });\n  }\n  return ___EmotionJSX(\"div\", { className: \"superset-list-view \" + className, __source: { fileName: _jsxFileName, lineNumber: 55 }, __self: this },\n  ___EmotionJSX(\"div\", { className: \"header\", __source: { fileName: _jsxFileName, lineNumber: 56 }, __self: this },\n  !useNewUIFilters && ___EmotionJSX(React.Fragment, null,\n  title && filterable && ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(Row, { __source: { fileName: _jsxFileName, lineNumber: 59 }, __self: this },\n  ___EmotionJSX(Col, { md: 11, __source: { fileName: _jsxFileName, lineNumber: 60 }, __self: this },\n  ___EmotionJSX(\"h2\", { __source: { fileName: _jsxFileName, lineNumber: 61 }, __self: this }, t(title))),\n\n  filterable && ___EmotionJSX(Col, { md: 1, __source: { fileName: _jsxFileName, lineNumber: 63 }, __self: this },\n  ___EmotionJSX(FilterMenu, { filters: filters, internalFilters: internalFilters, setInternalFilters: setInternalFilters, __source: { fileName: _jsxFileName, lineNumber: 64 }, __self: this }))),\n\n\n  ___EmotionJSX(\"hr\", { __source: { fileName: _jsxFileName, lineNumber: 67 }, __self: this }),\n  ___EmotionJSX(FilterInputs, { internalFilters: internalFilters, filters: filters, updateInternalFilter: updateInternalFilter, removeFilterAndApply: removeFilterAndApply, filtersApplied: filtersApplied, applyFilters: applyFilters, __source: { fileName: _jsxFileName, lineNumber: 68 }, __self: this }))),\n\n\n  useNewUIFilters && ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(Row, { __source: { fileName: _jsxFileName, lineNumber: 72 }, __self: this },\n  ___EmotionJSX(Col, { md: 10, __source: { fileName: _jsxFileName, lineNumber: 73 }, __self: this },\n  ___EmotionJSX(\"h2\", { __source: { fileName: _jsxFileName, lineNumber: 74 }, __self: this }, t(title)))),\n\n\n  ___EmotionJSX(\"hr\", { __source: { fileName: _jsxFileName, lineNumber: 77 }, __self: this }),\n  ___EmotionJSX(FilterControls, { filters: filters, internalFilters: internalFilters, updateFilterValue: applyFilterValue, __source: { fileName: _jsxFileName, lineNumber: 78 }, __self: this }))),\n\n\n  ___EmotionJSX(\"div\", { className: \"body\", __source: { fileName: _jsxFileName, lineNumber: 81 }, __self: this },\n  ___EmotionJSX(TableCollection, { getTableProps: getTableProps, getTableBodyProps: getTableBodyProps, prepareRow: prepareRow, headerGroups: headerGroups, rows: rows, loading: loading, __source: { fileName: _jsxFileName, lineNumber: 82 }, __self: this })),\n\n  ___EmotionJSX(\"div\", { className: \"footer\", __source: { fileName: _jsxFileName, lineNumber: 84 }, __self: this },\n  ___EmotionJSX(Row, { __source: { fileName: _jsxFileName, lineNumber: 85 }, __self: this },\n  ___EmotionJSX(Col, { md: 2, __source: { fileName: _jsxFileName, lineNumber: 86 }, __self: this },\n  ___EmotionJSX(\"div\", { className: \"form-actions-container\", __source: { fileName: _jsxFileName, lineNumber: 87 }, __self: this },\n  ___EmotionJSX(\"div\", { className: \"btn-group\", __source: { fileName: _jsxFileName, lineNumber: 88 }, __self: this },\n  bulkActions.length > 0 && ___EmotionJSX(DropdownButton, { id: \"bulk-actions\", bsSize: \"small\", bsStyle: \"default\", noCaret: true, title: ___EmotionJSX(React.Fragment, null,\n    t('Actions'), \" \", ___EmotionJSX(\"span\", { className: \"caret\", __source: { fileName: _jsxFileName, lineNumber: 90 }, __self: this })), __source: { fileName: _jsxFileName, lineNumber: 89 }, __self: this },\n\n  _mapInstanceProperty(bulkActions).call(bulkActions, (action) =>\n  // @ts-ignore\n  ___EmotionJSX(MenuItem, { key: action.key, eventKey: selectedFlatRows\n    // @ts-ignore\n    , onSelect: selectedRows => {\n      action.onSelect(_mapInstanceProperty(selectedRows).call(selectedRows, r => r.original));\n    }, __source: { fileName: _jsxFileName, lineNumber: 94 }, __self: this },\n  action.name)))))),\n\n\n\n\n\n  ___EmotionJSX(Col, { md: 8, className: \"text-center\", __source: { fileName: _jsxFileName, lineNumber: 105 }, __self: this },\n  ___EmotionJSX(Pagination, { totalPages: pageCount || 0, currentPage: pageCount ? pageIndex + 1 : 0, onChange: p => gotoPage(p - 1), hideFirstAndLastPageLinks: true, __source: { fileName: _jsxFileName, lineNumber: 106 }, __self: this })),\n\n  ___EmotionJSX(Col, { md: 2, __source: { fileName: _jsxFileName, lineNumber: 108 }, __self: this },\n  ___EmotionJSX(\"span\", { className: \"pull-right\", __source: { fileName: _jsxFileName, lineNumber: 109 }, __self: this },\n  t('showing'), ' ',\n  ___EmotionJSX(\"strong\", { __source: { fileName: _jsxFileName, lineNumber: 111 }, __self: this },\n  pageSize * pageIndex + (rows.length && 1), \"-\",\n  pageSize * pageIndex + rows.length),\n  ' ',\n  t('of'), \" \", ___EmotionJSX(\"strong\", { __source: { fileName: _jsxFileName, lineNumber: 115 }, __self: this }, count))))));\n\n\n\n\n\n};__signature__(ListView, \"useListViewState{{ getTableProps, getTableBodyProps, headerGroups, rows, prepareRow, pageCount = 1, gotoPage, removeFilterAndApply, setInternalFilters, updateInternalFilter, applyFilterValue, applyFilters, filtersApplied, selectedFlatRows, state: { pageIndex, pageSize, internalFilters }, }}\", () => [useListViewState]);const _default =\nListView;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(bulkSelectColumnConfig, \"bulkSelectColumnConfig\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/ListView/ListView.tsx\");reactHotLoader.register(ListView, \"ListView\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/ListView/ListView.tsx\");reactHotLoader.register(_default, \"default\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/ListView/ListView.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/ListView/ListView.tsx"],"names":[],"mappings":"+zBAAA;;;;;;;;;;;;;;;;;;AAkBA,SAAS,CAAT,QAAkB,0BAAlB;AACA,OAAO,KAAP,MAAyC,OAAzC;AACA,SAAS,GAAT,EAAc,cAAd,EAA8B,QAA9B,EAAwC,GAAxC,QAAmD,iBAAnD;AACA,OAAO,qBAAP,MAAkC,0BAAlC;AACA,OAAO,eAAP,MAA4B,mBAA5B;AACA,OAAO,UAAP,MAAuB,cAAvB;AACA,SAAS,UAAT,EAAqB,YAArB,QAAyC,iBAAzC;AACA,OAAO,cAAP,MAA2B,WAA3B;AAEA,SAAS,aAAT,EAAwB,gBAAxB,QAAgD,SAAhD;AAEA,OAAO,uBAAP,C;AAqBA,MAAM,sBAAsB,GAAG;AAC7B,EAAA,IAAI,EAAE,CAAC,EAAE,GAAF,EAAD,KACJ,cAAC,qBAAD,eAA2B,GAAG,CAAC,yBAAJ,EAA3B,IAA4D,EAAE,EAAE,GAAG,CAAC,EAApE,wEAF2B;AAI7B,EAAA,MAAM,EAAE,CAAC,EAAE,6BAAF,EAAD,KACN,cAAC,qBAAD,eACM,6BAA6B,EADnC,IAEE,EAAE,EAAE,mBAFN,wEAL2B;AAU7B,EAAA,EAAE,EAAE,WAVyB,EAA/B;;AAaA,MAAM,QAAQ,GAA6B,CAAC,EAC1C,OAD0C,EAE1C,IAF0C,EAG1C,KAH0C,EAI1C,QAAQ,EAAE,eAJgC,EAK1C,SAL0C,EAM1C,OAN0C,EAO1C,WAAW,GAAG,EAP4B,EAQ1C,SAAS,GAAG,EAR8B,EAS1C,KAAK,GAAG,EATkC,EAU1C,OAAO,GAAG,EAVgC,EAW1C,WAAW,GAAG,EAX4B,EAY1C,eAAe,GAAG,KAZwB,EAAD,KAatC;AACH,QAAM,EACJ,aADI,EAEJ,iBAFI,EAGJ,YAHI,EAIJ,IAJI,EAKJ,UALI,EAMJ,SAAS,GAAG,CANR,EAOJ,QAPI,EAQJ,oBARI,EASJ,kBATI,EAUJ,oBAVI,EAWJ,gBAXI,EAYJ,YAZI,EAaJ,cAbI,EAcJ,gBAdI,EAeJ,KAAK,EAAE,EAAE,SAAF,EAAa,QAAb,EAAuB,eAAvB,EAfH,KAgBF,gBAAgB,CAAC;AACnB,IAAA,sBADmB;AAEnB,IAAA,cAAc,EAAE,OAAO,CAAC,WAAW,CAAC,MAAb,CAFJ;AAGnB,IAAA,OAHmB;AAInB,IAAA,KAJmB;AAKnB,IAAA,IALmB;AAMnB,IAAA,SANmB;AAOnB,IAAA,eAPmB;AAQnB,IAAA,WARmB;AASnB,IAAA,cAAc,EAAE,eAAe,GAAG,OAAH,GAAa,EATzB,EAAD,CAhBpB;;AA2BA,QAAM,UAAU,GAAG,OAAO,CAAC,OAAO,CAAC,MAAT,CAA1B;AACA,MAAI,UAAJ,EAAgB;AACd,UAAM,eAAe,GAAG,wBAAA,OAAO,MAAP,CAAA,OAAO,EAC7B,CAAC,GAAD,EAAM,GAAN,wBAAoB,GAApB,IAAyB,CAAC,GAAG,CAAC,QAAJ,IAAgB,GAAG,CAAC,EAArB,GAA0B,IAAnD,GAD6B,EAE7B,EAF6B,CAA/B;AAIA,6BAAA,OAAO,MAAP,CAAA,OAAO,EAAS,CAAC,IAAG;AAClB,UAAI,CAAC,eAAe,CAAC,CAAC,CAAC,EAAH,CAApB,EAA4B;AAC1B,cAAM,IAAI,aAAJ,6BACsB,CAAC,CAAC,EADxB,gCAAN;AAGD;AACF,KANM,CAAP;AAOD;AAED,SACE,uBAAK,SAAS,0BAAwB,SAAtC;AACE,yBAAK,SAAS,EAAC,QAAf;AACG,GAAC,eAAD,IACC;AACG,EAAA,KAAK,IAAI,UAAT,IACC;AACE,gBAAC,GAAD;AACE,gBAAC,GAAD,IAAK,EAAE,EAAE,EAAT;AACE,8FAAK,CAAC,CAAC,KAAD,CAAN,CADF,CADF;;AAIG,EAAA,UAAU,IACT,cAAC,GAAD,IAAK,EAAE,EAAE,CAAT;AACE,gBAAC,UAAD,IACE,OAAO,EAAE,OADX,EAEE,eAAe,EAAE,eAFnB,EAGE,kBAAkB,EAAE,kBAHtB,uEADF,CALJ,CADF;;;AAeE,6FAfF;AAgBE,gBAAC,YAAD,IACE,eAAe,EAAE,eADnB,EAEE,OAAO,EAAE,OAFX,EAGE,oBAAoB,EAAE,oBAHxB,EAIE,oBAAoB,EAAE,oBAJxB,EAKE,cAAc,EAAE,cALlB,EAME,YAAY,EAAE,YANhB,uEAhBF,CAFJ,CAFJ;;;AAgCG,EAAA,eAAe,IACd;AACE,gBAAC,GAAD;AACE,gBAAC,GAAD,IAAK,EAAE,EAAE,EAAT;AACE,8FAAK,CAAC,CAAC,KAAD,CAAN,CADF,CADF,CADF;;;AAME,6FANF;AAOE,gBAAC,cAAD,IACE,OAAO,EAAE,OADX,EAEE,eAAe,EAAE,eAFnB,EAGE,iBAAiB,EAAE,gBAHrB,uEAPF,CAjCJ,CADF;;;AAiDE,yBAAK,SAAS,EAAC,MAAf;AACE,gBAAC,eAAD,IACE,aAAa,EAAE,aADjB,EAEE,iBAAiB,EAAE,iBAFrB,EAGE,UAAU,EAAE,UAHd,EAIE,YAAY,EAAE,YAJhB,EAKE,IAAI,EAAE,IALR,EAME,OAAO,EAAE,OANX,uEADF,CAjDF;;AA2DE,yBAAK,SAAS,EAAC,QAAf;AACE,gBAAC,GAAD;AACE,gBAAC,GAAD,IAAK,EAAE,EAAE,CAAT;AACE,yBAAK,SAAS,EAAC,wBAAf;AACE,yBAAK,SAAS,EAAC,WAAf;AACG,EAAA,WAAW,CAAC,MAAZ,GAAqB,CAArB,IACC,cAAC,cAAD,IACE,EAAE,EAAC,cADL,EAEE,MAAM,EAAC,OAFT,EAGE,OAAO,EAAC,SAHV,EAIE,OAAO,MAJT,EAKE,KAAK,EACH;AACG,IAAA,CAAC,CAAC,SAAD,CADJ,OACiB,wBAAM,SAAS,EAAC,OAAhB,uEADjB,CANJ;;AAWG,uBAAA,WAAW,MAAX,CAAA,WAAW,EAAK,CAAA,MAAM;AACrB;AACA,gBAAC,QAAD,IACE,GAAG,EAAE,MAAM,CAAC,GADd,EAEE,QAAQ,EAAE;AACV;AAHF,MAIE,QAAQ,EAAG,YAAD,IAA0C;AAClD,MAAA,MAAM,CAAC,QAAP,CACE,qBAAA,YAAY,MAAZ,CAAA,YAAY,EAAM,CAAD,IAAY,CAAC,CAAC,QAAnB,CADd;AAGD,KARH;AAUG,EAAA,MAAM,CAAC,IAVV,CAFU,CAXd,CAFJ,CADF,CADF,CADF;;;;;;AAoCE,gBAAC,GAAD,IAAK,EAAE,EAAE,CAAT,EAAY,SAAS,EAAC,aAAtB;AACE,gBAAC,UAAD,IACE,UAAU,EAAE,SAAS,IAAI,CAD3B,EAEE,WAAW,EAAE,SAAS,GAAG,SAAS,GAAG,CAAf,GAAmB,CAF3C,EAGE,QAAQ,EAAG,CAAD,IAAe,QAAQ,CAAC,CAAC,GAAG,CAAL,CAHnC,EAIE,yBAAyB,MAJ3B,wEADF,CApCF;;AA4CE,gBAAC,GAAD,IAAK,EAAE,EAAE,CAAT;AACE,0BAAM,SAAS,EAAC,YAAhB;AACG,EAAA,CAAC,CAAC,SAAD,CADJ,EACiB,GADjB;AAEE;AACG,EAAA,QAAQ,GAAG,SAAX,IAAwB,IAAI,CAAC,MAAL,IAAe,CAAvC,CADH;AAEG,EAAA,QAAQ,GAAG,SAAX,GAAuB,IAAI,CAAC,MAF/B,CAFF;AAKY,KALZ;AAMG,EAAA,CAAC,CAAC,IAAD,CANJ,OAMY,iGAAS,KAAT,CANZ,CADF,CA5CF,CADF,CA3DF,CADF;;;;;;AAuHD,CA/KD,C,cAAM,Q,gTA8BA,gB;AAmJS,Q,CAAf,wB,iLA9LM,sB,yJAaA,Q","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { t } from '@superset-ui/translation';\nimport React, { FunctionComponent } from 'react';\nimport { Col, DropdownButton, MenuItem, Row } from 'react-bootstrap';\nimport IndeterminateCheckbox from '../IndeterminateCheckbox';\nimport TableCollection from './TableCollection';\nimport Pagination from './Pagination';\nimport { FilterMenu, FilterInputs } from './LegacyFilters';\nimport FilterControls from './Filters';\nimport { FetchDataConfig, Filters, SortColumn } from './types';\nimport { ListViewError, useListViewState } from './utils';\n\nimport './ListViewStyles.less';\n\ninterface Props {\n  columns: any[];\n  data: any[];\n  count: number;\n  pageSize: number;\n  fetchData: (conf: FetchDataConfig) => any;\n  loading: boolean;\n  className?: string;\n  title?: string;\n  initialSort?: SortColumn[];\n  filters?: Filters;\n  bulkActions?: Array<{\n    key: string;\n    name: React.ReactNode | string;\n    onSelect: (rows: any[]) => any;\n  }>;\n  useNewUIFilters?: boolean;\n}\n\nconst bulkSelectColumnConfig = {\n  Cell: ({ row }: any) => (\n    <IndeterminateCheckbox {...row.getToggleRowSelectedProps()} id={row.id} />\n  ),\n  Header: ({ getToggleAllRowsSelectedProps }: any) => (\n    <IndeterminateCheckbox\n      {...getToggleAllRowsSelectedProps()}\n      id={'header-toggle-all'}\n    />\n  ),\n  id: 'selection',\n};\n\nconst ListView: FunctionComponent<Props> = ({\n  columns,\n  data,\n  count,\n  pageSize: initialPageSize,\n  fetchData,\n  loading,\n  initialSort = [],\n  className = '',\n  title = '',\n  filters = [],\n  bulkActions = [],\n  useNewUIFilters = false,\n}) => {\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n    pageCount = 1,\n    gotoPage,\n    removeFilterAndApply,\n    setInternalFilters,\n    updateInternalFilter,\n    applyFilterValue,\n    applyFilters,\n    filtersApplied,\n    selectedFlatRows,\n    state: { pageIndex, pageSize, internalFilters },\n  } = useListViewState({\n    bulkSelectColumnConfig,\n    bulkSelectMode: Boolean(bulkActions.length),\n    columns,\n    count,\n    data,\n    fetchData,\n    initialPageSize,\n    initialSort,\n    initialFilters: useNewUIFilters ? filters : [],\n  });\n  const filterable = Boolean(filters.length);\n  if (filterable) {\n    const columnAccessors = columns.reduce(\n      (acc, col) => ({ ...acc, [col.accessor || col.id]: true }),\n      {},\n    );\n    filters.forEach(f => {\n      if (!columnAccessors[f.id]) {\n        throw new ListViewError(\n          `Invalid filter config, ${f.id} is not present in columns`,\n        );\n      }\n    });\n  }\n\n  return (\n    <div className={`superset-list-view ${className}`}>\n      <div className=\"header\">\n        {!useNewUIFilters && (\n          <>\n            {title && filterable && (\n              <>\n                <Row>\n                  <Col md={11}>\n                    <h2>{t(title)}</h2>\n                  </Col>\n                  {filterable && (\n                    <Col md={1}>\n                      <FilterMenu\n                        filters={filters}\n                        internalFilters={internalFilters}\n                        setInternalFilters={setInternalFilters}\n                      />\n                    </Col>\n                  )}\n                </Row>\n                <hr />\n                <FilterInputs\n                  internalFilters={internalFilters}\n                  filters={filters}\n                  updateInternalFilter={updateInternalFilter}\n                  removeFilterAndApply={removeFilterAndApply}\n                  filtersApplied={filtersApplied}\n                  applyFilters={applyFilters}\n                />\n              </>\n            )}\n          </>\n        )}\n        {useNewUIFilters && (\n          <>\n            <Row>\n              <Col md={10}>\n                <h2>{t(title)}</h2>\n              </Col>\n            </Row>\n            <hr />\n            <FilterControls\n              filters={filters}\n              internalFilters={internalFilters}\n              updateFilterValue={applyFilterValue}\n            />\n          </>\n        )}\n      </div>\n      <div className=\"body\">\n        <TableCollection\n          getTableProps={getTableProps}\n          getTableBodyProps={getTableBodyProps}\n          prepareRow={prepareRow}\n          headerGroups={headerGroups}\n          rows={rows}\n          loading={loading}\n        />\n      </div>\n      <div className=\"footer\">\n        <Row>\n          <Col md={2}>\n            <div className=\"form-actions-container\">\n              <div className=\"btn-group\">\n                {bulkActions.length > 0 && (\n                  <DropdownButton\n                    id=\"bulk-actions\"\n                    bsSize=\"small\"\n                    bsStyle=\"default\"\n                    noCaret\n                    title={\n                      <>\n                        {t('Actions')} <span className=\"caret\" />\n                      </>\n                    }\n                  >\n                    {bulkActions.map(action => (\n                      // @ts-ignore\n                      <MenuItem\n                        key={action.key}\n                        eventKey={selectedFlatRows}\n                        // @ts-ignore\n                        onSelect={(selectedRows: typeof selectedFlatRows) => {\n                          action.onSelect(\n                            selectedRows.map((r: any) => r.original),\n                          );\n                        }}\n                      >\n                        {action.name}\n                      </MenuItem>\n                    ))}\n                  </DropdownButton>\n                )}\n              </div>\n            </div>\n          </Col>\n          <Col md={8} className=\"text-center\">\n            <Pagination\n              totalPages={pageCount || 0}\n              currentPage={pageCount ? pageIndex + 1 : 0}\n              onChange={(p: number) => gotoPage(p - 1)}\n              hideFirstAndLastPageLinks\n            />\n          </Col>\n          <Col md={2}>\n            <span className=\"pull-right\">\n              {t('showing')}{' '}\n              <strong>\n                {pageSize * pageIndex + (rows.length && 1)}-\n                {pageSize * pageIndex + rows.length}\n              </strong>{' '}\n              {t('of')} <strong>{count}</strong>\n            </span>\n          </Col>\n        </Row>\n      </div>\n    </div>\n  );\n};\n\nexport default ListView;\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}