{"ast":null,"code":"import \"core-js/modules/es.regexp.to-string\";import \"core-js/modules/es.string.match\";import _extends from \"@babel/runtime-corejs3/helpers/extends\";import _parseInt from \"@babel/runtime-corejs3/core-js-stable/parse-int\";import _parseFloat from \"@babel/runtime-corejs3/core-js-stable/parse-float\";import _bindInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/bind\";var _jsxFileName = \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/TextControl.jsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormGroup, FormControl } from 'react-bootstrap';\nimport {\nlegacyValidateNumber,\nlegacyValidateInteger } from\n'@superset-ui/validator';\nimport ControlHeader from '../ControlHeader';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst propTypes = {\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  isFloat: PropTypes.bool,\n  isInt: PropTypes.bool,\n  disabled: PropTypes.bool };\n\n\nconst defaultProps = {\n  onChange: () => {},\n  onFocus: () => {},\n  value: '',\n  isInt: false,\n  isFloat: false,\n  disabled: false };\n\n\nexport default class TextControl extends React.Component {\n  constructor(props) {var _context;\n    super(props);\n    this.onChange = _bindInstanceProperty(_context = this.onChange).call(_context, this);\n  }\n  onChange(event) {\n    let value = event.target.value;\n\n    // Validation & casting\n    const errors = [];\n    if (value !== '' && this.props.isFloat) {\n      const error = legacyValidateNumber(value);\n      if (error) {\n        errors.push(error);\n      } else {\n        value = value.match(/.*(\\.)$/g) ? value : _parseFloat(value);\n      }\n    }\n    if (value !== '' && this.props.isInt) {\n      const error = legacyValidateInteger(value);\n      if (error) {\n        errors.push(error);\n      } else {\n        value = _parseInt(value, 10);\n      }\n    }\n    this.props.onChange(value, errors);\n  }\n  render() {\n    const { value: rawValue } = this.props;\n    const value =\n    typeof rawValue !== 'undefined' && rawValue !== null ?\n    rawValue.toString() :\n    '';\n    return (\n      ___EmotionJSX(\"div\", { __source: { fileName: _jsxFileName, lineNumber: 81 }, __self: this },\n      ___EmotionJSX(ControlHeader, _extends({}, this.props, { __source: { fileName: _jsxFileName, lineNumber: 82 }, __self: this })),\n      ___EmotionJSX(FormGroup, { controlId: \"formInlineName\", bsSize: \"small\", __source: { fileName: _jsxFileName, lineNumber: 83 }, __self: this },\n      ___EmotionJSX(FormControl, {\n        type: \"text\",\n        placeholder: \"\",\n        onChange: this.onChange,\n        onFocus: this.props.onFocus,\n        value: value,\n        disabled: this.props.disabled, __source: { fileName: _jsxFileName, lineNumber: 84 }, __self: this }))));\n\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nTextControl.propTypes = propTypes;\nTextControl.defaultProps = defaultProps;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/TextControl.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/TextControl.jsx\");reactHotLoader.register(TextControl, \"TextControl\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/TextControl.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/TextControl.jsx"],"names":["React","PropTypes","FormGroup","FormControl","legacyValidateNumber","legacyValidateInteger","ControlHeader","propTypes","onChange","func","onFocus","value","oneOfType","string","number","isFloat","bool","isInt","disabled","defaultProps","TextControl","Component","constructor","props","event","target","errors","error","push","match","render","rawValue","toString"],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormGroup, FormControl } from 'react-bootstrap';\nimport {\n  legacyValidateNumber,\n  legacyValidateInteger,\n} from '@superset-ui/validator';\nimport ControlHeader from '../ControlHeader';\n\nconst propTypes = {\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  isFloat: PropTypes.bool,\n  isInt: PropTypes.bool,\n  disabled: PropTypes.bool,\n};\n\nconst defaultProps = {\n  onChange: () => {},\n  onFocus: () => {},\n  value: '',\n  isInt: false,\n  isFloat: false,\n  disabled: false,\n};\n\nexport default class TextControl extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n  }\n  onChange(event) {\n    let value = event.target.value;\n\n    // Validation & casting\n    const errors = [];\n    if (value !== '' && this.props.isFloat) {\n      const error = legacyValidateNumber(value);\n      if (error) {\n        errors.push(error);\n      } else {\n        value = value.match(/.*(\\.)$/g) ? value : parseFloat(value);\n      }\n    }\n    if (value !== '' && this.props.isInt) {\n      const error = legacyValidateInteger(value);\n      if (error) {\n        errors.push(error);\n      } else {\n        value = parseInt(value, 10);\n      }\n    }\n    this.props.onChange(value, errors);\n  }\n  render() {\n    const { value: rawValue } = this.props;\n    const value =\n      typeof rawValue !== 'undefined' && rawValue !== null\n        ? rawValue.toString()\n        : '';\n    return (\n      <div>\n        <ControlHeader {...this.props} />\n        <FormGroup controlId=\"formInlineName\" bsSize=\"small\">\n          <FormControl\n            type=\"text\"\n            placeholder=\"\"\n            onChange={this.onChange}\n            onFocus={this.props.onFocus}\n            value={value}\n            disabled={this.props.disabled}\n          />\n        </FormGroup>\n      </div>\n    );\n  }\n}\n\nTextControl.propTypes = propTypes;\nTextControl.defaultProps = defaultProps;\n"]},"metadata":{},"sourceType":"module"}