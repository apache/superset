{"ast":null,"code":"import \"core-js/modules/es.regexp.to-string\";var _jsxFileName = \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/ErrorBoundary.jsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { t } from '@superset-ui/translation';\nimport ErrorMessageWithStackTrace from './ErrorMessage/ErrorMessageWithStackTrace';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst propTypes = {\n  children: PropTypes.node.isRequired,\n  onError: PropTypes.func,\n  showMessage: PropTypes.bool };\n\nconst defaultProps = {\n  onError: () => {},\n  showMessage: true };\n\n\nexport default class ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null, info: null };\n  }\n\n  componentDidCatch(error, info) {\n    this.props.onError(error, info);\n    this.setState({ error, info });\n  }\n\n  render() {\n    const { error, info } = this.state;\n    if (error) {\n      const firstLine = error.toString();\n      const message =\n      ___EmotionJSX(\"span\", { __source: { fileName: _jsxFileName, lineNumber: 50 }, __self: this },\n      ___EmotionJSX(\"strong\", { __source: { fileName: _jsxFileName, lineNumber: 51 }, __self: this }, t('Unexpected error')),\n      firstLine ? \": \" + firstLine : '');\n\n\n      if (this.props.showMessage) {\n        return (\n          ___EmotionJSX(ErrorMessageWithStackTrace, {\n            message: message,\n            stackTrace: info ? info.componentStack : null, __source: { fileName: _jsxFileName, lineNumber: 57 }, __self: this }));\n\n\n      }\n      return null;\n    }\n    return this.props.children;\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}ErrorBoundary.propTypes = propTypes;\nErrorBoundary.defaultProps = defaultProps;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/ErrorBoundary.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/ErrorBoundary.jsx\");reactHotLoader.register(ErrorBoundary, \"ErrorBoundary\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/ErrorBoundary.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/ErrorBoundary.jsx"],"names":["React","PropTypes","t","ErrorMessageWithStackTrace","propTypes","children","node","isRequired","onError","func","showMessage","bool","defaultProps","ErrorBoundary","Component","constructor","props","state","error","info","componentDidCatch","setState","render","firstLine","toString","message","componentStack"],"mappings":"wcAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,CAAT,QAAkB,0BAAlB;AACA,OAAOC,0BAAP,MAAuC,2CAAvC,C;;AAEA,MAAMC,SAAS,GAAG;AAChBC,EAAAA,QAAQ,EAAEJ,SAAS,CAACK,IAAV,CAAeC,UADT;AAEhBC,EAAAA,OAAO,EAAEP,SAAS,CAACQ,IAFH;AAGhBC,EAAAA,WAAW,EAAET,SAAS,CAACU,IAHP,EAAlB;;AAKA,MAAMC,YAAY,GAAG;AACnBJ,EAAAA,OAAO,EAAE,MAAM,CAAE,CADE;AAEnBE,EAAAA,WAAW,EAAE,IAFM,EAArB;;;AAKA,eAAe,MAAMG,aAAN,SAA4Bb,KAAK,CAACc,SAAlC,CAA4C;AACzDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa,EAAEC,KAAK,EAAE,IAAT,EAAeC,IAAI,EAAE,IAArB,EAAb;AACD;;AAEDC,EAAAA,iBAAiB,CAACF,KAAD,EAAQC,IAAR,EAAc;AAC7B,SAAKH,KAAL,CAAWR,OAAX,CAAmBU,KAAnB,EAA0BC,IAA1B;AACA,SAAKE,QAAL,CAAc,EAAEH,KAAF,EAASC,IAAT,EAAd;AACD;;AAEDG,EAAAA,MAAM,GAAG;AACP,UAAM,EAAEJ,KAAF,EAASC,IAAT,KAAkB,KAAKF,KAA7B;AACA,QAAIC,KAAJ,EAAW;AACT,YAAMK,SAAS,GAAGL,KAAK,CAACM,QAAN,EAAlB;AACA,YAAMC,OAAO;AACX;AACE,sGAASvB,CAAC,CAAC,kBAAD,CAAV,CADF;AAEGqB,MAAAA,SAAS,UAAQA,SAAR,GAAsB,EAFlC,CADF;;;AAMA,UAAI,KAAKP,KAAL,CAAWN,WAAf,EAA4B;AAC1B;AACE,wBAAC,0BAAD;AACE,YAAA,OAAO,EAAEe,OADX;AAEE,YAAA,UAAU,EAAEN,IAAI,GAAGA,IAAI,CAACO,cAAR,GAAyB,IAF3C,uEADF;;;AAMD;AACD,aAAO,IAAP;AACD;AACD,WAAO,KAAKV,KAAL,CAAWX,QAAlB;AACD,GAhCwD;AAAA;AAAA,6BAkC3DQ,aAAa,CAACT,SAAd,GAA0BA,SAA1B;AACAS,aAAa,CAACD,YAAd,GAA6BA,YAA7B,C,iLA7CMR,S,wIAKAQ,Y,2IAKeC,a","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { t } from '@superset-ui/translation';\nimport ErrorMessageWithStackTrace from './ErrorMessage/ErrorMessageWithStackTrace';\n\nconst propTypes = {\n  children: PropTypes.node.isRequired,\n  onError: PropTypes.func,\n  showMessage: PropTypes.bool,\n};\nconst defaultProps = {\n  onError: () => {},\n  showMessage: true,\n};\n\nexport default class ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null, info: null };\n  }\n\n  componentDidCatch(error, info) {\n    this.props.onError(error, info);\n    this.setState({ error, info });\n  }\n\n  render() {\n    const { error, info } = this.state;\n    if (error) {\n      const firstLine = error.toString();\n      const message = (\n        <span>\n          <strong>{t('Unexpected error')}</strong>\n          {firstLine ? `: ${firstLine}` : ''}\n        </span>\n      );\n      if (this.props.showMessage) {\n        return (\n          <ErrorMessageWithStackTrace\n            message={message}\n            stackTrace={info ? info.componentStack : null}\n          />\n        );\n      }\n      return null;\n    }\n    return this.props.children;\n  }\n}\nErrorBoundary.propTypes = propTypes;\nErrorBoundary.defaultProps = defaultProps;\n"]},"metadata":{},"sourceType":"module"}