{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";import _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";import _Object$assign from \"@babel/runtime-corejs3/core-js-stable/object/assign\";import _bindInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/bind\";var _jsxFileName = \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/ViewportControl.jsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Label, Popover, OverlayTrigger } from 'react-bootstrap';\nimport { decimal2sexagesimal } from 'geolib';\n\nimport TextControl from './TextControl';\nimport ControlHeader from '../ControlHeader';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nexport const DEFAULT_VIEWPORT = {\n  longitude: 6.85236157047845,\n  latitude: 31.222656842808707,\n  zoom: 1,\n  bearing: 0,\n  pitch: 0 };\n\n\nconst PARAMS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\n\nconst propTypes = {\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.shape({\n    longitude: PropTypes.number,\n    latitude: PropTypes.number,\n    zoom: PropTypes.number,\n    bearing: PropTypes.number,\n    pitch: PropTypes.number }),\n\n  default: PropTypes.object,\n  name: PropTypes.string.isRequired };\n\n\nconst defaultProps = {\n  onChange: () => {},\n  default: { type: 'fix', value: 5 },\n  value: DEFAULT_VIEWPORT };\n\n\nexport default class ViewportControl extends React.Component {\n  constructor(props) {var _context;\n    super(props);\n    this.onChange = _bindInstanceProperty(_context = this.onChange).call(_context, this);\n  }\n  onChange(ctrl, value) {\n    this.props.onChange(_Object$assign({},\n    this.props.value, {\n      [ctrl]: value }));\n\n  }\n  renderTextControl(ctrl) {var _context2;\n    return (\n      ___EmotionJSX(\"div\", { key: ctrl, __source: { fileName: _jsxFileName, lineNumber: 69 }, __self: this },\n      ctrl,\n      ___EmotionJSX(TextControl, {\n        value: this.props.value[ctrl],\n        onChange: _bindInstanceProperty(_context2 = this.onChange).call(_context2, this, ctrl),\n        isFloat: true, __source: { fileName: _jsxFileName, lineNumber: 71 }, __self: this })));\n\n\n\n  }\n  renderPopover() {\n    return (\n      ___EmotionJSX(Popover, { id: \"filter-popover-\" + this.props.name, title: \"Viewport\", __source: { fileName: _jsxFileName, lineNumber: 81 }, __self: this },\n      _mapInstanceProperty(PARAMS).call(PARAMS, ctrl => this.renderTextControl(ctrl))));\n\n\n  }\n  renderLabel() {\n    if (this.props.value.longitude && this.props.value.latitude) {\n      return (\n        decimal2sexagesimal(this.props.value.longitude) +\n        ' | ' +\n        decimal2sexagesimal(this.props.value.latitude));\n\n    }\n    return 'N/A';\n  }\n  render() {\n    return (\n      ___EmotionJSX(\"div\", { __source: { fileName: _jsxFileName, lineNumber: 98 }, __self: this },\n      ___EmotionJSX(ControlHeader, _extends({}, this.props, { __source: { fileName: _jsxFileName, lineNumber: 99 }, __self: this })),\n      ___EmotionJSX(OverlayTrigger, {\n        container: document.body,\n        trigger: \"click\",\n        rootClose: true,\n        ref: \"trigger\",\n        placement: \"right\",\n        overlay: this.renderPopover(), __source: { fileName: _jsxFileName, lineNumber: 100 }, __self: this },\n\n      ___EmotionJSX(Label, { style: { cursor: 'pointer' }, __source: { fileName: _jsxFileName, lineNumber: 108 }, __self: this }, this.renderLabel()))));\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nViewportControl.propTypes = propTypes;\nViewportControl.defaultProps = defaultProps;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(DEFAULT_VIEWPORT, \"DEFAULT_VIEWPORT\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/ViewportControl.jsx\");reactHotLoader.register(PARAMS, \"PARAMS\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/ViewportControl.jsx\");reactHotLoader.register(propTypes, \"propTypes\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/ViewportControl.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/ViewportControl.jsx\");reactHotLoader.register(ViewportControl, \"ViewportControl\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/ViewportControl.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/ViewportControl.jsx"],"names":["React","PropTypes","Label","Popover","OverlayTrigger","decimal2sexagesimal","TextControl","ControlHeader","DEFAULT_VIEWPORT","longitude","latitude","zoom","bearing","pitch","PARAMS","propTypes","onChange","func","isRequired","value","shape","number","default","object","name","string","defaultProps","type","ViewportControl","Component","constructor","props","ctrl","renderTextControl","renderPopover","renderLabel","render","document","body","cursor"],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Label, Popover, OverlayTrigger } from 'react-bootstrap';\nimport { decimal2sexagesimal } from 'geolib';\n\nimport TextControl from './TextControl';\nimport ControlHeader from '../ControlHeader';\n\nexport const DEFAULT_VIEWPORT = {\n  longitude: 6.85236157047845,\n  latitude: 31.222656842808707,\n  zoom: 1,\n  bearing: 0,\n  pitch: 0,\n};\n\nconst PARAMS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\n\nconst propTypes = {\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.shape({\n    longitude: PropTypes.number,\n    latitude: PropTypes.number,\n    zoom: PropTypes.number,\n    bearing: PropTypes.number,\n    pitch: PropTypes.number,\n  }),\n  default: PropTypes.object,\n  name: PropTypes.string.isRequired,\n};\n\nconst defaultProps = {\n  onChange: () => {},\n  default: { type: 'fix', value: 5 },\n  value: DEFAULT_VIEWPORT,\n};\n\nexport default class ViewportControl extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n  }\n  onChange(ctrl, value) {\n    this.props.onChange({\n      ...this.props.value,\n      [ctrl]: value,\n    });\n  }\n  renderTextControl(ctrl) {\n    return (\n      <div key={ctrl}>\n        {ctrl}\n        <TextControl\n          value={this.props.value[ctrl]}\n          onChange={this.onChange.bind(this, ctrl)}\n          isFloat\n        />\n      </div>\n    );\n  }\n  renderPopover() {\n    return (\n      <Popover id={`filter-popover-${this.props.name}`} title=\"Viewport\">\n        {PARAMS.map(ctrl => this.renderTextControl(ctrl))}\n      </Popover>\n    );\n  }\n  renderLabel() {\n    if (this.props.value.longitude && this.props.value.latitude) {\n      return (\n        decimal2sexagesimal(this.props.value.longitude) +\n        ' | ' +\n        decimal2sexagesimal(this.props.value.latitude)\n      );\n    }\n    return 'N/A';\n  }\n  render() {\n    return (\n      <div>\n        <ControlHeader {...this.props} />\n        <OverlayTrigger\n          container={document.body}\n          trigger=\"click\"\n          rootClose\n          ref=\"trigger\"\n          placement=\"right\"\n          overlay={this.renderPopover()}\n        >\n          <Label style={{ cursor: 'pointer' }}>{this.renderLabel()}</Label>\n        </OverlayTrigger>\n      </div>\n    );\n  }\n}\n\nViewportControl.propTypes = propTypes;\nViewportControl.defaultProps = defaultProps;\n"]},"metadata":{},"sourceType":"module"}