{"ast":null,"code":"import _Object$assign from \"@babel/runtime-corejs3/core-js-stable/object/assign\";import _filterInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/filter\";import _indexOfInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/index-of\";var _jsxFileName = \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   */\n\n// These are control configurations that are shared ONLY within the DeckGL viz plugin repo.\n\nimport React from 'react';\nimport { t } from '@superset-ui/translation';\nimport { validateNonEmpty } from '@superset-ui/validator';\nimport { ColumnOption } from '@superset-ui/chart-controls';\nimport { D3_FORMAT_OPTIONS, columnChoices, PRIMARY_COLOR } from '../controls';\nimport { DEFAULT_VIEWPORT } from '../../explore/components/controls/ViewportControl';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst timeColumnOption = {\n  verbose_name: 'Time',\n  column_name: '__timestamp',\n  description: t(\n  'A reference to the [Time] configuration, taking granularity into ' +\n  'account') };\n\n\n\nconst groupByControl = {\n  type: 'SelectControl',\n  multi: true,\n  freeForm: true,\n  label: t('Group by'),\n  default: [],\n  includeTime: false,\n  description: t('One or many controls to group by'),\n  optionRenderer: c => ___EmotionJSX(ColumnOption, { column: c, showType: true, __source: { fileName: _jsxFileName, lineNumber: 46 }, __self: this }),\n  valueRenderer: c => ___EmotionJSX(ColumnOption, { column: c, __source: { fileName: _jsxFileName, lineNumber: 47 }, __self: this }),\n  valueKey: 'column_name',\n  allowAll: true,\n  filterOption: (opt, text) => {var _context, _context2;return (\n      opt.column_name &&\n      _indexOfInstanceProperty(_context = opt.column_name.toLowerCase()).call(_context, text.toLowerCase()) >= 0 ||\n      opt.verbose_name &&\n      _indexOfInstanceProperty(_context2 = opt.verbose_name.toLowerCase()).call(_context2, text.toLowerCase()) >= 0);},\n  promptTextCreator: label => label,\n  mapStateToProps: (state, control) => {\n    const newState = {};\n    if (state.datasource) {var _context3;\n      newState.options = _filterInstanceProperty(_context3 = state.datasource.columns).call(_context3, c => c.groupby);\n      if (control && control.includeTime) {\n        newState.options.push(timeColumnOption);\n      }\n    }\n    return newState;\n  },\n  commaChoosesOption: false };\n\n\nconst sandboxUrl =\n'https://github.com/apache/incubator-superset/' +\n'blob/master/superset-frontend/src/modules/sandbox.js';\nconst jsFunctionInfo =\n___EmotionJSX(\"div\", { __source: { fileName: _jsxFileName, lineNumber: 73 }, __self: this },\nt(\n'For more information about objects are in context in the scope of this function, refer to the'),\n\n___EmotionJSX(\"a\", { href: sandboxUrl, __source: { fileName: _jsxFileName, lineNumber: 77 }, __self: this }, t(\" source code of Superset's sandboxed parser\"), \".\"), \".\");\n\n\n\n\nfunction jsFunctionControl(\nlabel,\ndescription,\nextraDescr = null,\nheight = 100,\ndefaultText = '')\n{\n  return {\n    type: 'TextAreaControl',\n    language: 'javascript',\n    label,\n    description,\n    height,\n    default: defaultText,\n    aboveEditorSection:\n    ___EmotionJSX(\"div\", { __source: { fileName: _jsxFileName, lineNumber: 97 }, __self: this },\n    ___EmotionJSX(\"p\", { __source: { fileName: _jsxFileName, lineNumber: 98 }, __self: this }, description),\n    ___EmotionJSX(\"p\", { __source: { fileName: _jsxFileName, lineNumber: 99 }, __self: this }, jsFunctionInfo),\n    extraDescr),\n\n\n    mapStateToProps: state => ({\n      warning: !state.common.conf.ENABLE_JAVASCRIPT_CONTROLS ?\n      t(\n      'This functionality is disabled in your environment for security reasons.') :\n\n      null,\n      readOnly: !state.common.conf.ENABLE_JAVASCRIPT_CONTROLS }) };\n\n\n}\n\nexport const filterNulls = {\n  name: 'filter_nulls',\n  config: {\n    type: 'CheckboxControl',\n    label: t('Ignore null locations'),\n    default: true,\n    description: t('Whether to ignore locations that are null') } };\n\n\n\nexport const autozoom = {\n  name: 'autozoom',\n  config: {\n    type: 'CheckboxControl',\n    label: t('Auto Zoom'),\n    default: true,\n    renderTrigger: true,\n    description: t(\n    'When checked, the map will zoom to your data after each query') } };\n\n\n\n\nexport const dimension = {\n  name: 'dimension',\n  config: _Object$assign({},\n  groupByControl, {\n    label: t('Dimension'),\n    description: t('Select a dimension'),\n    multi: false,\n    default: null }) };\n\n\n\nexport const jsColumns = {\n  name: 'js_columns',\n  config: _Object$assign({},\n  groupByControl, {\n    label: t('Extra data for JS'),\n    default: [],\n    description: t(\n    'List of extra columns made available in Javascript functions') }) };\n\n\n\n\nexport const jsDataMutator = {\n  name: 'js_data_mutator',\n  config: jsFunctionControl(\n  t('Javascript data interceptor'),\n  t(\n  'Define a javascript function that receives the data array used in the visualization ' +\n  'and is expected to return a modified version of that array. This can be used ' +\n  'to alter properties of the data, filter, or enrich the array.')) };\n\n\n\n\nexport const jsTooltip = {\n  name: 'js_tooltip',\n  config: jsFunctionControl(\n  t('Javascript tooltip generator'),\n  t(\n  'Define a function that receives the input and outputs the content for a tooltip')) };\n\n\n\n\nexport const jsOnclickHref = {\n  name: 'js_onclick_href',\n  config: jsFunctionControl(\n  t('Javascript onClick href'),\n  t('Define a function that returns a URL to navigate to when user clicks')) };\n\n\n\nexport const legendFormat = {\n  name: 'legend_format',\n  config: {\n    label: t('Legend Format'),\n    description: t('Choose the format for legend values'),\n    type: 'SelectControl',\n    clearable: false,\n    default: D3_FORMAT_OPTIONS[0],\n    choices: D3_FORMAT_OPTIONS,\n    renderTrigger: true } };\n\n\n\nexport const legendPosition = {\n  name: 'legend_position',\n  config: {\n    label: t('Legend Position'),\n    description: t('Choose the position of the legend'),\n    type: 'SelectControl',\n    clearable: false,\n    default: 'tr',\n    choices: [\n    [null, 'None'],\n    ['tl', 'Top left'],\n    ['tr', 'Top right'],\n    ['bl', 'Bottom left'],\n    ['br', 'Bottom right']],\n\n    renderTrigger: true } };\n\n\n\nexport const lineColumn = {\n  name: 'line_column',\n  config: {\n    type: 'SelectControl',\n    label: t('Lines column'),\n    default: null,\n    description: t('The database columns that contains lines information'),\n    mapStateToProps: state => ({\n      choices: columnChoices(state.datasource) }),\n\n    validators: [validateNonEmpty] } };\n\n\n\nexport const lineWidth = {\n  name: 'line_width',\n  config: {\n    type: 'TextControl',\n    label: t('Line width'),\n    renderTrigger: true,\n    isInt: true,\n    default: 10,\n    description: t('The width of the lines') } };\n\n\n\nexport const fillColorPicker = {\n  name: 'fill_color_picker',\n  config: {\n    label: t('Fill Color'),\n    description: t(\n    ' Set the opacity to 0 if you do not want to override the color specified in the GeoJSON'),\n\n    type: 'ColorPickerControl',\n    default: PRIMARY_COLOR,\n    renderTrigger: true } };\n\n\n\nexport const strokeColorPicker = {\n  name: 'stroke_color_picker',\n  config: {\n    label: t('Stroke Color'),\n    description: t(\n    ' Set the opacity to 0 if you do not want to override the color specified in the GeoJSON'),\n\n    type: 'ColorPickerControl',\n    default: PRIMARY_COLOR,\n    renderTrigger: true } };\n\n\n\nexport const filled = {\n  name: 'filled',\n  config: {\n    type: 'CheckboxControl',\n    label: t('Filled'),\n    renderTrigger: true,\n    description: t('Whether to fill the objects'),\n    default: true } };\n\n\n\nexport const stroked = {\n  name: 'stroked',\n  config: {\n    type: 'CheckboxControl',\n    label: t('Stroked'),\n    renderTrigger: true,\n    description: t('Whether to display the stroke'),\n    default: false } };\n\n\n\nexport const extruded = {\n  name: 'extruded',\n  config: {\n    type: 'CheckboxControl',\n    label: t('Extruded'),\n    renderTrigger: true,\n    default: true,\n    description: 'Whether to make the grid 3D' } };\n\n\n\nexport const gridSize = {\n  name: 'grid_size',\n  config: {\n    type: 'TextControl',\n    label: t('Grid Size'),\n    renderTrigger: true,\n    default: 20,\n    isInt: true,\n    description: t('Defines the grid size in pixels') } };\n\n\n\nexport const viewport = {\n  name: 'viewport',\n  config: {\n    type: 'ViewportControl',\n    label: t('Viewport'),\n    renderTrigger: false,\n    description: t('Parameters related to the view and perspective on the map'),\n    // default is whole world mostly centered\n    default: DEFAULT_VIEWPORT,\n    // Viewport changes shouldn't prompt user to re-run query\n    dontRefreshOnChange: true } };\n\n\n\nexport const spatial = {\n  name: 'spatial',\n  config: {\n    type: 'SpatialControl',\n    label: t('Longitude & Latitude'),\n    validators: [validateNonEmpty],\n    description: t('Point to your spatial columns'),\n    mapStateToProps: state => ({\n      choices: columnChoices(state.datasource) }) } };\n\n\n\n\nexport const pointRadiusFixed = {\n  name: 'point_radius_fixed',\n  config: {\n    type: 'FixedOrMetricControl',\n    label: t('Point Size'),\n    default: { type: 'fix', value: 1000 },\n    description: t('Fixed point radius'),\n    mapStateToProps: state => ({\n      datasource: state.datasource }) } };\n\n\n\n\nexport const multiplier = {\n  name: 'multiplier',\n  config: {\n    type: 'TextControl',\n    label: t('Multiplier'),\n    isFloat: true,\n    renderTrigger: true,\n    default: 1,\n    description: t('Factor to multiply the metric by') } };\n\n\n\nexport const lineType = {\n  name: 'line_type',\n  config: {\n    type: 'SelectControl',\n    label: t('Lines encoding'),\n    clearable: false,\n    default: 'json',\n    description: t('The encoding format of the lines'),\n    choices: [\n    ['polyline', 'Polyline'],\n    ['json', 'JSON'],\n    ['geohash', 'geohash (square)']] } };\n\n\n\n\nexport const reverseLongLat = {\n  name: 'reverse_long_lat',\n  config: {\n    type: 'CheckboxControl',\n    label: t('Reverse Lat & Long'),\n    default: false } };\n\n\n\nexport const mapboxStyle = {\n  name: 'mapbox_style',\n  config: {\n    type: 'SelectControl',\n    label: t('Map Style'),\n    clearable: false,\n    renderTrigger: true,\n    choices: [\n    ['mapbox://styles/mapbox/streets-v9', 'Streets'],\n    ['mapbox://styles/mapbox/dark-v9', 'Dark'],\n    ['mapbox://styles/mapbox/light-v9', 'Light'],\n    ['mapbox://styles/mapbox/satellite-streets-v9', 'Satellite Streets'],\n    ['mapbox://styles/mapbox/satellite-v9', 'Satellite'],\n    ['mapbox://styles/mapbox/outdoors-v9', 'Outdoors']],\n\n    default: 'mapbox://styles/mapbox/light-v9',\n    description: t('Base layer map style') } };;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(timeColumnOption, \"timeColumnOption\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(groupByControl, \"groupByControl\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(sandboxUrl, \"sandboxUrl\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(jsFunctionInfo, \"jsFunctionInfo\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(jsFunctionControl, \"jsFunctionControl\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(filterNulls, \"filterNulls\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(autozoom, \"autozoom\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(dimension, \"dimension\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(jsColumns, \"jsColumns\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(jsDataMutator, \"jsDataMutator\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(jsTooltip, \"jsTooltip\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(jsOnclickHref, \"jsOnclickHref\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(legendFormat, \"legendFormat\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(legendPosition, \"legendPosition\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(lineColumn, \"lineColumn\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(lineWidth, \"lineWidth\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(fillColorPicker, \"fillColorPicker\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(strokeColorPicker, \"strokeColorPicker\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(filled, \"filled\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(stroked, \"stroked\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(extruded, \"extruded\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(gridSize, \"gridSize\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(viewport, \"viewport\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(spatial, \"spatial\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(pointRadiusFixed, \"pointRadiusFixed\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(multiplier, \"multiplier\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(lineType, \"lineType\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(reverseLongLat, \"reverseLongLat\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");reactHotLoader.register(mapboxStyle, \"mapboxStyle\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/controlPanels/Shared_DeckGL.jsx"],"names":["React","t","validateNonEmpty","ColumnOption","D3_FORMAT_OPTIONS","columnChoices","PRIMARY_COLOR","DEFAULT_VIEWPORT","timeColumnOption","verbose_name","column_name","description","groupByControl","type","multi","freeForm","label","default","includeTime","optionRenderer","c","valueRenderer","valueKey","allowAll","filterOption","opt","text","toLowerCase","promptTextCreator","mapStateToProps","state","control","newState","datasource","options","columns","groupby","push","commaChoosesOption","sandboxUrl","jsFunctionInfo","jsFunctionControl","extraDescr","height","defaultText","language","aboveEditorSection","warning","common","conf","ENABLE_JAVASCRIPT_CONTROLS","readOnly","filterNulls","name","config","autozoom","renderTrigger","dimension","jsColumns","jsDataMutator","jsTooltip","jsOnclickHref","legendFormat","clearable","choices","legendPosition","lineColumn","validators","lineWidth","isInt","fillColorPicker","strokeColorPicker","filled","stroked","extruded","gridSize","viewport","dontRefreshOnChange","spatial","pointRadiusFixed","value","multiplier","isFloat","lineType","reverseLongLat","mapboxStyle"],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n// These are control configurations that are shared ONLY within the DeckGL viz plugin repo.\n\nimport React from 'react';\nimport { t } from '@superset-ui/translation';\nimport { validateNonEmpty } from '@superset-ui/validator';\nimport { ColumnOption } from '@superset-ui/chart-controls';\nimport { D3_FORMAT_OPTIONS, columnChoices, PRIMARY_COLOR } from '../controls';\nimport { DEFAULT_VIEWPORT } from '../../explore/components/controls/ViewportControl';\n\nconst timeColumnOption = {\n  verbose_name: 'Time',\n  column_name: '__timestamp',\n  description: t(\n    'A reference to the [Time] configuration, taking granularity into ' +\n      'account',\n  ),\n};\n\nconst groupByControl = {\n  type: 'SelectControl',\n  multi: true,\n  freeForm: true,\n  label: t('Group by'),\n  default: [],\n  includeTime: false,\n  description: t('One or many controls to group by'),\n  optionRenderer: c => <ColumnOption column={c} showType />,\n  valueRenderer: c => <ColumnOption column={c} />,\n  valueKey: 'column_name',\n  allowAll: true,\n  filterOption: (opt, text) =>\n    (opt.column_name &&\n      opt.column_name.toLowerCase().indexOf(text.toLowerCase()) >= 0) ||\n    (opt.verbose_name &&\n      opt.verbose_name.toLowerCase().indexOf(text.toLowerCase()) >= 0),\n  promptTextCreator: label => label,\n  mapStateToProps: (state, control) => {\n    const newState = {};\n    if (state.datasource) {\n      newState.options = state.datasource.columns.filter(c => c.groupby);\n      if (control && control.includeTime) {\n        newState.options.push(timeColumnOption);\n      }\n    }\n    return newState;\n  },\n  commaChoosesOption: false,\n};\n\nconst sandboxUrl =\n  'https://github.com/apache/incubator-superset/' +\n  'blob/master/superset-frontend/src/modules/sandbox.js';\nconst jsFunctionInfo = (\n  <div>\n    {t(\n      'For more information about objects are in context in the scope of this function, refer to the',\n    )}\n    <a href={sandboxUrl}>{t(\" source code of Superset's sandboxed parser\")}.</a>\n    .\n  </div>\n);\n\nfunction jsFunctionControl(\n  label,\n  description,\n  extraDescr = null,\n  height = 100,\n  defaultText = '',\n) {\n  return {\n    type: 'TextAreaControl',\n    language: 'javascript',\n    label,\n    description,\n    height,\n    default: defaultText,\n    aboveEditorSection: (\n      <div>\n        <p>{description}</p>\n        <p>{jsFunctionInfo}</p>\n        {extraDescr}\n      </div>\n    ),\n    mapStateToProps: state => ({\n      warning: !state.common.conf.ENABLE_JAVASCRIPT_CONTROLS\n        ? t(\n            'This functionality is disabled in your environment for security reasons.',\n          )\n        : null,\n      readOnly: !state.common.conf.ENABLE_JAVASCRIPT_CONTROLS,\n    }),\n  };\n}\n\nexport const filterNulls = {\n  name: 'filter_nulls',\n  config: {\n    type: 'CheckboxControl',\n    label: t('Ignore null locations'),\n    default: true,\n    description: t('Whether to ignore locations that are null'),\n  },\n};\n\nexport const autozoom = {\n  name: 'autozoom',\n  config: {\n    type: 'CheckboxControl',\n    label: t('Auto Zoom'),\n    default: true,\n    renderTrigger: true,\n    description: t(\n      'When checked, the map will zoom to your data after each query',\n    ),\n  },\n};\n\nexport const dimension = {\n  name: 'dimension',\n  config: {\n    ...groupByControl,\n    label: t('Dimension'),\n    description: t('Select a dimension'),\n    multi: false,\n    default: null,\n  },\n};\n\nexport const jsColumns = {\n  name: 'js_columns',\n  config: {\n    ...groupByControl,\n    label: t('Extra data for JS'),\n    default: [],\n    description: t(\n      'List of extra columns made available in Javascript functions',\n    ),\n  },\n};\n\nexport const jsDataMutator = {\n  name: 'js_data_mutator',\n  config: jsFunctionControl(\n    t('Javascript data interceptor'),\n    t(\n      'Define a javascript function that receives the data array used in the visualization ' +\n        'and is expected to return a modified version of that array. This can be used ' +\n        'to alter properties of the data, filter, or enrich the array.',\n    ),\n  ),\n};\n\nexport const jsTooltip = {\n  name: 'js_tooltip',\n  config: jsFunctionControl(\n    t('Javascript tooltip generator'),\n    t(\n      'Define a function that receives the input and outputs the content for a tooltip',\n    ),\n  ),\n};\n\nexport const jsOnclickHref = {\n  name: 'js_onclick_href',\n  config: jsFunctionControl(\n    t('Javascript onClick href'),\n    t('Define a function that returns a URL to navigate to when user clicks'),\n  ),\n};\n\nexport const legendFormat = {\n  name: 'legend_format',\n  config: {\n    label: t('Legend Format'),\n    description: t('Choose the format for legend values'),\n    type: 'SelectControl',\n    clearable: false,\n    default: D3_FORMAT_OPTIONS[0],\n    choices: D3_FORMAT_OPTIONS,\n    renderTrigger: true,\n  },\n};\n\nexport const legendPosition = {\n  name: 'legend_position',\n  config: {\n    label: t('Legend Position'),\n    description: t('Choose the position of the legend'),\n    type: 'SelectControl',\n    clearable: false,\n    default: 'tr',\n    choices: [\n      [null, 'None'],\n      ['tl', 'Top left'],\n      ['tr', 'Top right'],\n      ['bl', 'Bottom left'],\n      ['br', 'Bottom right'],\n    ],\n    renderTrigger: true,\n  },\n};\n\nexport const lineColumn = {\n  name: 'line_column',\n  config: {\n    type: 'SelectControl',\n    label: t('Lines column'),\n    default: null,\n    description: t('The database columns that contains lines information'),\n    mapStateToProps: state => ({\n      choices: columnChoices(state.datasource),\n    }),\n    validators: [validateNonEmpty],\n  },\n};\n\nexport const lineWidth = {\n  name: 'line_width',\n  config: {\n    type: 'TextControl',\n    label: t('Line width'),\n    renderTrigger: true,\n    isInt: true,\n    default: 10,\n    description: t('The width of the lines'),\n  },\n};\n\nexport const fillColorPicker = {\n  name: 'fill_color_picker',\n  config: {\n    label: t('Fill Color'),\n    description: t(\n      ' Set the opacity to 0 if you do not want to override the color specified in the GeoJSON',\n    ),\n    type: 'ColorPickerControl',\n    default: PRIMARY_COLOR,\n    renderTrigger: true,\n  },\n};\n\nexport const strokeColorPicker = {\n  name: 'stroke_color_picker',\n  config: {\n    label: t('Stroke Color'),\n    description: t(\n      ' Set the opacity to 0 if you do not want to override the color specified in the GeoJSON',\n    ),\n    type: 'ColorPickerControl',\n    default: PRIMARY_COLOR,\n    renderTrigger: true,\n  },\n};\n\nexport const filled = {\n  name: 'filled',\n  config: {\n    type: 'CheckboxControl',\n    label: t('Filled'),\n    renderTrigger: true,\n    description: t('Whether to fill the objects'),\n    default: true,\n  },\n};\n\nexport const stroked = {\n  name: 'stroked',\n  config: {\n    type: 'CheckboxControl',\n    label: t('Stroked'),\n    renderTrigger: true,\n    description: t('Whether to display the stroke'),\n    default: false,\n  },\n};\n\nexport const extruded = {\n  name: 'extruded',\n  config: {\n    type: 'CheckboxControl',\n    label: t('Extruded'),\n    renderTrigger: true,\n    default: true,\n    description: 'Whether to make the grid 3D',\n  },\n};\n\nexport const gridSize = {\n  name: 'grid_size',\n  config: {\n    type: 'TextControl',\n    label: t('Grid Size'),\n    renderTrigger: true,\n    default: 20,\n    isInt: true,\n    description: t('Defines the grid size in pixels'),\n  },\n};\n\nexport const viewport = {\n  name: 'viewport',\n  config: {\n    type: 'ViewportControl',\n    label: t('Viewport'),\n    renderTrigger: false,\n    description: t('Parameters related to the view and perspective on the map'),\n    // default is whole world mostly centered\n    default: DEFAULT_VIEWPORT,\n    // Viewport changes shouldn't prompt user to re-run query\n    dontRefreshOnChange: true,\n  },\n};\n\nexport const spatial = {\n  name: 'spatial',\n  config: {\n    type: 'SpatialControl',\n    label: t('Longitude & Latitude'),\n    validators: [validateNonEmpty],\n    description: t('Point to your spatial columns'),\n    mapStateToProps: state => ({\n      choices: columnChoices(state.datasource),\n    }),\n  },\n};\n\nexport const pointRadiusFixed = {\n  name: 'point_radius_fixed',\n  config: {\n    type: 'FixedOrMetricControl',\n    label: t('Point Size'),\n    default: { type: 'fix', value: 1000 },\n    description: t('Fixed point radius'),\n    mapStateToProps: state => ({\n      datasource: state.datasource,\n    }),\n  },\n};\n\nexport const multiplier = {\n  name: 'multiplier',\n  config: {\n    type: 'TextControl',\n    label: t('Multiplier'),\n    isFloat: true,\n    renderTrigger: true,\n    default: 1,\n    description: t('Factor to multiply the metric by'),\n  },\n};\n\nexport const lineType = {\n  name: 'line_type',\n  config: {\n    type: 'SelectControl',\n    label: t('Lines encoding'),\n    clearable: false,\n    default: 'json',\n    description: t('The encoding format of the lines'),\n    choices: [\n      ['polyline', 'Polyline'],\n      ['json', 'JSON'],\n      ['geohash', 'geohash (square)'],\n    ],\n  },\n};\n\nexport const reverseLongLat = {\n  name: 'reverse_long_lat',\n  config: {\n    type: 'CheckboxControl',\n    label: t('Reverse Lat & Long'),\n    default: false,\n  },\n};\n\nexport const mapboxStyle = {\n  name: 'mapbox_style',\n  config: {\n    type: 'SelectControl',\n    label: t('Map Style'),\n    clearable: false,\n    renderTrigger: true,\n    choices: [\n      ['mapbox://styles/mapbox/streets-v9', 'Streets'],\n      ['mapbox://styles/mapbox/dark-v9', 'Dark'],\n      ['mapbox://styles/mapbox/light-v9', 'Light'],\n      ['mapbox://styles/mapbox/satellite-streets-v9', 'Satellite Streets'],\n      ['mapbox://styles/mapbox/satellite-v9', 'Satellite'],\n      ['mapbox://styles/mapbox/outdoors-v9', 'Outdoors'],\n    ],\n    default: 'mapbox://styles/mapbox/light-v9',\n    description: t('Base layer map style'),\n  },\n};\n"]},"metadata":{},"sourceType":"module"}