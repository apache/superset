---
title: MCP Service Overview
sidebar_position: 1
version: 1
---

# Superset MCP Service

The Superset Model Context Protocol (MCP) service provides a modular, schema-driven interface for programmatic access to Superset dashboards, charts, datasets, and instance metadata. Built on FastMCP, it's designed for LLM agents and automation tools.

**Status:** ‚úÖ Phase 1 Complete. Core functionality stable, authentication production-ready, comprehensive testing coverage.

## What is MCP?

The Model Context Protocol (MCP) is an open standard for connecting AI assistants to data sources and tools. Superset's MCP service exposes 16 tools that allow LLM agents to:

- **Explore data**: List and query dashboards, charts, and datasets
- **Create visualizations**: Generate charts and dashboards programmatically
- **Export data**: Extract chart data in multiple formats
- **Navigate interfaces**: Generate explore links and SQL Lab sessions

## Key Features

### üîß **16 Production-Ready Tools**
- **Dashboard Tools (5)**: List, get info, create dashboards, add charts
- **Chart Tools (8)**: Full CRUD operations, data export, screenshot previews
- **Dataset Tools (3)**: List, get info, discover filterable columns
- **System Tools (2)**: Instance info, explore link generation
- **SQL Lab Tools (1)**: Pre-configured SQL sessions

### üîê **Enterprise Authentication**
- **JWT Bearer Authentication**: Production-ready with configurable factory pattern
- **RBAC Integration**: Scope-based permissions with Superset's security model
- **Audit Logging**: Comprehensive MCP context tracking with impersonation support

### üìä **Advanced Capabilities**
- **Multi-format Export**: JSON, CSV, Excel data export
- **Chart Previews**: Screenshots, ASCII art, and table representations
- **Cache Control**: Comprehensive control over Superset's cache layers
- **Request Schema Pattern**: Eliminates LLM parameter validation issues

## Architecture Overview

```mermaid
graph TB
    subgraph "Client Layer"
        LLM[LLM/Agent Client]
        Claude[Claude Desktop]
        SDK[Custom SDK]
    end

    subgraph "MCP Service Layer"
        FastMCP[FastMCP Server<br/>Port 5008]
        Auth[JWT Auth Hook]
        Tools[16 MCP Tools]
    end

    subgraph "Superset Integration"
        DAOs[Superset DAOs]
        Commands[Superset Commands]
        Cache[Cache Layer]
    end

    subgraph "Data Layer"
        DB[(Superset Database)]
        DataWarehouse[(Data Warehouse)]
    end

    LLM --> FastMCP
    Claude --> FastMCP
    SDK --> FastMCP

    FastMCP --> Auth
    Auth --> Tools

    Tools --> DAOs
    Tools --> Commands
    Tools --> Cache

    DAOs --> DB
    Commands --> DB
    Commands --> DataWarehouse
```

## Getting Started

### Quick Setup

```bash
# Clone and install Superset
git clone https://github.com/apache/superset.git
cd superset
make venv && source venv/bin/activate
make install

# Start Superset
superset run -p 8088 --with-threads --reload --debugger

# Start MCP service (in separate terminal)
source venv/bin/activate
superset mcp run --port 5008 --debug
```

### Connect to Claude Desktop

:::note
The MCP service runs on HTTP and requires a proxy for Claude Desktop integration.
:::

```bash
# Install FastMCP proxy
pip install fastmcp
```

Configure Claude Desktop (`~/.config/Claude/claude_desktop_config.json`):

```json
{
  "mcpServers": {
    "Superset MCP": {
      "command": "/path/to/superset/superset/mcp_service/run_proxy.sh",
      "args": [],
      "env": {}
    }
  }
}
```

## Use Cases

### Data Exploration
- "List all dashboards related to sales"
- "Show me the charts in the Q4 Performance dashboard"
- "What datasets are available for customer analysis?"

### Chart Creation
- "Create a line chart showing revenue trends by month"
- "Generate a table showing top 10 products by sales"
- "Build a bar chart comparing regional performance"

### Data Export
- "Export the sales data from this chart as CSV"
- "Get the underlying data for this dashboard as JSON"
- "Show me a preview of this chart as ASCII art"

### Dashboard Management
- "Create a new dashboard with these 4 charts"
- "Add this revenue chart to the executive dashboard"
- "Generate an explore link for this chart configuration"

## Example Workflow

```python
# List available dashboards
dashboards = client.call_tool("list_dashboards", {
    "search": "sales",
    "page_size": 10
})

# Get detailed dashboard info
dashboard = client.call_tool("get_dashboard_info", {
    "identifier": dashboards["dashboards"][0]["id"]
})

# Create a new chart
chart = client.call_tool("generate_chart", {
    "dataset_id": "1",
    "config": {
        "chart_type": "line",
        "x": {"name": "date"},
        "y": [{"name": "revenue", "aggregate": "SUM"}]
    }
})

# Export chart data
data = client.call_tool("get_chart_data", {
    "identifier": chart["chart_id"],
    "format": "json",
    "limit": 1000
})
```

## Next Steps

### Ready to Use MCP?
- **[üìö API Reference](./api-reference)** - Try all 16 tools with request/response examples
- **[üîê Authentication](./authentication)** - Set up JWT security for production use

### Want to Extend MCP?
- **[üîß Development Guide](./development)** - Learn internal architecture and add new tools
- **[üèóÔ∏è Architecture](./architecture)** - Understand system design and deployment patterns

### Enterprise Deployment?
- **[üè¢ Preset Integration](./preset-integration)** - RBAC extensions and OIDC integration for enterprise

> üí° **Getting started?** Return to the [MCP Service intro](./intro) for a complete overview.
