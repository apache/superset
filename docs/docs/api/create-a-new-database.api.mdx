---
id: create-a-new-database
title: "Create a new database"
description: "Create a new database"
sidebar_label: "Create a new database"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/superset
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";
import Translate from "@docusaurus/Translate";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create a new database"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/v1/database/"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a new database

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
>
  <Translate id="theme.openapi.request.title">Request</Translate>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"properties":{"allow_ctas":{"description":"Allow CREATE TABLE AS option in SQL Lab","type":"boolean"},"allow_cvas":{"description":"Allow CREATE VIEW AS option in SQL Lab","type":"boolean"},"allow_dml":{"description":"Allow users to run non-SELECT statements (UPDATE, DELETE, CREATE, ...) in SQL Lab","type":"boolean"},"allow_file_upload":{"description":"Allow to upload CSV file data into this databaseIf selected, please set the schemas allowed for csv upload in Extra.","type":"boolean"},"allow_run_async":{"description":"Operate the database in asynchronous mode, meaning that the queries are executed on remote workers as opposed to on the web server itself. This assumes that you have a Celery worker setup as well as a results backend. Refer to the installation docs for more information.","type":"boolean"},"cache_timeout":{"description":"Duration (in seconds) of the caching timeout for charts of this database. A timeout of 0 indicates that the cache never expires. Note this defaults to the global timeout if undefined.","nullable":true,"type":"integer"},"configuration_method":{"default":"sqlalchemy_form","description":"Configuration_method is used on the frontend to inform the backend whether to explode parameters or to provide only a sqlalchemy_uri.","enum":["sqlalchemy_form","dynamic_form"]},"database_name":{"description":"A database name to identify this connection.","maxLength":250,"minLength":1,"type":"string"},"driver":{"description":"SQLAlchemy driver to use","nullable":true,"type":"string"},"engine":{"description":"SQLAlchemy engine to use","nullable":true,"type":"string"},"expose_in_sqllab":{"description":"Expose this database to SQLLab","type":"boolean"},"external_url":{"nullable":true,"type":"string"},"extra":{"description":"<p>JSON string containing extra configuration elements.<br>1. The <code>engine_params</code> object gets unpacked into the <a href=\"https://docs.sqlalchemy.org/en/latest/core/engines.html#sqlalchemy.create_engine\" rel=\"noopener noreferrer\">sqlalchemy.create_engine</a> call, while the <code>metadata_params</code> gets unpacked into the <a href=\"https://docs.sqlalchemy.org/en/rel_1_0/core/metadata.html#sqlalchemy.schema.MetaData\" rel=\"noopener noreferrer\">sqlalchemy.MetaData</a> call.<br>2. The <code>metadata_cache_timeout</code> is a cache timeout setting in seconds for metadata fetch of this database. Specify it as <strong>\"metadata_cache_timeout\": {\"schema_cache_timeout\": 600, \"table_cache_timeout\": 600}</strong>. If unset, cache will not be enabled for the functionality. A timeout of 0 indicates that the cache never expires.<br>3. The <code>schemas_allowed_for_file_upload</code> is a comma separated list of schemas that CSVs are allowed to upload to. Specify it as <strong>\"schemas_allowed_for_file_upload\": [\"public\", \"csv_upload\"]</strong>. If database flavor does not support schema or any schema is allowed to be accessed, just leave the list empty<br>4. The <code>version</code> field is a string specifying the this db's version. This should be used with Presto DBs so that the syntax is correct<br>5. The <code>allows_virtual_table_explore</code> field is a boolean specifying whether or not the Explore button in SQL Lab results is shown.<br>6. The <code>disable_data_preview</code> field is a boolean specifying whether or not data preview queries will be run when fetching table metadata in SQL Lab.7. The <code>disable_drill_to_detail</code> field is a boolean specifying whether or notdrill to detail is disabled for the database.8. The <code>allow_multi_catalog</code> indicates if the database allows changing the default catalog when running queries and creating datasets.</p>","type":"string"},"force_ctas_schema":{"description":"When allowing CREATE TABLE AS option in SQL Lab, this option forces the table to be created in this schema","maxLength":250,"minLength":0,"nullable":true,"type":"string"},"impersonate_user":{"description":"If Presto, all the queries in SQL Lab are going to be executed as the currently logged on user who must have permission to run them.<br/>If Hive and hive.server2.enable.doAs is enabled, will run the queries as service account, but impersonate the currently logged on user via hive.server2.proxy.user property.","type":"boolean"},"is_managed_externally":{"nullable":true,"type":"boolean"},"masked_encrypted_extra":{"description":"<p>JSON string containing additional connection configuration.<br>This is used to provide connection information for systems like Hive, Presto, and BigQuery, which do not conform to the username:password syntax normally used by SQLAlchemy.</p>","nullable":true,"type":"string"},"parameters":{"additionalProperties":{},"description":"DB-specific parameters for configuration","type":"object"},"server_cert":{"description":"<p>Optional CA_BUNDLE contents to validate HTTPS requests. Only available on certain database engines.</p>","nullable":true,"type":"string"},"sqlalchemy_uri":{"description":"<p>Refer to the <a href=\"https://docs.sqlalchemy.org/en/rel_1_2/core/engines.html#database-urls\" rel=\"noopener noreferrer\">SqlAlchemy docs</a> for more information on how to structure your URI.</p>","maxLength":1024,"minLength":1,"type":"string"},"ssh_tunnel":{"allOf":[{"properties":{"id":{"description":"SSH Tunnel ID (for updates)","nullable":true,"type":"integer"},"password":{"type":"string"},"private_key":{"type":"string"},"private_key_password":{"type":"string"},"server_address":{"type":"string"},"server_port":{"type":"integer"},"username":{"type":"string"}},"type":"object","title":"DatabaseSSHTunnel"}],"nullable":true},"uuid":{"type":"string"}},"required":["database_name"],"type":"object","title":"DatabaseRestApi.post"}}},"description":"Database schema","required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"content":{"application/json":{"schema":{"properties":{"id":{"type":"number"},"result":{"properties":{"allow_ctas":{"description":"Allow CREATE TABLE AS option in SQL Lab","type":"boolean"},"allow_cvas":{"description":"Allow CREATE VIEW AS option in SQL Lab","type":"boolean"},"allow_dml":{"description":"Allow users to run non-SELECT statements (UPDATE, DELETE, CREATE, ...) in SQL Lab","type":"boolean"},"allow_file_upload":{"description":"Allow to upload CSV file data into this databaseIf selected, please set the schemas allowed for csv upload in Extra.","type":"boolean"},"allow_run_async":{"description":"Operate the database in asynchronous mode, meaning that the queries are executed on remote workers as opposed to on the web server itself. This assumes that you have a Celery worker setup as well as a results backend. Refer to the installation docs for more information.","type":"boolean"},"cache_timeout":{"description":"Duration (in seconds) of the caching timeout for charts of this database. A timeout of 0 indicates that the cache never expires. Note this defaults to the global timeout if undefined.","nullable":true,"type":"integer"},"configuration_method":{"default":"sqlalchemy_form","description":"Configuration_method is used on the frontend to inform the backend whether to explode parameters or to provide only a sqlalchemy_uri.","enum":["sqlalchemy_form","dynamic_form"]},"database_name":{"description":"A database name to identify this connection.","maxLength":250,"minLength":1,"type":"string"},"driver":{"description":"SQLAlchemy driver to use","nullable":true,"type":"string"},"engine":{"description":"SQLAlchemy engine to use","nullable":true,"type":"string"},"expose_in_sqllab":{"description":"Expose this database to SQLLab","type":"boolean"},"external_url":{"nullable":true,"type":"string"},"extra":{"description":"<p>JSON string containing extra configuration elements.<br>1. The <code>engine_params</code> object gets unpacked into the <a href=\"https://docs.sqlalchemy.org/en/latest/core/engines.html#sqlalchemy.create_engine\" rel=\"noopener noreferrer\">sqlalchemy.create_engine</a> call, while the <code>metadata_params</code> gets unpacked into the <a href=\"https://docs.sqlalchemy.org/en/rel_1_0/core/metadata.html#sqlalchemy.schema.MetaData\" rel=\"noopener noreferrer\">sqlalchemy.MetaData</a> call.<br>2. The <code>metadata_cache_timeout</code> is a cache timeout setting in seconds for metadata fetch of this database. Specify it as <strong>\"metadata_cache_timeout\": {\"schema_cache_timeout\": 600, \"table_cache_timeout\": 600}</strong>. If unset, cache will not be enabled for the functionality. A timeout of 0 indicates that the cache never expires.<br>3. The <code>schemas_allowed_for_file_upload</code> is a comma separated list of schemas that CSVs are allowed to upload to. Specify it as <strong>\"schemas_allowed_for_file_upload\": [\"public\", \"csv_upload\"]</strong>. If database flavor does not support schema or any schema is allowed to be accessed, just leave the list empty<br>4. The <code>version</code> field is a string specifying the this db's version. This should be used with Presto DBs so that the syntax is correct<br>5. The <code>allows_virtual_table_explore</code> field is a boolean specifying whether or not the Explore button in SQL Lab results is shown.<br>6. The <code>disable_data_preview</code> field is a boolean specifying whether or not data preview queries will be run when fetching table metadata in SQL Lab.7. The <code>disable_drill_to_detail</code> field is a boolean specifying whether or notdrill to detail is disabled for the database.8. The <code>allow_multi_catalog</code> indicates if the database allows changing the default catalog when running queries and creating datasets.</p>","type":"string"},"force_ctas_schema":{"description":"When allowing CREATE TABLE AS option in SQL Lab, this option forces the table to be created in this schema","maxLength":250,"minLength":0,"nullable":true,"type":"string"},"impersonate_user":{"description":"If Presto, all the queries in SQL Lab are going to be executed as the currently logged on user who must have permission to run them.<br/>If Hive and hive.server2.enable.doAs is enabled, will run the queries as service account, but impersonate the currently logged on user via hive.server2.proxy.user property.","type":"boolean"},"is_managed_externally":{"nullable":true,"type":"boolean"},"masked_encrypted_extra":{"description":"<p>JSON string containing additional connection configuration.<br>This is used to provide connection information for systems like Hive, Presto, and BigQuery, which do not conform to the username:password syntax normally used by SQLAlchemy.</p>","nullable":true,"type":"string"},"parameters":{"additionalProperties":{},"description":"DB-specific parameters for configuration","type":"object"},"server_cert":{"description":"<p>Optional CA_BUNDLE contents to validate HTTPS requests. Only available on certain database engines.</p>","nullable":true,"type":"string"},"sqlalchemy_uri":{"description":"<p>Refer to the <a href=\"https://docs.sqlalchemy.org/en/rel_1_2/core/engines.html#database-urls\" rel=\"noopener noreferrer\">SqlAlchemy docs</a> for more information on how to structure your URI.</p>","maxLength":1024,"minLength":1,"type":"string"},"ssh_tunnel":{"allOf":[{"properties":{"id":{"description":"SSH Tunnel ID (for updates)","nullable":true,"type":"integer"},"password":{"type":"string"},"private_key":{"type":"string"},"private_key_password":{"type":"string"},"server_address":{"type":"string"},"server_port":{"type":"integer"},"username":{"type":"string"}},"type":"object","title":"DatabaseSSHTunnel"}],"nullable":true},"uuid":{"type":"string"}},"required":["database_name"],"type":"object","title":"DatabaseRestApi.post"}},"type":"object"}}},"description":"Database added"},"400":{"content":{"application/json":{"schema":{"properties":{"message":{"type":"string"}},"type":"object"}}},"description":"Bad request"},"401":{"content":{"application/json":{"schema":{"properties":{"message":{"type":"string"}},"type":"object"}}},"description":"Unauthorized"},"404":{"content":{"application/json":{"schema":{"properties":{"message":{"type":"string"}},"type":"object"}}},"description":"Not found"},"500":{"content":{"application/json":{"schema":{"properties":{"message":{"type":"string"}},"type":"object"}}},"description":"Fatal error"}}}
>
  
</StatusCodes>


      