---
id: change-a-database
title: "Change a database"
description: "Change a database"
sidebar_label: "Change a database"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "put api-method"
info_path: docs/api/superset
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";
import Translate from "@docusaurus/Translate";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Change a database"}
>
</Heading>

<MethodEndpoint
  method={"put"}
  path={"/api/v1/database/{pk}"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Change a database

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
>
  <Translate id="theme.openapi.request.title">Request</Translate>
</Heading>

<ParamsDetails
  parameters={[{"in":"path","name":"pk","required":true,"schema":{"type":"integer"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"properties":{"allow_ctas":{"description":"Allow CREATE TABLE AS option in SQL Lab","type":"boolean"},"allow_cvas":{"description":"Allow CREATE VIEW AS option in SQL Lab","type":"boolean"},"allow_dml":{"description":"Allow users to run non-SELECT statements (UPDATE, DELETE, CREATE, ...) in SQL Lab","type":"boolean"},"allow_file_upload":{"description":"Allow to upload CSV file data into this databaseIf selected, please set the schemas allowed for csv upload in Extra.","type":"boolean"},"allow_run_async":{"description":"Operate the database in asynchronous mode, meaning that the queries are executed on remote workers as opposed to on the web server itself. This assumes that you have a Celery worker setup as well as a results backend. Refer to the installation docs for more information.","type":"boolean"},"cache_timeout":{"description":"Duration (in seconds) of the caching timeout for charts of this database. A timeout of 0 indicates that the cache never expires. Note this defaults to the global timeout if undefined.","nullable":true,"type":"integer"},"configuration_method":{"default":"sqlalchemy_form","description":"Configuration_method is used on the frontend to inform the backend whether to explode parameters or to provide only a sqlalchemy_uri.","enum":["sqlalchemy_form","dynamic_form"]},"database_name":{"description":"A database name to identify this connection.","maxLength":250,"minLength":1,"nullable":true,"type":"string"},"driver":{"description":"SQLAlchemy driver to use","nullable":true,"type":"string"},"engine":{"description":"SQLAlchemy engine to use","nullable":true,"type":"string"},"expose_in_sqllab":{"description":"Expose this database to SQLLab","type":"boolean"},"external_url":{"nullable":true,"type":"string"},"extra":{"description":"<p>JSON string containing extra configuration elements.<br>1. The <code>engine_params</code> object gets unpacked into the <a href=\"https://docs.sqlalchemy.org/en/latest/core/engines.html#sqlalchemy.create_engine\" rel=\"noopener noreferrer\">sqlalchemy.create_engine</a> call, while the <code>metadata_params</code> gets unpacked into the <a href=\"https://docs.sqlalchemy.org/en/rel_1_0/core/metadata.html#sqlalchemy.schema.MetaData\" rel=\"noopener noreferrer\">sqlalchemy.MetaData</a> call.<br>2. The <code>metadata_cache_timeout</code> is a cache timeout setting in seconds for metadata fetch of this database. Specify it as <strong>\"metadata_cache_timeout\": {\"schema_cache_timeout\": 600, \"table_cache_timeout\": 600}</strong>. If unset, cache will not be enabled for the functionality. A timeout of 0 indicates that the cache never expires.<br>3. The <code>schemas_allowed_for_file_upload</code> is a comma separated list of schemas that CSVs are allowed to upload to. Specify it as <strong>\"schemas_allowed_for_file_upload\": [\"public\", \"csv_upload\"]</strong>. If database flavor does not support schema or any schema is allowed to be accessed, just leave the list empty<br>4. The <code>version</code> field is a string specifying the this db's version. This should be used with Presto DBs so that the syntax is correct<br>5. The <code>allows_virtual_table_explore</code> field is a boolean specifying whether or not the Explore button in SQL Lab results is shown.<br>6. The <code>disable_data_preview</code> field is a boolean specifying whether or not data preview queries will be run when fetching table metadata in SQL Lab.7. The <code>disable_drill_to_detail</code> field is a boolean specifying whether or notdrill to detail is disabled for the database.8. The <code>allow_multi_catalog</code> indicates if the database allows changing the default catalog when running queries and creating datasets.</p>","type":"string"},"force_ctas_schema":{"description":"When allowing CREATE TABLE AS option in SQL Lab, this option forces the table to be created in this schema","maxLength":250,"minLength":0,"nullable":true,"type":"string"},"impersonate_user":{"description":"If Presto, all the queries in SQL Lab are going to be executed as the currently logged on user who must have permission to run them.<br/>If Hive and hive.server2.enable.doAs is enabled, will run the queries as service account, but impersonate the currently logged on user via hive.server2.proxy.user property.","type":"boolean"},"is_managed_externally":{"nullable":true,"type":"boolean"},"masked_encrypted_extra":{"description":"<p>JSON string containing additional connection configuration.<br>This is used to provide connection information for systems like Hive, Presto, and BigQuery, which do not conform to the username:password syntax normally used by SQLAlchemy.</p>","nullable":true,"type":"string"},"parameters":{"additionalProperties":{},"description":"DB-specific parameters for configuration","type":"object"},"server_cert":{"description":"<p>Optional CA_BUNDLE contents to validate HTTPS requests. Only available on certain database engines.</p>","nullable":true,"type":"string"},"sqlalchemy_uri":{"description":"<p>Refer to the <a href=\"https://docs.sqlalchemy.org/en/rel_1_2/core/engines.html#database-urls\" rel=\"noopener noreferrer\">SqlAlchemy docs</a> for more information on how to structure your URI.</p>","maxLength":1024,"minLength":0,"type":"string"},"ssh_tunnel":{"allOf":[{"properties":{"id":{"description":"SSH Tunnel ID (for updates)","nullable":true,"type":"integer"},"password":{"type":"string"},"private_key":{"type":"string"},"private_key_password":{"type":"string"},"server_address":{"type":"string"},"server_port":{"type":"integer"},"username":{"type":"string"}},"type":"object","title":"DatabaseSSHTunnel"}],"nullable":true},"uuid":{"type":"string"}},"type":"object","title":"DatabaseRestApi.put"}}},"description":"Database schema","required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"content":{"application/json":{"schema":{"properties":{"id":{"type":"number"},"result":{"properties":{"allow_ctas":{"description":"Allow CREATE TABLE AS option in SQL Lab","type":"boolean"},"allow_cvas":{"description":"Allow CREATE VIEW AS option in SQL Lab","type":"boolean"},"allow_dml":{"description":"Allow users to run non-SELECT statements (UPDATE, DELETE, CREATE, ...) in SQL Lab","type":"boolean"},"allow_file_upload":{"description":"Allow to upload CSV file data into this databaseIf selected, please set the schemas allowed for csv upload in Extra.","type":"boolean"},"allow_run_async":{"description":"Operate the database in asynchronous mode, meaning that the queries are executed on remote workers as opposed to on the web server itself. This assumes that you have a Celery worker setup as well as a results backend. Refer to the installation docs for more information.","type":"boolean"},"cache_timeout":{"description":"Duration (in seconds) of the caching timeout for charts of this database. A timeout of 0 indicates that the cache never expires. Note this defaults to the global timeout if undefined.","nullable":true,"type":"integer"},"configuration_method":{"default":"sqlalchemy_form","description":"Configuration_method is used on the frontend to inform the backend whether to explode parameters or to provide only a sqlalchemy_uri.","enum":["sqlalchemy_form","dynamic_form"]},"database_name":{"description":"A database name to identify this connection.","maxLength":250,"minLength":1,"nullable":true,"type":"string"},"driver":{"description":"SQLAlchemy driver to use","nullable":true,"type":"string"},"engine":{"description":"SQLAlchemy engine to use","nullable":true,"type":"string"},"expose_in_sqllab":{"description":"Expose this database to SQLLab","type":"boolean"},"external_url":{"nullable":true,"type":"string"},"extra":{"description":"<p>JSON string containing extra configuration elements.<br>1. The <code>engine_params</code> object gets unpacked into the <a href=\"https://docs.sqlalchemy.org/en/latest/core/engines.html#sqlalchemy.create_engine\" rel=\"noopener noreferrer\">sqlalchemy.create_engine</a> call, while the <code>metadata_params</code> gets unpacked into the <a href=\"https://docs.sqlalchemy.org/en/rel_1_0/core/metadata.html#sqlalchemy.schema.MetaData\" rel=\"noopener noreferrer\">sqlalchemy.MetaData</a> call.<br>2. The <code>metadata_cache_timeout</code> is a cache timeout setting in seconds for metadata fetch of this database. Specify it as <strong>\"metadata_cache_timeout\": {\"schema_cache_timeout\": 600, \"table_cache_timeout\": 600}</strong>. If unset, cache will not be enabled for the functionality. A timeout of 0 indicates that the cache never expires.<br>3. The <code>schemas_allowed_for_file_upload</code> is a comma separated list of schemas that CSVs are allowed to upload to. Specify it as <strong>\"schemas_allowed_for_file_upload\": [\"public\", \"csv_upload\"]</strong>. If database flavor does not support schema or any schema is allowed to be accessed, just leave the list empty<br>4. The <code>version</code> field is a string specifying the this db's version. This should be used with Presto DBs so that the syntax is correct<br>5. The <code>allows_virtual_table_explore</code> field is a boolean specifying whether or not the Explore button in SQL Lab results is shown.<br>6. The <code>disable_data_preview</code> field is a boolean specifying whether or not data preview queries will be run when fetching table metadata in SQL Lab.7. The <code>disable_drill_to_detail</code> field is a boolean specifying whether or notdrill to detail is disabled for the database.8. The <code>allow_multi_catalog</code> indicates if the database allows changing the default catalog when running queries and creating datasets.</p>","type":"string"},"force_ctas_schema":{"description":"When allowing CREATE TABLE AS option in SQL Lab, this option forces the table to be created in this schema","maxLength":250,"minLength":0,"nullable":true,"type":"string"},"impersonate_user":{"description":"If Presto, all the queries in SQL Lab are going to be executed as the currently logged on user who must have permission to run them.<br/>If Hive and hive.server2.enable.doAs is enabled, will run the queries as service account, but impersonate the currently logged on user via hive.server2.proxy.user property.","type":"boolean"},"is_managed_externally":{"nullable":true,"type":"boolean"},"masked_encrypted_extra":{"description":"<p>JSON string containing additional connection configuration.<br>This is used to provide connection information for systems like Hive, Presto, and BigQuery, which do not conform to the username:password syntax normally used by SQLAlchemy.</p>","nullable":true,"type":"string"},"parameters":{"additionalProperties":{},"description":"DB-specific parameters for configuration","type":"object"},"server_cert":{"description":"<p>Optional CA_BUNDLE contents to validate HTTPS requests. Only available on certain database engines.</p>","nullable":true,"type":"string"},"sqlalchemy_uri":{"description":"<p>Refer to the <a href=\"https://docs.sqlalchemy.org/en/rel_1_2/core/engines.html#database-urls\" rel=\"noopener noreferrer\">SqlAlchemy docs</a> for more information on how to structure your URI.</p>","maxLength":1024,"minLength":0,"type":"string"},"ssh_tunnel":{"allOf":[{"properties":{"id":{"description":"SSH Tunnel ID (for updates)","nullable":true,"type":"integer"},"password":{"type":"string"},"private_key":{"type":"string"},"private_key_password":{"type":"string"},"server_address":{"type":"string"},"server_port":{"type":"integer"},"username":{"type":"string"}},"type":"object","title":"DatabaseSSHTunnel"}],"nullable":true},"uuid":{"type":"string"}},"type":"object","title":"DatabaseRestApi.put"}},"type":"object"}}},"description":"Database changed"},"400":{"content":{"application/json":{"schema":{"properties":{"message":{"type":"string"}},"type":"object"}}},"description":"Bad request"},"401":{"content":{"application/json":{"schema":{"properties":{"message":{"type":"string"}},"type":"object"}}},"description":"Unauthorized"},"403":{"content":{"application/json":{"schema":{"properties":{"message":{"type":"string"}},"type":"object"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"properties":{"message":{"type":"string"}},"type":"object"}}},"description":"Not found"},"422":{"content":{"application/json":{"schema":{"properties":{"message":{"type":"string"}},"type":"object"}}},"description":"Could not process entity"},"500":{"content":{"application/json":{"schema":{"properties":{"message":{"type":"string"}},"type":"object"}}},"description":"Fatal error"}}}
>
  
</StatusCodes>


      