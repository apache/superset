---
id: test-a-database-connection
title: "Test a database connection"
description: "Test a database connection"
sidebar_label: "Test a database connection"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/superset
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";
import Translate from "@docusaurus/Translate";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Test a database connection"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/v1/database/test_connection/"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Test a database connection

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
>
  <Translate id="theme.openapi.request.title">Request</Translate>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"properties":{"configuration_method":{"default":"sqlalchemy_form","description":"Configuration_method is used on the frontend to inform the backend whether to explode parameters or to provide only a sqlalchemy_uri.","enum":["sqlalchemy_form","dynamic_form"]},"database_name":{"description":"A database name to identify this connection.","maxLength":250,"minLength":1,"nullable":true,"type":"string"},"driver":{"description":"SQLAlchemy driver to use","nullable":true,"type":"string"},"engine":{"description":"SQLAlchemy engine to use","nullable":true,"type":"string"},"extra":{"description":"<p>JSON string containing extra configuration elements.<br>1. The <code>engine_params</code> object gets unpacked into the <a href=\"https://docs.sqlalchemy.org/en/latest/core/engines.html#sqlalchemy.create_engine\" rel=\"noopener noreferrer\">sqlalchemy.create_engine</a> call, while the <code>metadata_params</code> gets unpacked into the <a href=\"https://docs.sqlalchemy.org/en/rel_1_0/core/metadata.html#sqlalchemy.schema.MetaData\" rel=\"noopener noreferrer\">sqlalchemy.MetaData</a> call.<br>2. The <code>metadata_cache_timeout</code> is a cache timeout setting in seconds for metadata fetch of this database. Specify it as <strong>\"metadata_cache_timeout\": {\"schema_cache_timeout\": 600, \"table_cache_timeout\": 600}</strong>. If unset, cache will not be enabled for the functionality. A timeout of 0 indicates that the cache never expires.<br>3. The <code>schemas_allowed_for_file_upload</code> is a comma separated list of schemas that CSVs are allowed to upload to. Specify it as <strong>\"schemas_allowed_for_file_upload\": [\"public\", \"csv_upload\"]</strong>. If database flavor does not support schema or any schema is allowed to be accessed, just leave the list empty<br>4. The <code>version</code> field is a string specifying the this db's version. This should be used with Presto DBs so that the syntax is correct<br>5. The <code>allows_virtual_table_explore</code> field is a boolean specifying whether or not the Explore button in SQL Lab results is shown.<br>6. The <code>disable_data_preview</code> field is a boolean specifying whether or not data preview queries will be run when fetching table metadata in SQL Lab.7. The <code>disable_drill_to_detail</code> field is a boolean specifying whether or notdrill to detail is disabled for the database.8. The <code>allow_multi_catalog</code> indicates if the database allows changing the default catalog when running queries and creating datasets.</p>","type":"string"},"impersonate_user":{"description":"If Presto, all the queries in SQL Lab are going to be executed as the currently logged on user who must have permission to run them.<br/>If Hive and hive.server2.enable.doAs is enabled, will run the queries as service account, but impersonate the currently logged on user via hive.server2.proxy.user property.","type":"boolean"},"masked_encrypted_extra":{"description":"<p>JSON string containing additional connection configuration.<br>This is used to provide connection information for systems like Hive, Presto, and BigQuery, which do not conform to the username:password syntax normally used by SQLAlchemy.</p>","nullable":true,"type":"string"},"parameters":{"additionalProperties":{},"description":"DB-specific parameters for configuration","type":"object"},"server_cert":{"description":"<p>Optional CA_BUNDLE contents to validate HTTPS requests. Only available on certain database engines.</p>","nullable":true,"type":"string"},"sqlalchemy_uri":{"description":"<p>Refer to the <a href=\"https://docs.sqlalchemy.org/en/rel_1_2/core/engines.html#database-urls\" rel=\"noopener noreferrer\">SqlAlchemy docs</a> for more information on how to structure your URI.</p>","maxLength":1024,"minLength":1,"type":"string"},"ssh_tunnel":{"allOf":[{"properties":{"id":{"description":"SSH Tunnel ID (for updates)","nullable":true,"type":"integer"},"password":{"type":"string"},"private_key":{"type":"string"},"private_key_password":{"type":"string"},"server_address":{"type":"string"},"server_port":{"type":"integer"},"username":{"type":"string"}},"type":"object","title":"DatabaseSSHTunnel"}],"nullable":true}},"type":"object","title":"DatabaseTestConnectionSchema"}}},"description":"Database schema","required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"content":{"application/json":{"schema":{"properties":{"message":{"type":"string"}},"type":"object"}}},"description":"Database Test Connection"},"400":{"content":{"application/json":{"schema":{"properties":{"message":{"type":"string"}},"type":"object"}}},"description":"Bad request"},"422":{"content":{"application/json":{"schema":{"properties":{"message":{"type":"string"}},"type":"object"}}},"description":"Could not process entity"},"500":{"content":{"application/json":{"schema":{"properties":{"message":{"type":"string"}},"type":"object"}}},"description":"Fatal error"}}}
>
  
</StatusCodes>


      