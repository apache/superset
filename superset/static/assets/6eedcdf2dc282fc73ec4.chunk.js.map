{"version":3,"file":"6eedcdf2dc282fc73ec4.chunk.js","mappings":"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","sources":["webpack://superset/./node_modules/lodash/uniqBy.js","webpack://superset/./src/components/ImportModal/index.tsx","webpack://superset/./src/components/Tags/Tag.tsx","webpack://superset/./src/components/Tags/TagsList.tsx","webpack://superset/./src/components/ListView/CrossLinksTooltip.tsx","webpack://superset/./src/components/ListView/CrossLinks.tsx","webpack://superset/./src/pages/ChartList/index.tsx"],"sourcesContent":["var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { FunctionComponent, useEffect, useState } from 'react';\nimport { UploadChangeParam, UploadFile } from 'antd/lib/upload/interface';\nimport { styled, t } from '@superset-ui/core';\n\nimport Button from 'src/components/Button';\nimport Modal from 'src/components/Modal';\nimport { Upload } from 'src/components';\nimport { useImportResource } from 'src/views/CRUD/hooks';\nimport { ImportResourceName } from 'src/views/CRUD/types';\nimport ErrorAlert from './ErrorAlert';\n\nconst HelperMessage = styled.div`\n  display: block;\n  color: ${({ theme }) => theme.colors.grayscale.base};\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n`;\n\nconst StyledInputContainer = styled.div`\n  padding-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  padding-top: ${({ theme }) => theme.gridUnit * 2}px;\n\n  & > div {\n    margin: ${({ theme }) => theme.gridUnit}px 0;\n  }\n\n  &.extra-container {\n    padding-top: 8px;\n  }\n\n  .confirm-overwrite {\n    margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  }\n\n  .input-container {\n    display: flex;\n    align-items: center;\n\n    label {\n      display: flex;\n      margin-right: ${({ theme }) => theme.gridUnit * 2}px;\n    }\n\n    i {\n      margin: 0 ${({ theme }) => theme.gridUnit}px;\n    }\n  }\n\n  input,\n  textarea {\n    flex: 1 1 auto;\n  }\n\n  textarea {\n    height: 160px;\n    resize: none;\n  }\n\n  input::placeholder,\n  textarea::placeholder {\n    color: ${({ theme }) => theme.colors.grayscale.light1};\n  }\n\n  textarea,\n  input[type='text'],\n  input[type='number'] {\n    padding: ${({ theme }) => theme.gridUnit * 1.5}px\n      ${({ theme }) => theme.gridUnit * 2}px;\n    border-style: none;\n    border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    border-radius: ${({ theme }) => theme.gridUnit}px;\n\n    &[name='name'] {\n      flex: 0 1 auto;\n      width: 40%;\n    }\n\n    &[name='sqlalchemy_uri'] {\n      margin-right: ${({ theme }) => theme.gridUnit * 3}px;\n    }\n  }\n`;\n\nexport interface ImportModelsModalProps {\n  resourceName: ImportResourceName;\n  resourceLabel: string;\n  passwordsNeededMessage: string;\n  confirmOverwriteMessage: string;\n  addDangerToast: (msg: string) => void;\n  addSuccessToast: (msg: string) => void;\n  onModelImport: () => void;\n  show: boolean;\n  onHide: () => void;\n  passwordFields?: string[];\n  setPasswordFields?: (passwordFields: string[]) => void;\n}\n\nconst ImportModelsModal: FunctionComponent<ImportModelsModalProps> = ({\n  resourceName,\n  resourceLabel,\n  passwordsNeededMessage,\n  confirmOverwriteMessage,\n  onModelImport,\n  show,\n  onHide,\n  passwordFields = [],\n  setPasswordFields = () => {},\n}) => {\n  const [isHidden, setIsHidden] = useState<boolean>(true);\n  const [passwords, setPasswords] = useState<Record<string, string>>({});\n  const [needsOverwriteConfirm, setNeedsOverwriteConfirm] =\n    useState<boolean>(false);\n  const [confirmedOverwrite, setConfirmedOverwrite] = useState<boolean>(false);\n  const [fileList, setFileList] = useState<UploadFile[]>([]);\n  const [importingModel, setImportingModel] = useState<boolean>(false);\n  const [errorMessage, setErrorMessage] = useState<string>();\n\n  const clearModal = () => {\n    setFileList([]);\n    setPasswordFields([]);\n    setPasswords({});\n    setNeedsOverwriteConfirm(false);\n    setConfirmedOverwrite(false);\n    setImportingModel(false);\n    setErrorMessage('');\n  };\n\n  const handleErrorMsg = (msg: string) => {\n    setErrorMessage(msg);\n  };\n\n  const {\n    state: { alreadyExists, passwordsNeeded },\n    importResource,\n  } = useImportResource(resourceName, resourceLabel, handleErrorMsg);\n\n  useEffect(() => {\n    setPasswordFields(passwordsNeeded);\n    if (passwordsNeeded.length > 0) {\n      setImportingModel(false);\n    }\n  }, [passwordsNeeded, setPasswordFields]);\n\n  useEffect(() => {\n    setNeedsOverwriteConfirm(alreadyExists.length > 0);\n    if (alreadyExists.length > 0) {\n      setImportingModel(false);\n    }\n  }, [alreadyExists, setNeedsOverwriteConfirm]);\n\n  // Functions\n  const hide = () => {\n    setIsHidden(true);\n    onHide();\n    clearModal();\n  };\n\n  const onUpload = () => {\n    if (!(fileList[0]?.originFileObj instanceof File)) {\n      return;\n    }\n\n    setImportingModel(true);\n    importResource(\n      fileList[0].originFileObj,\n      passwords,\n      confirmedOverwrite,\n    ).then(result => {\n      if (result) {\n        clearModal();\n        onModelImport();\n      }\n    });\n  };\n\n  const changeFile = (info: UploadChangeParam) => {\n    setFileList([\n      {\n        ...info.file,\n        status: 'done',\n      },\n    ]);\n  };\n\n  const removeFile = (removedFile: UploadFile) => {\n    setFileList(fileList.filter(file => file.uid !== removedFile.uid));\n    return false;\n  };\n\n  const confirmOverwrite = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const targetValue = (event.currentTarget?.value as string) ?? '';\n    setConfirmedOverwrite(targetValue.toUpperCase() === t('OVERWRITE'));\n  };\n\n  const renderPasswordFields = () => {\n    if (passwordFields.length === 0) {\n      return null;\n    }\n\n    return (\n      <>\n        <h5>{t('Database passwords')}</h5>\n        <HelperMessage>{passwordsNeededMessage}</HelperMessage>\n        {passwordFields.map(fileName => (\n          <StyledInputContainer key={`password-for-${fileName}`}>\n            <div className=\"control-label\">\n              {fileName}\n              <span className=\"required\">*</span>\n            </div>\n            <input\n              name={`password-${fileName}`}\n              autoComplete={`password-${fileName}`}\n              type=\"password\"\n              value={passwords[fileName]}\n              onChange={event =>\n                setPasswords({ ...passwords, [fileName]: event.target.value })\n              }\n            />\n          </StyledInputContainer>\n        ))}\n      </>\n    );\n  };\n\n  const renderOverwriteConfirmation = () => {\n    if (!needsOverwriteConfirm) {\n      return null;\n    }\n\n    return (\n      <>\n        <StyledInputContainer>\n          <div className=\"confirm-overwrite\">{confirmOverwriteMessage}</div>\n          <div className=\"control-label\">\n            {t('Type \"%s\" to confirm', t('OVERWRITE'))}\n          </div>\n          <input\n            data-test=\"overwrite-modal-input\"\n            id=\"overwrite\"\n            type=\"text\"\n            onChange={confirmOverwrite}\n          />\n        </StyledInputContainer>\n      </>\n    );\n  };\n\n  // Show/hide\n  if (isHidden && show) {\n    setIsHidden(false);\n  }\n\n  return (\n    <Modal\n      name=\"model\"\n      className=\"import-model-modal\"\n      disablePrimaryButton={\n        fileList.length === 0 ||\n        (needsOverwriteConfirm && !confirmedOverwrite) ||\n        importingModel\n      }\n      onHandledPrimaryAction={onUpload}\n      onHide={hide}\n      primaryButtonName={needsOverwriteConfirm ? t('Overwrite') : t('Import')}\n      primaryButtonType={needsOverwriteConfirm ? 'danger' : 'primary'}\n      width=\"750px\"\n      show={show}\n      title={<h4>{t('Import %s', resourceLabel)}</h4>}\n    >\n      <StyledInputContainer>\n        <Upload\n          name=\"modelFile\"\n          id=\"modelFile\"\n          data-test=\"model-file-input\"\n          accept=\".yaml,.json,.yml,.zip\"\n          fileList={fileList}\n          onChange={changeFile}\n          onRemove={removeFile}\n          // upload is handled by hook\n          customRequest={() => {}}\n          disabled={importingModel}\n        >\n          <Button loading={importingModel}>{t('Select file')}</Button>\n        </Upload>\n      </StyledInputContainer>\n      {errorMessage && (\n        <ErrorAlert\n          errorMessage={errorMessage}\n          showDbInstallInstructions={passwordFields.length > 0}\n        />\n      )}\n      {renderPasswordFields()}\n      {renderOverwriteConfirmation()}\n    </Modal>\n  );\n};\n\nexport default ImportModelsModal;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { styled } from '@superset-ui/core';\nimport TagType from 'src/types/TagType';\nimport AntdTag from 'antd/lib/tag';\nimport React, { useMemo } from 'react';\nimport { Tooltip } from 'src/components/Tooltip';\n\nconst StyledTag = styled(AntdTag)`\n  ${({ theme }) => `\n  margin-top: ${theme.gridUnit}px;\n  margin-bottom: ${theme.gridUnit}px;\n  font-size: ${theme.typography.sizes.s}px;\n  `};\n`;\n\nconst Tag = ({\n  name,\n  id,\n  index = undefined,\n  onDelete = undefined,\n  editable = false,\n  onClick = undefined,\n}: TagType) => {\n  const isLongTag = useMemo(() => name.length > 20, [name]);\n\n  const handleClose = () => (index ? onDelete?.(index) : null);\n\n  const tagElem = (\n    <>\n      {editable ? (\n        <StyledTag\n          key={id}\n          closable={editable}\n          onClose={handleClose}\n          color=\"blue\"\n        >\n          {isLongTag ? `${name.slice(0, 20)}...` : name}\n        </StyledTag>\n      ) : (\n        <StyledTag role=\"link\" key={id} onClick={onClick}>\n          {id ? (\n            <a\n              href={`/superset/tags/?tags=${name}`}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {isLongTag ? `${name.slice(0, 20)}...` : name}\n            </a>\n          ) : isLongTag ? (\n            `${name.slice(0, 20)}...`\n          ) : (\n            name\n          )}\n        </StyledTag>\n      )}\n    </>\n  );\n\n  return isLongTag ? (\n    <Tooltip title={name} key={name}>\n      {tagElem}\n    </Tooltip>\n  ) : (\n    tagElem\n  );\n};\n\nexport default Tag;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useMemo, useState } from 'react';\nimport { styled } from '@superset-ui/core';\nimport TagType from 'src/types/TagType';\nimport Tag from './Tag';\n\nexport type TagsListProps = {\n  tags: TagType[];\n  editable?: boolean;\n  /**\n   * OnDelete:\n   * Only applies when editable is true\n   * Callback for when a tag is deleted\n   */\n  onDelete?: ((index: number) => void) | undefined;\n  maxTags?: number | undefined;\n};\n\nconst TagsDiv = styled.div`\n  max-width: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n`;\n\nconst TagsList = ({\n  tags,\n  editable = false,\n  onDelete,\n  maxTags,\n}: TagsListProps) => {\n  const [tempMaxTags, setTempMaxTags] = useState<number | undefined>(maxTags);\n\n  const handleDelete = (index: number) => {\n    onDelete?.(index);\n  };\n\n  const expand = () => setTempMaxTags(undefined);\n\n  const collapse = () => setTempMaxTags(maxTags);\n\n  const tagsIsLong: boolean | null = useMemo(\n    () => (tempMaxTags ? tags.length > tempMaxTags : null),\n    [tags.length, tempMaxTags],\n  );\n\n  const extraTags: number | null = useMemo(\n    () =>\n      typeof tempMaxTags === 'number' ? tags.length - tempMaxTags + 1 : null,\n    [tagsIsLong, tags.length, tempMaxTags],\n  );\n\n  return (\n    <TagsDiv className=\"tag-list\">\n      {tagsIsLong && typeof tempMaxTags === 'number' ? (\n        <>\n          {tags.slice(0, tempMaxTags - 1).map((tag: TagType, index) => (\n            <Tag\n              id={tag.id}\n              key={tag.id}\n              name={tag.name}\n              index={index}\n              onDelete={handleDelete}\n              editable={editable}\n            />\n          ))}\n          {tags.length > tempMaxTags ? (\n            <Tag name={`+${extraTags}...`} onClick={expand} />\n          ) : null}\n        </>\n      ) : (\n        <>\n          {tags.map((tag: TagType, index) => (\n            <Tag\n              id={tag.id}\n              key={tag.id}\n              name={tag.name}\n              index={index}\n              onDelete={handleDelete}\n              editable={editable}\n            />\n          ))}\n          {maxTags ? (\n            tags.length > maxTags ? (\n              <Tag name=\"...\" onClick={collapse} />\n            ) : null\n          ) : null}\n        </>\n      )}\n    </TagsDiv>\n  );\n};\n\nexport default TagsList;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { styled, t } from '@superset-ui/core';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { Link } from 'react-router-dom';\n\nexport type CrossLinksTooltipProps = {\n  children: React.ReactNode;\n  crossLinks: { to: string; title: string }[];\n  moreItems?: number;\n  show: boolean;\n};\n\nconst StyledLinkedTooltip = styled.div`\n  .link {\n    color: ${({ theme }) => theme.colors.grayscale.light5};\n    display: block;\n    text-decoration: underline;\n  }\n`;\n\nexport default function CrossLinksTooltip({\n  children,\n  crossLinks = [],\n  moreItems = undefined,\n  show = false,\n}: CrossLinksTooltipProps) {\n  return (\n    <Tooltip\n      placement=\"top\"\n      data-test=\"crosslinks-tooltip\"\n      title={\n        show && (\n          <StyledLinkedTooltip>\n            {crossLinks.map(link => (\n              <Link\n                className=\"link\"\n                key={link.to}\n                to={link.to}\n                target=\"_blank\"\n                rel=\"noreferer noopener\"\n              >\n                {link.title}\n              </Link>\n            ))}\n            {moreItems && (\n              <span data-test=\"plus-more\">{t('+ %s more', moreItems)}</span>\n            )}\n          </StyledLinkedTooltip>\n        )\n      }\n    >\n      {children}\n    </Tooltip>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo, useRef } from 'react';\nimport { styled } from '@superset-ui/core';\nimport { Link } from 'react-router-dom';\nimport { useTruncation } from 'src/hooks/useTruncation';\nimport CrossLinksTooltip from './CrossLinksTooltip';\n\nexport type CrossLinkProps = {\n  title: string;\n  id: number;\n};\n\nexport type CrossLinksProps = {\n  crossLinks: Array<CrossLinkProps>;\n  maxLinks?: number;\n  linkPrefix?: string;\n};\n\nconst StyledCrossLinks = styled.div`\n  ${({ theme }) => `\n    & > span {\n      width: 100%;\n      display: flex;\n\n      .ant-tooltip-open {\n        display: inline;\n      }\n\n      .truncated {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        display: inline-block;\n        width: 100%;\n        vertical-align: bottom;\n      }\n\n      .count {\n        cursor: pointer;\n        color: ${theme.colors.grayscale.base};\n        font-weight: ${theme.typography.weights.bold};\n      }\n    }\n  `}\n`;\n\nexport default function CrossLinks({\n  crossLinks,\n  maxLinks = 20,\n  linkPrefix = '/superset/dashboard/',\n}: CrossLinksProps) {\n  const crossLinksRef = useRef<HTMLDivElement>(null);\n  const plusRef = useRef<HTMLDivElement>(null);\n  const [elementsTruncated, hasHiddenElements] = useTruncation(\n    crossLinksRef,\n    plusRef,\n  );\n  const hasMoreItems = useMemo(\n    () =>\n      crossLinks.length > maxLinks ? crossLinks.length - maxLinks : undefined,\n    [crossLinks, maxLinks],\n  );\n  const links = useMemo(\n    () => (\n      <span className=\"truncated\" ref={crossLinksRef} data-test=\"crosslinks\">\n        {crossLinks.map((link, index) => (\n          <Link\n            key={link.id}\n            to={linkPrefix + link.id}\n            target=\"_blank\"\n            rel=\"noreferer noopener\"\n          >\n            {index === 0 ? link.title : `, ${link.title}`}\n          </Link>\n        ))}\n      </span>\n    ),\n    [crossLinks],\n  );\n  const tooltipLinks = useMemo(\n    () =>\n      crossLinks.slice(0, maxLinks).map(l => ({\n        title: l.title,\n        to: linkPrefix + l.id,\n      })),\n    [crossLinks, maxLinks],\n  );\n\n  return (\n    <StyledCrossLinks>\n      <CrossLinksTooltip\n        moreItems={hasMoreItems}\n        crossLinks={tooltipLinks}\n        show={!!elementsTruncated}\n      >\n        {links}\n        {hasHiddenElements && (\n          <span ref={plusRef} className=\"count\" data-test=\"count-crosslinks\">\n            +{elementsTruncated}\n          </span>\n        )}\n      </CrossLinksTooltip>\n    </StyledCrossLinks>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  ensureIsArray,\n  getChartMetadataRegistry,\n  JsonResponse,\n  styled,\n  SupersetClient,\n  t,\n} from '@superset-ui/core';\nimport React, { useState, useMemo, useCallback } from 'react';\nimport rison from 'rison';\nimport { uniqBy } from 'lodash';\nimport moment from 'moment';\nimport { FeatureFlag, isFeatureEnabled } from 'src/featureFlags';\nimport {\n  createErrorHandler,\n  createFetchRelated,\n  handleChartDelete,\n} from 'src/views/CRUD/utils';\nimport {\n  useChartEditModal,\n  useFavoriteStatus,\n  useListViewResource,\n} from 'src/views/CRUD/hooks';\nimport handleResourceExport from 'src/utils/export';\nimport ConfirmStatusChange from 'src/components/ConfirmStatusChange';\nimport { TagsList } from 'src/components/Tags';\nimport SubMenu, { SubMenuProps } from 'src/views/components/SubMenu';\nimport FaveStar from 'src/components/FaveStar';\nimport { Link, useHistory } from 'react-router-dom';\nimport ListView, {\n  Filter,\n  FilterOperator,\n  Filters,\n  ListViewProps,\n  SelectOption,\n} from 'src/components/ListView';\nimport CrossLinks from 'src/components/ListView/CrossLinks';\nimport Loading from 'src/components/Loading';\nimport { dangerouslyGetItemDoNotUse } from 'src/utils/localStorageHelpers';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport PropertiesModal from 'src/explore/components/PropertiesModal';\nimport ImportModelsModal from 'src/components/ImportModal/index';\nimport Chart, { ChartLinkedDashboard } from 'src/types/Chart';\nimport Tag from 'src/types/TagType';\nimport { Tooltip } from 'src/components/Tooltip';\nimport Icons from 'src/components/Icons';\nimport { nativeFilterGate } from 'src/dashboard/components/nativeFilters/utils';\nimport setupPlugins from 'src/setup/setupPlugins';\nimport InfoTooltip from 'src/components/InfoTooltip';\nimport CertifiedBadge from 'src/components/CertifiedBadge';\nimport { GenericLink } from 'src/components/GenericLink/GenericLink';\nimport getBootstrapData from 'src/utils/getBootstrapData';\nimport Owner from 'src/types/Owner';\nimport { loadTags } from 'src/components/Tags/utils';\nimport ChartCard from './ChartCard';\n\nconst FlexRowContainer = styled.div`\n  align-items: center;\n  display: flex;\n\n  a {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    line-height: 1.2;\n  }\n\n  svg {\n    margin-right: ${({ theme }) => theme.gridUnit}px;\n  }\n`;\n\nconst PAGE_SIZE = 25;\nconst PASSWORDS_NEEDED_MESSAGE = t(\n  'The passwords for the databases below are needed in order to ' +\n    'import them together with the charts. Please note that the ' +\n    '\"Secure Extra\" and \"Certificate\" sections of ' +\n    'the database configuration are not present in export files, and ' +\n    'should be added manually after the import if they are needed.',\n);\nconst CONFIRM_OVERWRITE_MESSAGE = t(\n  'You are importing one or more charts that already exist. ' +\n    'Overwriting might cause you to lose some of your work. Are you ' +\n    'sure you want to overwrite?',\n);\n\nsetupPlugins();\nconst registry = getChartMetadataRegistry();\n\nconst createFetchDatasets = async (\n  filterValue = '',\n  page: number,\n  pageSize: number,\n) => {\n  // add filters if filterValue\n  const filters = filterValue\n    ? { filters: [{ col: 'table_name', opr: 'sw', value: filterValue }] }\n    : {};\n  const queryParams = rison.encode({\n    columns: ['datasource_name', 'datasource_id'],\n    keys: ['none'],\n    order_column: 'table_name',\n    order_direction: 'asc',\n    page,\n    page_size: pageSize,\n    ...filters,\n  });\n\n  const { json = {} } = await SupersetClient.get({\n    endpoint: `/api/v1/dataset/?q=${queryParams}`,\n  });\n\n  const datasets = json?.result?.map(\n    ({ table_name: tableName, id }: { table_name: string; id: number }) => ({\n      label: tableName,\n      value: id,\n    }),\n  );\n\n  return {\n    data: uniqBy<SelectOption>(datasets, 'value'),\n    totalCount: json?.count,\n  };\n};\n\ninterface ChartListProps {\n  addDangerToast: (msg: string) => void;\n  addSuccessToast: (msg: string) => void;\n  user: {\n    userId: string | number;\n    firstName: string;\n    lastName: string;\n  };\n}\n\nconst StyledActions = styled.div`\n  color: ${({ theme }) => theme.colors.grayscale.base};\n`;\n\nconst bootstrapData = getBootstrapData();\n\nfunction ChartList(props: ChartListProps) {\n  const {\n    addDangerToast,\n    addSuccessToast,\n    user: { userId },\n  } = props;\n\n  const history = useHistory();\n\n  const {\n    state: {\n      loading,\n      resourceCount: chartCount,\n      resourceCollection: charts,\n      bulkSelectEnabled,\n    },\n    setResourceCollection: setCharts,\n    hasPerm,\n    fetchData,\n    toggleBulkSelect,\n    refreshData,\n  } = useListViewResource<Chart>('chart', t('chart'), addDangerToast);\n\n  const chartIds = useMemo(() => charts.map(c => c.id), [charts]);\n\n  const [saveFavoriteStatus, favoriteStatus] = useFavoriteStatus(\n    'chart',\n    chartIds,\n    addDangerToast,\n  );\n  const {\n    sliceCurrentlyEditing,\n    handleChartUpdated,\n    openChartEditModal,\n    closeChartEditModal,\n  } = useChartEditModal(setCharts, charts);\n\n  const [importingChart, showImportModal] = useState<boolean>(false);\n  const [passwordFields, setPasswordFields] = useState<string[]>([]);\n  const [preparingExport, setPreparingExport] = useState<boolean>(false);\n\n  // TODO: Fix usage of localStorage keying on the user id\n  const userSettings = dangerouslyGetItemDoNotUse(userId?.toString(), null) as {\n    thumbnails: boolean;\n  };\n\n  const openChartImportModal = () => {\n    showImportModal(true);\n  };\n\n  const closeChartImportModal = () => {\n    showImportModal(false);\n  };\n\n  const handleChartImport = () => {\n    showImportModal(false);\n    refreshData();\n    addSuccessToast(t('Chart imported'));\n  };\n\n  const canCreate = hasPerm('can_write');\n  const canEdit = hasPerm('can_write');\n  const canDelete = hasPerm('can_write');\n  const canExport =\n    hasPerm('can_export') && isFeatureEnabled(FeatureFlag.VERSIONED_EXPORT);\n  const initialSort = [{ id: 'changed_on_delta_humanized', desc: true }];\n  const enableBroadUserAccess =\n    bootstrapData.common.conf.ENABLE_BROAD_ACTIVITY_ACCESS;\n  const handleBulkChartExport = (chartsToExport: Chart[]) => {\n    const ids = chartsToExport.map(({ id }) => id);\n    handleResourceExport('chart', ids, () => {\n      setPreparingExport(false);\n    });\n    setPreparingExport(true);\n  };\n  const changedByName = (lastSavedBy: Owner) =>\n    lastSavedBy?.first_name\n      ? `${lastSavedBy?.first_name} ${lastSavedBy?.last_name}`\n      : null;\n\n  function handleBulkChartDelete(chartsToDelete: Chart[]) {\n    SupersetClient.delete({\n      endpoint: `/api/v1/chart/?q=${rison.encode(\n        chartsToDelete.map(({ id }) => id),\n      )}`,\n    }).then(\n      ({ json = {} }) => {\n        refreshData();\n        addSuccessToast(json.message);\n      },\n      createErrorHandler(errMsg =>\n        addDangerToast(\n          t('There was an issue deleting the selected charts: %s', errMsg),\n        ),\n      ),\n    );\n  }\n  const fetchDashboards = async (\n    filterValue = '',\n    page: number,\n    pageSize: number,\n  ) => {\n    // add filters if filterValue\n    const filters = filterValue\n      ? {\n          filters: [\n            {\n              col: 'dashboards',\n              opr: FilterOperator.relationManyMany,\n              value: filterValue,\n            },\n          ],\n        }\n      : {};\n    const queryParams = rison.encode({\n      columns: ['dashboard_title', 'id'],\n      keys: ['none'],\n      order_column: 'dashboard_title',\n      order_direction: 'asc',\n      page,\n      page_size: pageSize,\n      ...filters,\n    });\n    const response: void | JsonResponse = await SupersetClient.get({\n      endpoint: !filterValue\n        ? `/api/v1/dashboard/?q=${queryParams}`\n        : `/api/v1/chart/?q=${queryParams}`,\n    }).catch(() =>\n      addDangerToast(t('An error occurred while fetching dashboards')),\n    );\n    const dashboards = response?.json?.result?.map(\n      ({\n        dashboard_title: dashboardTitle,\n        id,\n      }: {\n        dashboard_title: string;\n        id: number;\n      }) => ({\n        label: dashboardTitle,\n        value: id,\n      }),\n    );\n    return {\n      data: uniqBy<SelectOption>(dashboards, 'value'),\n      totalCount: response?.json?.count,\n    };\n  };\n\n  const columns = useMemo(\n    () => [\n      {\n        Cell: ({\n          row: {\n            original: { id },\n          },\n        }: any) =>\n          userId && (\n            <FaveStar\n              itemId={id}\n              saveFaveStar={saveFavoriteStatus}\n              isStarred={favoriteStatus[id]}\n            />\n          ),\n        Header: '',\n        id: 'id',\n        disableSortBy: true,\n        size: 'xs',\n        hidden: !userId,\n      },\n      {\n        Cell: ({\n          row: {\n            original: {\n              url,\n              slice_name: sliceName,\n              certified_by: certifiedBy,\n              certification_details: certificationDetails,\n              description,\n            },\n          },\n        }: any) => (\n          <FlexRowContainer>\n            <Link to={url} data-test={`${sliceName}-list-chart-title`}>\n              {certifiedBy && (\n                <>\n                  <CertifiedBadge\n                    certifiedBy={certifiedBy}\n                    details={certificationDetails}\n                  />{' '}\n                </>\n              )}\n              {sliceName}\n            </Link>\n            {description && (\n              <InfoTooltip tooltip={description} viewBox=\"0 -1 24 24\" />\n            )}\n          </FlexRowContainer>\n        ),\n        Header: t('Chart'),\n        accessor: 'slice_name',\n      },\n      {\n        Cell: ({\n          row: {\n            original: { viz_type: vizType },\n          },\n        }: any) => registry.get(vizType)?.name || vizType,\n        Header: t('Visualization type'),\n        accessor: 'viz_type',\n        size: 'xxl',\n      },\n      {\n        Cell: ({\n          row: {\n            original: {\n              datasource_name_text: dsNameTxt,\n              datasource_url: dsUrl,\n            },\n          },\n        }: any) => <GenericLink to={dsUrl}>{dsNameTxt}</GenericLink>,\n        Header: t('Dataset'),\n        accessor: 'datasource_id',\n        disableSortBy: true,\n        size: 'xl',\n      },\n      {\n        Cell: ({\n          row: {\n            original: { dashboards },\n          },\n        }: any) => (\n          <CrossLinks\n            crossLinks={ensureIsArray(dashboards).map(\n              (d: ChartLinkedDashboard) => ({\n                title: d.dashboard_title,\n                id: d.id,\n              }),\n            )}\n          />\n        ),\n        Header: t('Dashboards added to'),\n        accessor: 'dashboards',\n        disableSortBy: true,\n        size: 'xxl',\n        hidden: true,\n      },\n      {\n        Cell: ({\n          row: {\n            original: {\n              last_saved_by: lastSavedBy,\n              changed_by_url: changedByUrl,\n            },\n          },\n        }: any) =>\n          enableBroadUserAccess ? (\n            <a href={changedByUrl}>{changedByName(lastSavedBy)}</a>\n          ) : (\n            <>{changedByName(lastSavedBy)}</>\n          ),\n        Header: t('Modified by'),\n        accessor: 'last_saved_by.first_name',\n        size: 'xl',\n      },\n      {\n        Cell: ({\n          row: {\n            original: { last_saved_at: lastSavedAt },\n          },\n        }: any) => (\n          <span className=\"no-wrap\">\n            {lastSavedAt ? moment.utc(lastSavedAt).fromNow() : null}\n          </span>\n        ),\n        Header: t('Last modified'),\n        accessor: 'last_saved_at',\n        size: 'xl',\n      },\n      {\n        accessor: 'owners',\n        hidden: true,\n        disableSortBy: true,\n      },\n      {\n        Cell: ({\n          row: {\n            original: { created_by: createdBy },\n          },\n        }: any) =>\n          createdBy ? `${createdBy.first_name} ${createdBy.last_name}` : '',\n        Header: t('Created by'),\n        accessor: 'created_by',\n        disableSortBy: true,\n        size: 'xl',\n      },\n      {\n        Cell: ({\n          row: {\n            original: { tags = [] },\n          },\n        }: any) => (\n          // Only show custom type tags\n          <TagsList\n            tags={tags.filter((tag: Tag) =>\n              tag.type\n                ? tag.type === 1 || tag.type === 'TagTypes.custom'\n                : true,\n            )}\n            maxTags={3}\n          />\n        ),\n        Header: t('Tags'),\n        accessor: 'tags',\n        disableSortBy: true,\n        hidden: !isFeatureEnabled(FeatureFlag.TAGGING_SYSTEM),\n      },\n      {\n        Cell: ({ row: { original } }: any) => {\n          const handleDelete = () =>\n            handleChartDelete(\n              original,\n              addSuccessToast,\n              addDangerToast,\n              refreshData,\n            );\n          const openEditModal = () => openChartEditModal(original);\n          const handleExport = () => handleBulkChartExport([original]);\n          if (!canEdit && !canDelete && !canExport) {\n            return null;\n          }\n\n          return (\n            <StyledActions className=\"actions\">\n              {canDelete && (\n                <ConfirmStatusChange\n                  title={t('Please confirm')}\n                  description={\n                    <>\n                      {t('Are you sure you want to delete')}{' '}\n                      <b>{original.slice_name}</b>?\n                    </>\n                  }\n                  onConfirm={handleDelete}\n                >\n                  {confirmDelete => (\n                    <Tooltip\n                      id=\"delete-action-tooltip\"\n                      title={t('Delete')}\n                      placement=\"bottom\"\n                    >\n                      <span\n                        data-test=\"trash\"\n                        role=\"button\"\n                        tabIndex={0}\n                        className=\"action-button\"\n                        onClick={confirmDelete}\n                      >\n                        <Icons.Trash />\n                      </span>\n                    </Tooltip>\n                  )}\n                </ConfirmStatusChange>\n              )}\n              {canExport && (\n                <Tooltip\n                  id=\"export-action-tooltip\"\n                  title={t('Export')}\n                  placement=\"bottom\"\n                >\n                  <span\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"action-button\"\n                    onClick={handleExport}\n                  >\n                    <Icons.Share />\n                  </span>\n                </Tooltip>\n              )}\n              {canEdit && (\n                <Tooltip\n                  id=\"edit-action-tooltip\"\n                  title={t('Edit')}\n                  placement=\"bottom\"\n                >\n                  <span\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"action-button\"\n                    onClick={openEditModal}\n                  >\n                    <Icons.EditAlt data-test=\"edit-alt\" />\n                  </span>\n                </Tooltip>\n              )}\n            </StyledActions>\n          );\n        },\n        Header: t('Actions'),\n        id: 'actions',\n        disableSortBy: true,\n        hidden: !canEdit && !canDelete,\n      },\n    ],\n    [\n      userId,\n      canEdit,\n      canDelete,\n      canExport,\n      saveFavoriteStatus,\n      favoriteStatus,\n      refreshData,\n      addSuccessToast,\n      addDangerToast,\n    ],\n  );\n\n  const favoritesFilter: Filter = useMemo(\n    () => ({\n      Header: t('Favorite'),\n      key: 'favorite',\n      id: 'id',\n      urlDisplay: 'favorite',\n      input: 'select',\n      operator: FilterOperator.chartIsFav,\n      unfilteredLabel: t('Any'),\n      selects: [\n        { label: t('Yes'), value: true },\n        { label: t('No'), value: false },\n      ],\n    }),\n    [],\n  );\n\n  const filters: Filters = useMemo(() => {\n    const filters_list = [\n      {\n        Header: t('Owner'),\n        key: 'owner',\n        id: 'owners',\n        input: 'select',\n        operator: FilterOperator.relationManyMany,\n        unfilteredLabel: t('All'),\n        fetchSelects: createFetchRelated(\n          'chart',\n          'owners',\n          createErrorHandler(errMsg =>\n            addDangerToast(\n              t(\n                'An error occurred while fetching chart owners values: %s',\n                errMsg,\n              ),\n            ),\n          ),\n          props.user,\n        ),\n        paginate: true,\n      },\n      {\n        Header: t('Created by'),\n        key: 'created_by',\n        id: 'created_by',\n        input: 'select',\n        operator: FilterOperator.relationOneMany,\n        unfilteredLabel: t('All'),\n        fetchSelects: createFetchRelated(\n          'chart',\n          'created_by',\n          createErrorHandler(errMsg =>\n            addDangerToast(\n              t(\n                'An error occurred while fetching chart created by values: %s',\n                errMsg,\n              ),\n            ),\n          ),\n          props.user,\n        ),\n        paginate: true,\n      },\n      {\n        Header: t('Chart type'),\n        key: 'viz_type',\n        id: 'viz_type',\n        input: 'select',\n        operator: FilterOperator.equals,\n        unfilteredLabel: t('All'),\n        selects: registry\n          .keys()\n          .filter(k => nativeFilterGate(registry.get(k)?.behaviors || []))\n          .map(k => ({ label: registry.get(k)?.name || k, value: k }))\n          .sort((a, b) => {\n            if (!a.label || !b.label) {\n              return 0;\n            }\n\n            if (a.label > b.label) {\n              return 1;\n            }\n            if (a.label < b.label) {\n              return -1;\n            }\n\n            return 0;\n          }),\n      },\n      {\n        Header: t('Dataset'),\n        key: 'dataset',\n        id: 'datasource_id',\n        input: 'select',\n        operator: FilterOperator.equals,\n        unfilteredLabel: t('All'),\n        fetchSelects: createFetchDatasets,\n        paginate: true,\n      },\n      {\n        Header: t('Dashboards'),\n        key: 'dashboards',\n        id: 'dashboards',\n        input: 'select',\n        operator: FilterOperator.relationManyMany,\n        unfilteredLabel: t('All'),\n        fetchSelects: fetchDashboards,\n        paginate: true,\n      },\n      ...(userId ? [favoritesFilter] : []),\n      {\n        Header: t('Certified'),\n        key: 'certified',\n        id: 'id',\n        urlDisplay: 'certified',\n        input: 'select',\n        operator: FilterOperator.chartIsCertified,\n        unfilteredLabel: t('Any'),\n        selects: [\n          { label: t('Yes'), value: true },\n          { label: t('No'), value: false },\n        ],\n      },\n    ] as Filters;\n    if (isFeatureEnabled(FeatureFlag.TAGGING_SYSTEM)) {\n      filters_list.push({\n        Header: t('Tags'),\n        key: 'tags',\n        id: 'tags',\n        input: 'select',\n        operator: FilterOperator.chartTags,\n        unfilteredLabel: t('All'),\n        fetchSelects: loadTags,\n      });\n    }\n    filters_list.push({\n      Header: t('Search'),\n      key: 'search',\n      id: 'slice_name',\n      input: 'search',\n      operator: FilterOperator.chartAllText,\n    });\n    return filters_list;\n  }, [addDangerToast, favoritesFilter, props.user]);\n\n  const sortTypes = [\n    {\n      desc: false,\n      id: 'slice_name',\n      label: t('Alphabetical'),\n      value: 'alphabetical',\n    },\n    {\n      desc: true,\n      id: 'changed_on_delta_humanized',\n      label: t('Recently modified'),\n      value: 'recently_modified',\n    },\n    {\n      desc: false,\n      id: 'changed_on_delta_humanized',\n      label: t('Least recently modified'),\n      value: 'least_recently_modified',\n    },\n  ];\n\n  const renderCard = useCallback(\n    (chart: Chart) => (\n      <ChartCard\n        chart={chart}\n        showThumbnails={\n          userSettings\n            ? userSettings.thumbnails\n            : isFeatureEnabled(FeatureFlag.THUMBNAILS)\n        }\n        hasPerm={hasPerm}\n        openChartEditModal={openChartEditModal}\n        bulkSelectEnabled={bulkSelectEnabled}\n        addDangerToast={addDangerToast}\n        addSuccessToast={addSuccessToast}\n        refreshData={refreshData}\n        userId={userId}\n        loading={loading}\n        favoriteStatus={favoriteStatus[chart.id]}\n        saveFavoriteStatus={saveFavoriteStatus}\n        handleBulkChartExport={handleBulkChartExport}\n      />\n    ),\n    [\n      addDangerToast,\n      addSuccessToast,\n      bulkSelectEnabled,\n      favoriteStatus,\n      hasPerm,\n      loading,\n    ],\n  );\n\n  const subMenuButtons: SubMenuProps['buttons'] = [];\n  if (canDelete || canExport) {\n    subMenuButtons.push({\n      name: t('Bulk select'),\n      buttonStyle: 'secondary',\n      'data-test': 'bulk-select',\n      onClick: toggleBulkSelect,\n    });\n  }\n  if (canCreate) {\n    subMenuButtons.push({\n      name: (\n        <>\n          <i className=\"fa fa-plus\" /> {t('Chart')}\n        </>\n      ),\n      buttonStyle: 'primary',\n      onClick: () => {\n        history.push('/chart/add');\n      },\n    });\n\n    if (isFeatureEnabled(FeatureFlag.VERSIONED_EXPORT)) {\n      subMenuButtons.push({\n        name: (\n          <Tooltip\n            id=\"import-tooltip\"\n            title={t('Import charts')}\n            placement=\"bottomRight\"\n          >\n            <Icons.Import data-test=\"import-button\" />\n          </Tooltip>\n        ),\n        buttonStyle: 'link',\n        onClick: openChartImportModal,\n      });\n    }\n  }\n\n  return (\n    <>\n      <SubMenu name={t('Charts')} buttons={subMenuButtons} />\n      {sliceCurrentlyEditing && (\n        <PropertiesModal\n          onHide={closeChartEditModal}\n          onSave={handleChartUpdated}\n          show\n          slice={sliceCurrentlyEditing}\n        />\n      )}\n      <ConfirmStatusChange\n        title={t('Please confirm')}\n        description={t('Are you sure you want to delete the selected charts?')}\n        onConfirm={handleBulkChartDelete}\n      >\n        {confirmDelete => {\n          const bulkActions: ListViewProps['bulkActions'] = [];\n          if (canDelete) {\n            bulkActions.push({\n              key: 'delete',\n              name: t('Delete'),\n              type: 'danger',\n              onSelect: confirmDelete,\n            });\n          }\n          if (canExport) {\n            bulkActions.push({\n              key: 'export',\n              name: t('Export'),\n              type: 'primary',\n              onSelect: handleBulkChartExport,\n            });\n          }\n          return (\n            <ListView<Chart>\n              bulkActions={bulkActions}\n              bulkSelectEnabled={bulkSelectEnabled}\n              cardSortSelectOptions={sortTypes}\n              className=\"chart-list-view\"\n              columns={columns}\n              count={chartCount}\n              data={charts}\n              disableBulkSelect={toggleBulkSelect}\n              fetchData={fetchData}\n              filters={filters}\n              initialSort={initialSort}\n              loading={loading}\n              pageSize={PAGE_SIZE}\n              renderCard={renderCard}\n              showThumbnails={\n                userSettings\n                  ? userSettings.thumbnails\n                  : isFeatureEnabled(FeatureFlag.THUMBNAILS)\n              }\n              defaultViewMode={\n                isFeatureEnabled(FeatureFlag.LISTVIEWS_DEFAULT_CARD_VIEW)\n                  ? 'card'\n                  : 'table'\n              }\n            />\n          );\n        }}\n      </ConfirmStatusChange>\n\n      <ImportModelsModal\n        resourceName=\"chart\"\n        resourceLabel={t('chart')}\n        passwordsNeededMessage={PASSWORDS_NEEDED_MESSAGE}\n        confirmOverwriteMessage={CONFIRM_OVERWRITE_MESSAGE}\n        addDangerToast={addDangerToast}\n        addSuccessToast={addSuccessToast}\n        onModelImport={handleChartImport}\n        show={importingChart}\n        onHide={closeChartImportModal}\n        passwordFields={passwordFields}\n        setPasswordFields={setPasswordFields}\n      />\n      {preparingExport && <Loading />}\n    </>\n  );\n}\n\nexport default withToasts(ChartList);\n"],"names":["baseIteratee","baseUniq","module","exports","array","iteratee","length","HelperMessage","styled","theme","colors","grayscale","base","typography","sizes","s","StyledInputContainer","gridUnit","light1","light2","resourceName","resourceLabel","passwordsNeededMessage","confirmOverwriteMessage","onModelImport","show","onHide","passwordFields","setPasswordFields","isHidden","setIsHidden","useState","passwords","setPasswords","needsOverwriteConfirm","setNeedsOverwriteConfirm","confirmedOverwrite","setConfirmedOverwrite","fileList","setFileList","importingModel","setImportingModel","errorMessage","setErrorMessage","clearModal","state","alreadyExists","passwordsNeeded","importResource","useImportResource","msg","useEffect","name","className","disablePrimaryButton","onHandledPrimaryAction","originFileObj","File","then","result","primaryButtonName","t","primaryButtonType","width","title","id","accept","onChange","info","file","status","onRemove","removedFile","filter","uid","customRequest","disabled","loading","showDbInstallInstructions","map","fileName","key","autoComplete","type","value","event","target","targetValue","currentTarget","toUpperCase","StyledTag","AntdTag","index","onDelete","editable","onClick","isLongTag","useMemo","tagElem","closable","onClose","color","slice","role","href","rel","Tooltip","TagsDiv","tags","maxTags","tempMaxTags","setTempMaxTags","handleDelete","tagsIsLong","extraTags","tag","undefined","StyledLinkedTooltip","light5","CrossLinksTooltip","children","crossLinks","moreItems","placement","link","to","StyledCrossLinks","weights","bold","CrossLinks","maxLinks","linkPrefix","crossLinksRef","useRef","plusRef","elementsTruncated","hasHiddenElements","useTruncation","hasMoreItems","links","ref","tooltipLinks","l","FlexRowContainer","PASSWORDS_NEEDED_MESSAGE","CONFIRM_OVERWRITE_MESSAGE","setupPlugins","registry","getChartMetadataRegistry","createFetchDatasets","async","filterValue","page","pageSize","filters","col","opr","queryParams","rison","columns","keys","order_column","order_direction","page_size","json","SupersetClient","endpoint","datasets","table_name","tableName","label","data","totalCount","count","StyledActions","bootstrapData","getBootstrapData","withToasts","props","addDangerToast","addSuccessToast","user","userId","history","useHistory","resourceCount","chartCount","resourceCollection","charts","bulkSelectEnabled","setResourceCollection","setCharts","hasPerm","fetchData","toggleBulkSelect","refreshData","useListViewResource","chartIds","c","saveFavoriteStatus","favoriteStatus","useFavoriteStatus","sliceCurrentlyEditing","handleChartUpdated","openChartEditModal","closeChartEditModal","useChartEditModal","importingChart","showImportModal","preparingExport","setPreparingExport","userSettings","dangerouslyGetItemDoNotUse","toString","canCreate","canEdit","canDelete","canExport","isFeatureEnabled","FeatureFlag","initialSort","desc","enableBroadUserAccess","common","conf","ENABLE_BROAD_ACTIVITY_ACCESS","handleBulkChartExport","chartsToExport","ids","handleResourceExport","changedByName","lastSavedBy","first_name","last_name","fetchDashboards","FilterOperator","response","catch","dashboards","dashboard_title","dashboardTitle","Cell","row","original","FaveStar","itemId","saveFaveStar","isStarred","Header","disableSortBy","size","hidden","url","slice_name","sliceName","certified_by","certifiedBy","certification_details","certificationDetails","description","CertifiedBadge","details","InfoTooltip","tooltip","viewBox","accessor","viz_type","vizType","get","datasource_name_text","dsNameTxt","datasource_url","dsUrl","GenericLink","ensureIsArray","d","last_saved_by","changed_by_url","changedByUrl","last_saved_at","lastSavedAt","moment","fromNow","created_by","createdBy","Tags","ConfirmStatusChange","onConfirm","handleChartDelete","confirmDelete","tabIndex","Icons","favoritesFilter","urlDisplay","input","operator","unfilteredLabel","selects","filters_list","fetchSelects","createFetchRelated","createErrorHandler","errMsg","paginate","k","nativeFilterGate","behaviors","sort","a","b","push","loadTags","sortTypes","renderCard","useCallback","chart","ChartCard","showThumbnails","thumbnails","subMenuButtons","buttonStyle","SubMenu","buttons","PropertiesModal","onSave","chartsToDelete","message","bulkActions","onSelect","ListView","cardSortSelectOptions","disableBulkSelect","defaultViewMode","Loading"],"sourceRoot":""}