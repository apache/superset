(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[9471],{43323:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var o=r(67294),n=r(11965);function a(e,t){class r extends o.Component{constructor(e){super(e),this.container=void 0,this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,null!=t&&t.componentWillUnmount&&t.componentWillUnmount.bind(this)()}setContainerRef(e){this.container=e}execute(){this.container&&e(this.container,this.props)}render(){const{id:e,className:t}=this.props;return(0,n.tZ)("div",{ref:this.setContainerRef,id:e,className:t})}}const a=r;return e.displayName&&(a.displayName=e.displayName),e.propTypes&&(a.propTypes={...a.propTypes,...e.propTypes}),e.defaultProps&&(a.defaultProps=e.defaultProps),r}},67869:(e,t,r)=>{"use strict";r.d(t,{E8:()=>S,CW:()=>R.Z,kI:()=>o,A5:()=>n.Z,Gz:()=>_.Z,Ys:()=>d.Z,$5:()=>E.Z,Dg:()=>h.Z,XF:()=>m.Z,gE:()=>a.Z,yE:()=>p.Z,eL:()=>s.Z,zR:()=>u.Z,UM:()=>C.Z,Bs:()=>N.Z,T8:()=>c.Z,Xs:()=>T.Xs,Ag:()=>T.Ag,Zf:()=>O.Zf,Gh:()=>O.Gh,B_:()=>i.Z,Qg:()=>O.Qg,j3:()=>l.Z,l:()=>T.ZP});var o=r(28062),n=r(97466),a=r(15226),i=r(81545),s=r(58586),l=r(45511),c=r(2995),u=r(98195),R=r(27965),_=r(86698),d=r(69224),E=r(77781),h=r(64236),m=r(65445),p=r(36361),C=r(132),N=r(31225),O=r(25130),T=r(78161);const S="#00A699"},8608:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var o=r(62761);function n(e,t,r){let o=e,n=t(o);for(;!r(n);){if(o-=1,o<0){o=e;break}n=t(o)}return o}function a(e){const{idealFontSize:t,maxWidth:r,maxHeight:a,style:i,...s}=e;let l;if(null!=t)l=t;else{if(null==a)throw new Error("You must specify at least one of maxHeight or idealFontSize");l=Math.floor(a)}function c(e){return(0,o.Z)({...s,style:{...i,fontSize:`${e}px`}})}return null!=r&&(l=n(l,c,(e=>e.width>0&&e.width<=r))),null!=a&&(l=n(l,c,(e=>e.height>0&&e.height<=a))),l}},62761:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(10660),n=r(61888),a=r(91572);function i(e,t){const{text:r,className:i,style:s,container:l}=e;if(0===r.length)return{height:0,width:0};const c=a.Y.createInContainer(l),u=a.S.createInContainer(c);(0,o.Z)(u,{className:i,style:s,text:r});const R=(0,n.Z)(u,t);return setTimeout((()=>{a.S.removeFromContainer(c),a.Y.removeFromContainer(l)}),500),R}},4470:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});class o{constructor(e){this.activeNodes=new Map,this.factoryFn=void 0,this.factoryFn=e}createInContainer(e){if(void 0===e&&(e=document.body),this.activeNodes.has(e)){const t=this.activeNodes.get(e);return t.counter+=1,t.node}const t=this.factoryFn();return e.append(t),this.activeNodes.set(e,{counter:1,node:t}),t}removeFromContainer(e){if(void 0===e&&(e=document.body),this.activeNodes.has(e)){const t=this.activeNodes.get(e);t.counter-=1,0===t.counter&&(e.removeChild(t.node),this.activeNodes.delete(e))}}}},48691:(e,t,r)=>{"use strict";r.d(t,{h:()=>o});const o="http://www.w3.org/2000/svg"},24313:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r(48691);function n(){const e=document.createElementNS(o.h,"svg");return e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",e.style.width="0",e.style.height="0",e.style.opacity="0",e.style.pointerEvents="none",e}},48e3:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r(48691);function n(){return document.createElementNS(o.h,"text")}},91572:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i,S:()=>s});var o=r(4470),n=r(24313),a=r(48e3);const i=new o.Z(n.Z),s=new o.Z(a.Z)},61888:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const o={height:20,width:100};function n(e,t){void 0===t&&(t=o);const{width:r,height:n}=e.getBBox?e.getBBox():t;return{height:Math.ceil(n),width:Math.ceil(r)}}},10660:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const o=["font","fontWeight","fontStyle","fontSize","fontFamily","letterSpacing"];function n(e,t){let{className:r,style:n={},text:a}=void 0===t?{}:t;const i=e;return i.textContent!==a&&(i.textContent=void 0===a?null:a),i.getAttribute("class")!==r&&i.setAttribute("class",null!=r?r:""),i.style.removeProperty("font"),i.style.removeProperty("font-weight"),i.style.removeProperty("font-style"),i.style.removeProperty("font-size"),i.style.removeProperty("font-family"),i.style.removeProperty("letter-spacing"),o.filter((e=>void 0!==n[e]&&null!==n[e])).forEach((e=>{i.style[e]=`${n[e]}`})),i}},16477:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnnotationOpacity:()=>Se.TJ,AnnotationSourceType:()=>Se.u$,AnnotationStyle:()=>Se.QW,AnnotationType:()=>Se.JJ,ApiLegacy:()=>o,ApiV1:()=>n,AppSection:()=>Ot.Tr,AxisType:()=>Ot.we,BRAND_COLOR:()=>$e.E8,Behavior:()=>Ot.cg,CategoricalAirbnb:()=>$e.CW,CategoricalColorNamespace:()=>$e.kI,CategoricalColorScale:()=>$e.A5,CategoricalD3:()=>$e.Gz,CategoricalEcharts:()=>$e.Ys,CategoricalGoogle:()=>$e.$5,CategoricalLyft:()=>$e.Dg,CategoricalPreset:()=>$e.XF,CategoricalScheme:()=>$e.gE,CategoricalSuperset:()=>$e.yE,ChartClient:()=>st,ChartDataProvider:()=>Nt,ChartFrame:()=>yt,ChartLabel:()=>Ot.Df,ChartMetadata:()=>lt.Z,ChartPlugin:()=>ct.Z,ChartProps:()=>ut.Z,ColorScheme:()=>$e.eL,ColorSchemeRegistry:()=>$e.zR,ComparisonType:()=>x.wj,ContributionType:()=>F.YC,CtasEnum:()=>F.WN,DEFAULT_METRICS:()=>I.BH,DTTM_ALIAS:()=>ue.W3,DataMaskType:()=>X.gT,DatasourceKey:()=>pe.Z,DatasourceType:()=>I.i9,EXTRA_FORM_DATA_APPEND_KEYS:()=>ue.Ci,EXTRA_FORM_DATA_OVERRIDE_EXTRA_KEYS:()=>ue.fn,EXTRA_FORM_DATA_OVERRIDE_KEYS:()=>ue.Ay,EXTRA_FORM_DATA_OVERRIDE_REGULAR_KEYS:()=>ue.NU,EXTRA_FORM_DATA_OVERRIDE_REGULAR_MAPPINGS:()=>ue.gn,EmotionCacheProvider:()=>Je.zo,ErrorTypeEnum:()=>F.C5,ExtensibleFunction:()=>a.Z,FAST_DEBOUNCE:()=>bt.o,FeatureFlag:()=>g.T,GenericDataType:()=>M.Z,LOCAL_PREFIX:()=>Le.D,NO_TIME_RANGE:()=>ue.vM,NativeFilterType:()=>X.BE,NumberFormats:()=>ge.Z,NumberFormatter:()=>ye.Z,NumberFormatterRegistry:()=>Ie.Z,OverwritePolicy:()=>l.r,PREVIEW_TIME:()=>Me.F,PREVIEW_VALUE:()=>ye.G,PandasAxis:()=>A,Plugin:()=>i.Z,Preset:()=>s.Z,QueryMode:()=>L.n,QueryState:()=>F.Tb,Registry:()=>l.Z,RegistryWithDefaultKey:()=>c.Z,RollingType:()=>x.su,SLOW_DEBOUNCE:()=>bt.M,SafeMarkdown:()=>Ut.Z,SequentialCommon:()=>$e.UM,SequentialD3:()=>$e.Bs,SequentialScheme:()=>$e.T8,SharedLabelColor:()=>$e.Xs,SharedLabelColorSource:()=>$e.Ag,SuperChart:()=>dt.Z,SupersetApiError:()=>Ae.P,SupersetApiErrorType:()=>Ae.M,SupersetClient:()=>J.Z,SupersetClientClass:()=>ee.Z,ThemeProvider:()=>Je.f6,TimeFormats:()=>Le.Z,TimeFormatter:()=>Me.Z,TimeGranularity:()=>ke.A,TooltipFrame:()=>Lt,TooltipTable:()=>xt,TypedRegistry:()=>u.Z,WithLegend:()=>Zt,__hack_reexport_AdvancedAnalytics:()=>x.ZP,__hack_reexport_Column:()=>f.ZP,__hack_reexport_Dashboard:()=>X.ZP,__hack_reexport_Datasource:()=>I.ZP,__hack_reexport_Metric:()=>Z.ZP,__hack_reexport_Query:()=>F.ZP,__hack_reexport_QueryFormData:()=>L.Z,__hack_reexport_QueryResponse:()=>M.C,__hack_reexport_Time:()=>q,__hack_reexport_chart_Base:()=>Ot.ZP,__hack_reexport_chart_QueryResponse:()=>St,__hack_reexport_chart_TransformFunction:()=>Tt,__hack_reexport_connection:()=>te,__hack_reexport_dimension:()=>ze,__hack_reexport_jed:()=>H,__hack_reexport_translation:()=>z,addAlpha:()=>$e.Zf,addLocaleData:()=>j.oK,addTranslation:()=>j.Zt,addTranslations:()=>j.hk,buildQueryContext:()=>Re.Z,buildQueryObject:()=>_e.Z,callApi:()=>$.Z,chartLabelExplanations:()=>Ot.t$,chartLabelWeight:()=>Ot.eH,computeMaxFontSize:()=>Xe.Z,concludedQueryStateList:()=>F.yv,configure:()=>j.jQ,convertFilter:()=>de.Z,convertKeysToCamelCase:()=>R.Z,createD3NumberFormatter:()=>fe.Z,createD3TimeFormatter:()=>be.Z,createDurationFormatter:()=>ve.Z,createEmotionCache:()=>Je.S9,createLoadableRenderer:()=>Rt.Z,createMultiFormatter:()=>Ue.Z,createSiAtMostNDigitFormatter:()=>Pe,createSmartNumberFormatter:()=>Fe.Z,css:()=>Je.iv,defineSharedModule:()=>re.vO,defineSharedModules:()=>re.YW,emotionCache:()=>Je.Yi,ensureIsArray:()=>_.Z,ensureIsInt:()=>d.Z,evalExpression:()=>wt.f,extractQueryFields:()=>Oe.Z,extractTimegrain:()=>Ee.Z,formatNumber:()=>De.uf,formatTime:()=>xe.mr,formatTimeRange:()=>xe.ns,getAnalogousColors:()=>$e.Gh,getCategoricalSchemeRegistry:()=>$e.B_,getChartBuildQueryRegistry:()=>at.Z,getChartComponentRegistry:()=>Et.Z,getChartControlPanelRegistry:()=>ht.Z,getChartMetadataRegistry:()=>it.Z,getChartTransformPropsRegistry:()=>mt.Z,getColumnLabel:()=>he.Z,getContrastingColor:()=>$e.Qg,getExtensionsRegistry:()=>Gt.I,getMetricLabel:()=>me.Z,getMultipleTextDimensions:()=>Ke,getNumberFormatter:()=>De.JB,getNumberFormatterRegistry:()=>De.ZP,getSequentialSchemeRegistry:()=>$e.j3,getSharedLabelColor:()=>$e.l,getTextDimension:()=>Ye.Z,getTimeFormatter:()=>xe.bt,getTimeFormatterForGranularity:()=>xe.uh,getTimeFormatterRegistry:()=>xe.ZP,getTimeRangeFormatter:()=>xe.Rg,getUiOverrideRegistry:()=>Gt._,getXAxisColumn:()=>Te.Bw,getXAxisLabel:()=>Te.M8,hasGenericChartAxes:()=>Te.O6,isAdhocColumn:()=>f.GA,isAdhocMetricSQL:()=>Z.q5,isAdhocMetricSimple:()=>Z.nX,isBinaryAdhocFilter:()=>v.kC,isBinaryOperator:()=>P.VU,isDefined:()=>E.Z,isEqualArray:()=>m.Z,isEventAnnotationLayer:()=>Se.pD,isFeatureEnabled:()=>g.c,isFilterDivider:()=>X.nY,isFormulaAnnotationLayer:()=>Se.x5,isFreeFormAdhocFilter:()=>v.jz,isIntervalAnnotationLayer:()=>Se.Ry,isNativeFilter:()=>X.kI,isNativeFilterWithDataMask:()=>X.S0,isPhysicalColumn:()=>f.s9,isPostProcessingAggregation:()=>b,isPostProcessingBoxplot:()=>U,isPostProcessingCompare:()=>V,isPostProcessingContribution:()=>w,isPostProcessingCum:()=>W,isPostProcessingDiff:()=>k,isPostProcessingPivot:()=>G,isPostProcessingProphet:()=>B,isPostProcessingResample:()=>K,isPostProcessingRolling:()=>Y,isPostProcessingSort:()=>Q,isQueryFormColumn:()=>f.Gk,isQueryFormMetric:()=>Z.I0,isRecordAnnotationResult:()=>Se.$c,isRequired:()=>h.Z,isSavedMetric:()=>Z.AG,isSetAdhocFilter:()=>v.VK,isSetOperator:()=>P.XA,isSimpleAdhocFilter:()=>v.Ki,isTableAnnotationLayer:()=>Se.mn,isTimeseriesAnnotationLayer:()=>Se.nl,isTimeseriesAnnotationResult:()=>Se.b4,isUnaryAdhocFilter:()=>v._l,isUnaryOperator:()=>P.CW,isValidExpression:()=>wt.$,isXAxisSet:()=>Te.SR,jsx:()=>Je.tZ,keyframes:()=>Je.F4,legacyValidateInteger:()=>et.Z,legacyValidateNumber:()=>tt.Z,logging:()=>N.Z,lruCache:()=>S,makeApi:()=>se.Z,makeSingleton:()=>p.Z,mergeMargin:()=>je,normalizeOrderBy:()=>Ce.Z,normalizeTimeColumn:()=>Ne.T,parseLength:()=>He.Z,promiseTimeout:()=>C,reactify:()=>_t.Z,removeDuplicates:()=>O.Z,reset:()=>re.mc,resetTranslation:()=>j.sq,runningQueryStateList:()=>F.sn,seed:()=>y.D,seedRandom:()=>y.b,smartDateDetailedFormatter:()=>Ge.Z,smartDateFormatter:()=>we.Z,smartDateVerboseFormatter:()=>Be.Z,styled:()=>Je.iK,supersetTheme:()=>Je.K6,t:()=>j.t,testQuery:()=>F.Qn,testQueryResponse:()=>F.pY,testQueryResults:()=>F.eh,tn:()=>j.tn,typedMemo:()=>D.l,useTheme:()=>Je.Fg,validateInteger:()=>rt,validateNonEmpty:()=>nt.Z,validateNumber:()=>ot.Z,withTheme:()=>Je.Zz});var o={};r.r(o),r.d(o,{__hack_reexport_query_api_legacy:()=>ie,fetchExploreJson:()=>oe,getDatasourceMetadata:()=>ae,getFormData:()=>ne});var n={};r.r(n),r.d(n,{default:()=>ce,getChartData:()=>le});var a=r(54732),i=r(91189),s=r(46449),l=r(90537),c=r(29243),u=r(53652),R=r(78036),_=r(55786),d=r(77675),E=r(37731),h=r(49714),m=r(1111),p=r(1875);function C(e,t){return new Promise((r=>{setTimeout((()=>{r(e())}),t)}))}var N=r(68492),O=r(74765);class T{constructor(e){if(this.cache=void 0,this.capacity=void 0,e<1)throw new Error("The capacity in LRU must be greater than 0.");this.capacity=e,this.cache=new Map}has(e){return this.cache.has(e)}get(e){if("string"!=typeof e)throw new TypeError("The LRUCache key must be string.");if(this.cache.has(e)){const t=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,t),t}}set(e,t){if("string"!=typeof e)throw new TypeError("The LRUCache key must be string.");this.cache.size>=this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(e,t)}clear(){this.cache.clear()}get size(){return this.cache.size}}function S(e){return void 0===e&&(e=100),new T(e)}var A,g=r(93185),y=r(70406),D=r(26635),I=r(46078),f=r(72813),v=r(46306),Z=r(62446),P=r(31612),F=r(43716),L=r(20620),M=r(88889),x=r(62363);function b(e){return"aggregation"===(null==e?void 0:e.operation)}function U(e){return"boxplot"===(null==e?void 0:e.operation)}function w(e){return"contribution"===(null==e?void 0:e.operation)}function G(e){return"pivot"===(null==e?void 0:e.operation)}function B(e){return"prophet"===(null==e?void 0:e.operation)}function k(e){return"diff"===(null==e?void 0:e.operation)}function Y(e){return"rolling"===(null==e?void 0:e.operation)}function W(e){return"cum"===(null==e?void 0:e.operation)}function V(e){return"compare"===(null==e?void 0:e.operation)}function Q(e){return"sort"===(null==e?void 0:e.operation)}function K(e){return"resample"===(null==e?void 0:e.operation)}!function(e){e[e.Row=0]="Row",e[e.Column=1]="Column"}(A||(A={}));var X=r(10916);const q={};var j=r(55867);const H={},z={};var $=r(97065),J=r(31069),ee=r(99619);const te={};var re=r(81847);async function oe(e){let{client:t=J.Z,method:r="POST",requestConfig:o,endpoint:n="/superset/explore_json/",formData:a}=e;const{json:i}=await t.request({...o,method:r,endpoint:n,searchParams:"GET"===r?new URLSearchParams({form_data:JSON.stringify(a)}):void 0,postPayload:"POST"===r?{form_data:a}:void 0});return i}function ne(e){let{client:t=J.Z,sliceId:r,overrideFormData:o,requestConfig:n}=e;const a=t.get({endpoint:`/api/v1/form_data/?slice_id=${r}`,...n}).then((e=>{let{json:t}=e;return t}));return o?a.then((e=>({...e,...o}))):a}function ae(e){let{client:t=J.Z,datasourceKey:r,requestConfig:o}=e;return t.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${r}`,...o}).then((e=>e.json))}const ie={};var se=r(22102);const le=(0,se.Z)({method:"POST",endpoint:"/api/v1/chart/data"}),ce={getChartData:le};var ue=r(5364),Re=r(61654),_e=r(65946),de=r(78483),Ee=r(5031),he=r(10581),me=r(56652),pe=r(67706),Ce=r(82028),Ne=r(78444),Oe=r(69363),Te=r(11146),Se=r(34804),Ae=r(18014),ge=r(45636),ye=r(77809),De=r(67190),Ie=r(18212),fe=r(43851),ve=r(75430),Ze=r(16722);function Pe(e){void 0===e&&(e={});const{description:t,n:r=3,id:o,label:n}=e,a=(0,Ze.WU)(`.${r}s`);return new ye.Z({description:t,formatFunc:e=>{const t=a(e);return t.slice(-1)<"A"?parseFloat(t).toString():t},id:null!=o?o:`si_at_most_${r}_digit`,label:null!=n?n:`SI with at most ${r} significant digits`})}var Fe=r(84986),Le=r(42846),Me=r(69244),xe=r(51115),be=r(69),Ue=r(11538),we=r(78900),Ge=r(62720),Be=r(40962),ke=r(18010),Ye=r(62761),We=r(61888),Ve=r(91572),Qe=r(10660);function Ke(e,t){const{texts:r,className:o,style:n,container:a}=e,i=new Map;let s,l;i.set("",{height:0,width:0});const c=r.map((e=>{if(i.has(e))return i.get(e);s||(l=Ve.Y.createInContainer(a),s=Ve.S.createInContainer(l)),(0,Qe.Z)(s,{className:o,style:n,text:e});const r=(0,We.Z)(s,t);return i.set(e,r),r}));return l&&s&&setTimeout((()=>{Ve.S.removeFromContainer(l),Ve.Y.removeFromContainer(a)}),500),c}var Xe=r(8608);function qe(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=0),Number.isNaN(t)||null===t?r:Number.isNaN(r)||null===r?t:e(t,r)}function je(e,t,r){void 0===e&&(e={}),void 0===t&&(t={}),void 0===r&&(r="expand");const{top:o,left:n,bottom:a,right:i}=e,s="expand"===r?Math.max:Math.min;return{bottom:qe(s,a,t.bottom),left:qe(s,n,t.left),right:qe(s,i,t.right),top:qe(s,o,t.top)}}var He=r(80644);const ze={};var $e=r(67869),Je=r(51995),et=r(75294),tt=r(99298);function rt(e){return!("string"==typeof e&&e.trim().length>0&&Number.isInteger(Number(e.trim()))||"number"==typeof e&&Number.isInteger(e))&&(0,j.t)("is expected to be an integer")}var ot=r(872),nt=r(95826),at=r(19427),it=r(11064);class st{constructor(e){void 0===e&&(e={}),this.client=void 0;const{client:t=J.Z}=e;this.client=t}loadFormData(e,t){return"sliceId"in e?this.client.get({endpoint:`/api/v1/form_data/?slice_id=${e.sliceId}`,...t}).then((e=>e.json)).then((t=>({...t,...e.formData}))):e.formData?Promise.resolve(e.formData):Promise.reject(new Error("At least one of sliceId or formData must be specified"))}async loadQueryData(e,t){const{viz_type:r}=e,o=(0,it.Z)(),n=(0,at.Z)();if(o.has(r)){var a;const{useLegacyApi:i}=o.get(r),s=null!=(a=await n.get(r))?a:()=>e,l=i?{endpoint:"/superset/explore_json/",postPayload:{form_data:s(e)},...t}:{endpoint:"/api/v1/chart/data",jsonPayload:{query_context:s(e)},...t};return this.client.post(l).then((e=>Array.isArray(e.json)?e.json:[e.json]))}return Promise.reject(new Error(`Unknown chart type: ${r}`))}loadDatasource(e,t){return this.client.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${e}`,...t}).then((e=>e.json))}loadAnnotation(e){return(0,E.Z)(e.sourceType)?Promise.reject(new Error("This feature is not implemented yet.")):Promise.resolve({})}loadAnnotations(e){return Array.isArray(e)&&e.length>0?Promise.all(e.map((e=>this.loadAnnotation(e)))).then((t=>e.reduce(((e,r,o)=>{const n=e;return n[r.name]=t[o],n}),{}))):Promise.resolve({})}loadChartData(e){return this.loadFormData(e).then((e=>Promise.all([this.loadAnnotations(e.annotation_layers),this.loadDatasource(e.datasource),this.loadQueryData(e)]).then((t=>{let[r,o,n]=t;return{annotationData:r,datasource:o,formData:e,queriesData:n}}))))}}var lt=r(48805),ct=r(84912),ut=r(9330),Rt=r(89453),_t=r(43323),dt=r(88274),Et=r(54085),ht=r(37687),mt=r(74464),pt=r(67294);class Ct extends pt.PureComponent{constructor(e){super(e),this.chartClient=void 0,this.handleFetchData=()=>{const{loadDatasource:e,formDataRequestOptions:t,datasourceRequestOptions:r,queryRequestOptions:o}=this.props;this.setState({status:"loading"},(()=>{try{this.chartClient.loadFormData(this.extractSliceIdAndFormData(),t).then((t=>Promise.all([e?this.chartClient.loadDatasource(t.datasource,r):Promise.resolve(void 0),this.chartClient.loadQueryData(t,o)]).then((e=>{let[r,o]=e;return{datasource:r,formData:t,queriesData:o}})))).then(this.handleReceiveData).catch(this.handleError)}catch(e){this.handleError(e)}}))},this.handleReceiveData=e=>{const{onLoaded:t}=this.props;t&&t(e),this.setState({payload:e,status:"loaded"})},this.handleError=e=>{const{onError:t}=this.props;t&&t(e),this.setState({error:e,status:"error"})},this.state={status:"uninitialized"},this.chartClient=new st({client:e.client})}componentDidMount(){this.handleFetchData()}componentDidUpdate(e){const{formData:t,sliceId:r}=this.props;t===e.formData&&r===e.sliceId||this.handleFetchData()}extractSliceIdAndFormData(){const{formData:e,sliceId:t}=this.props;return e?{formData:e}:{sliceId:t}}render(){const{children:e}=this.props,{status:t,payload:r,error:o}=this.state;switch(t){case"loading":return e({loading:!0});case"loaded":return e({payload:r});case"error":return e({error:o});default:return null}}}const Nt=Ct;var Ot=r(16355);const Tt={},St={};var At=r(11965);function gt(e){return(0,E.Z)(e)&&"number"==typeof e}class yt extends pt.PureComponent{render(){const{contentWidth:e,contentHeight:t,width:r,height:o,renderContent:n}=this.props,a=gt(e)&&e>r,i=gt(t)&&t>o;return a||i?(0,At.tZ)("div",{style:{height:o,overflowX:a?"auto":"hidden",overflowY:i?"auto":"hidden",width:r}},n({height:Math.max(null!=t?t:0,o),width:Math.max(null!=e?e:0,r)})):n({height:o,width:r})}}yt.defaultProps={renderContent(){}};var Dt=r(49302);const It={display:"flex",flexGrow:0,flexShrink:0,order:-1},ft={flexBasis:"auto",flexGrow:1,flexShrink:1,position:"relative"};class vt extends pt.PureComponent{getContainerDirection(){const{position:e}=this.props;return"left"===e?"row":"right"===e?"row-reverse":"bottom"===e?"column-reverse":"column"}getLegendJustifyContent(){const{legendJustifyContent:e,position:t}=this.props;return e||("left"===t||"right"===t?"flex-start":"flex-end")}render(){const{className:e,debounceTime:t,width:r,height:o,position:n,renderChart:a,renderLegend:i}=this.props,s="left"===n||"right"===n,l={display:"flex",flexDirection:this.getContainerDirection(),height:o,width:r},c={...ft};s?c.width=0:c.height=0;const u=s?"column":"row",R={...It,flexDirection:u,justifyContent:this.getLegendJustifyContent()};return(0,At.tZ)("div",{className:`with-legend ${e}`,style:l},i&&(0,At.tZ)("div",{className:"legend-container",style:R},i({direction:u})),(0,At.tZ)("div",{className:"main-container",style:c},(0,At.tZ)(Dt.Z,{debounceTime:t},(e=>e.width>0&&e.height>0?a(e):null))))}}vt.defaultProps={className:"",height:"auto",position:"top",width:"auto"};const Zt=vt,Pt={padding:8};class Ft extends pt.PureComponent{render(){const{className:e,children:t}=this.props;return(0,At.tZ)("div",{className:e,style:Pt},t)}}Ft.defaultProps={className:""};const Lt=Ft,Mt={paddingLeft:8,textAlign:"right"};class xt extends pt.PureComponent{render(){const{className:e,data:t}=this.props;return(0,At.tZ)("table",{className:e},(0,At.tZ)("tbody",null,t.map((e=>{let{key:t,keyColumn:r,keyStyle:o,valueColumn:n,valueStyle:a}=e;return(0,At.tZ)("tr",{key:t},(0,At.tZ)("td",{style:o},null!=r?r:t),(0,At.tZ)("td",{style:a?{...Mt,...a}:Mt},n))}))))}}xt.defaultProps={className:"",data:[]};var bt=r(68122),Ut=r(78186),wt=r(60524),Gt=r(75049)},43716:(e,t,r)=>{"use strict";r.d(t,{C5:()=>n,WN:()=>a,Tb:()=>i,sn:()=>s,yv:()=>l,Qn:()=>c,eh:()=>u,pY:()=>R,YC:()=>_,ZP:()=>d});var o=r(46078);const n={FRONTEND_CSRF_ERROR:"FRONTEND_CSRF_ERROR",FRONTEND_NETWORK_ERROR:"FRONTEND_NETWORK_ERROR",FRONTEND_TIMEOUT_ERROR:"FRONTEND_TIMEOUT_ERROR",GENERIC_DB_ENGINE_ERROR:"GENERIC_DB_ENGINE_ERROR",COLUMN_DOES_NOT_EXIST_ERROR:"COLUMN_DOES_NOT_EXIST_ERROR",TABLE_DOES_NOT_EXIST_ERROR:"TABLE_DOES_NOT_EXIST_ERROR",SCHEMA_DOES_NOT_EXIST_ERROR:"SCHEMA_DOES_NOT_EXIST_ERROR",CONNECTION_INVALID_USERNAME_ERROR:"CONNECTION_INVALID_USERNAME_ERROR",CONNECTION_INVALID_PASSWORD_ERROR:"CONNECTION_INVALID_PASSWORD_ERROR",CONNECTION_INVALID_HOSTNAME_ERROR:"CONNECTION_INVALID_HOSTNAME_ERROR",CONNECTION_PORT_CLOSED_ERROR:"CONNECTION_PORT_CLOSED_ERROR",CONNECTION_INVALID_PORT_ERROR:"CONNECTION_INVALID_PORT_ERROR",CONNECTION_HOST_DOWN_ERROR:"CONNECTION_HOST_DOWN_ERROR",CONNECTION_ACCESS_DENIED_ERROR:"CONNECTION_ACCESS_DENIED_ERROR",CONNECTION_UNKNOWN_DATABASE_ERROR:"CONNECTION_UNKNOWN_DATABASE_ERROR",CONNECTION_DATABASE_PERMISSIONS_ERROR:"CONNECTION_DATABASE_PERMISSIONS_ERROR",CONNECTION_MISSING_PARAMETERS_ERRORS:"CONNECTION_MISSING_PARAMETERS_ERRORS",OBJECT_DOES_NOT_EXIST_ERROR:"OBJECT_DOES_NOT_EXIST_ERROR",SYNTAX_ERROR:"SYNTAX_ERROR",VIZ_GET_DF_ERROR:"VIZ_GET_DF_ERROR",UNKNOWN_DATASOURCE_TYPE_ERROR:"UNKNOWN_DATASOURCE_TYPE_ERROR",FAILED_FETCHING_DATASOURCE_INFO_ERROR:"FAILED_FETCHING_DATASOURCE_INFO_ERROR",TABLE_SECURITY_ACCESS_ERROR:"TABLE_SECURITY_ACCESS_ERROR",DATASOURCE_SECURITY_ACCESS_ERROR:"DATASOURCE_SECURITY_ACCESS_ERROR",DATABASE_SECURITY_ACCESS_ERROR:"DATABASE_SECURITY_ACCESS_ERROR",QUERY_SECURITY_ACCESS_ERROR:"QUERY_SECURITY_ACCESS_ERROR",MISSING_OWNERSHIP_ERROR:"MISSING_OWNERSHIP_ERROR",BACKEND_TIMEOUT_ERROR:"BACKEND_TIMEOUT_ERROR",DATABASE_NOT_FOUND_ERROR:"DATABASE_NOT_FOUND_ERROR",MISSING_TEMPLATE_PARAMS_ERROR:"MISSING_TEMPLATE_PARAMS_ERROR",INVALID_TEMPLATE_PARAMS_ERROR:"INVALID_TEMPLATE_PARAMS_ERROR",RESULTS_BACKEND_NOT_CONFIGURED_ERROR:"RESULTS_BACKEND_NOT_CONFIGURED_ERROR",DML_NOT_ALLOWED_ERROR:"DML_NOT_ALLOWED_ERROR",INVALID_CTAS_QUERY_ERROR:"INVALID_CTAS_QUERY_ERROR",INVALID_CVAS_QUERY_ERROR:"INVALID_CVAS_QUERY_ERROR",SQLLAB_TIMEOUT_ERROR:"SQLLAB_TIMEOUT_ERROR",RESULTS_BACKEND_ERROR:"RESULTS_BACKEND_ERROR",ASYNC_WORKERS_ERROR:"ASYNC_WORKERS_ERROR",GENERIC_COMMAND_ERROR:"GENERIC_COMMAND_ERROR",GENERIC_BACKEND_ERROR:"GENERIC_BACKEND_ERROR",INVALID_PAYLOAD_FORMAT_ERROR:"INVALID_PAYLOAD_FORMAT_ERROR",INVALID_PAYLOAD_SCHEMA_ERROR:"INVALID_PAYLOAD_SCHEMA_ERROR"},a={TABLE:"TABLE",VIEW:"VIEW"};var i;!function(e){e.STARTED="started",e.STOPPED="stopped",e.FAILED="failed",e.PENDING="pending",e.RUNNING="running",e.SCHEDULED="scheduled",e.SUCCESS="success",e.FETCHING="fetching",e.TIMED_OUT="timed_out"}(i||(i={}));const s=[i.RUNNING,i.STARTED,i.PENDING,i.FETCHING,i.SCHEDULED],l=[i.STOPPED,i.FAILED,i.SUCCESS,i.TIMED_OUT],c={id:"clientId2353",dbId:1,sql:"SELECT * FROM something",sqlEditorId:"dfsadfs",tab:"unimportant",tempTable:"",ctas:!1,cached:!1,errorMessage:null,extra:{progress:null},isDataPreview:!1,progress:0,resultsKey:null,state:i.SUCCESS,tempSchema:null,trackingUrl:null,templateParams:null,rows:42,queryLimit:100,limitingFactor:"",endDttm:1476910579693,duration:"",startDttm:1476910566092.96,time:{},user:{},userId:1,db:{},started:"",querylink:{},queryId:1,executedSql:"",output:"",actions:{},type:o.i9.Query,columns:[{name:"Column 1",type:"STRING",is_dttm:!1},{name:"Column 3",type:"STRING",is_dttm:!1},{name:"Column 2",type:"TIMESTAMP",is_dttm:!0}]},u={results:{displayLimitReached:!1,columns:[{name:"Column 1",type:"STRING",is_dttm:!1},{name:"Column 3",type:"STRING",is_dttm:!1},{name:"Column 2",type:"TIMESTAMP",is_dttm:!0}],data:[{"Column 1":"a","Column 2":"b","Column 3":"2014-11-11T00:00:00"}],expanded_columns:[],selected_columns:[{name:"Column 1",type:"STRING",is_dttm:!1},{name:"Column 3",type:"STRING",is_dttm:!1},{name:"Column 2",type:"TIMESTAMP",is_dttm:!0}],query:{limit:6}}},R={...c,...u};var _;!function(e){e.Row="row",e.Column="column"}(_||(_={}));const d={}},77675:(e,t,r)=>{"use strict";function o(e,t){const r=parseInt(String(e),10),o=void 0===t?NaN:t;return Number.isNaN(r)?o:r}r.d(t,{Z:()=>o})},70406:(e,t,r)=>{"use strict";r.d(t,{D:()=>a,b:()=>i});var o=r(36377),n=r.n(o);function a(e){return n()(e)}function i(){return n()("superset-ui")()}},26635:(e,t,r)=>{"use strict";r.d(t,{l:()=>o});const o=r(67294).memo},75042:()=>{}}]);
//# sourceMappingURL=bc753eab1937650d8a4f.chunk.js.map
