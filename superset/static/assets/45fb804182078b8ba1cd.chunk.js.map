{"version":3,"file":"45fb804182078b8ba1cd.chunk.js","mappings":"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","sources":["webpack://superset/./src/views/CRUD/data/common.ts","webpack://superset/./src/views/CRUD/data/components/SyntaxHighlighterCopy/index.tsx","webpack://superset/./src/views/CRUD/data/hooks.ts","webpack://superset/./src/views/CRUD/data/query/QueryPreviewModal.tsx","webpack://superset/./src/views/CRUD/data/query/QueryList.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { t } from '@superset-ui/core';\n\nexport const commonMenuData = {\n  name: t('SQL'),\n  tabs: [\n    {\n      name: 'Saved queries',\n      label: t('Saved queries'),\n      url: '/savedqueryview/list/',\n      usesRouter: true,\n    },\n    {\n      name: 'Query history',\n      label: t('Query history'),\n      url: '/superset/sqllab/history/',\n      usesRouter: true,\n    },\n  ],\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { styled, t } from '@superset-ui/core';\nimport { SyntaxHighlighterProps } from 'react-syntax-highlighter';\nimport sqlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/sql';\nimport htmlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/htmlbars';\nimport markdownSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/markdown';\nimport jsonSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/json';\nimport github from 'react-syntax-highlighter/dist/cjs/styles/hljs/github';\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/light';\nimport Icons from 'src/components/Icons';\nimport { ToastProps } from 'src/components/MessageToasts/withToasts';\nimport copyTextToClipboard from 'src/utils/copy';\n\nSyntaxHighlighter.registerLanguage('sql', sqlSyntax);\nSyntaxHighlighter.registerLanguage('markdown', markdownSyntax);\nSyntaxHighlighter.registerLanguage('html', htmlSyntax);\nSyntaxHighlighter.registerLanguage('json', jsonSyntax);\n\nconst SyntaxHighlighterWrapper = styled.div`\n  margin-top: -24px;\n\n  &:hover {\n    svg {\n      visibility: visible;\n    }\n  }\n\n  svg {\n    position: relative;\n    top: 40px;\n    left: 512px;\n    visibility: hidden;\n    margin: -4px;\n    color: ${({ theme }) => theme.colors.grayscale.base};\n  }\n`;\n\nexport default function SyntaxHighlighterCopy({\n  addDangerToast,\n  addSuccessToast,\n  children,\n  ...syntaxHighlighterProps\n}: SyntaxHighlighterProps & {\n  children: string;\n  addDangerToast?: ToastProps['addDangerToast'];\n  addSuccessToast?: ToastProps['addSuccessToast'];\n  language: 'sql' | 'markdown' | 'html' | 'json';\n}) {\n  function copyToClipboard(textToCopy: string) {\n    copyTextToClipboard(() => Promise.resolve(textToCopy))\n      .then(() => {\n        if (addSuccessToast) {\n          addSuccessToast(t('SQL Copied!'));\n        }\n      })\n      .catch(() => {\n        if (addDangerToast) {\n          addDangerToast(t('Sorry, your browser does not support copying.'));\n        }\n      });\n  }\n  return (\n    <SyntaxHighlighterWrapper>\n      <Icons.Copy\n        tabIndex={0}\n        role=\"button\"\n        onClick={e => {\n          e.preventDefault();\n          e.currentTarget.blur();\n          copyToClipboard(children);\n        }}\n      />\n      <SyntaxHighlighter style={github} {...syntaxHighlighterProps}>\n        {children}\n      </SyntaxHighlighter>\n    </SyntaxHighlighterWrapper>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useEffect, useCallback } from 'react';\nimport { SupersetClient, logging, t } from '@superset-ui/core';\nimport rison from 'rison';\nimport { addDangerToast } from 'src/components/MessageToasts/actions';\nimport { DatasetObject } from 'src/views/CRUD/data/dataset/AddDataset/types';\nimport { DatabaseObject } from 'src/components/DatabaseSelector';\n\ntype BaseQueryObject = {\n  id: number;\n};\n\nexport function useQueryPreviewState<D extends BaseQueryObject = any>({\n  queries,\n  fetchData,\n  currentQueryId,\n}: {\n  queries: D[];\n  fetchData: (id: number) => any;\n  currentQueryId: number;\n}) {\n  const index = queries.findIndex(query => query.id === currentQueryId);\n  const [currentIndex, setCurrentIndex] = useState(index);\n  const [disablePrevious, setDisablePrevious] = useState(false);\n  const [disableNext, setDisableNext] = useState(false);\n\n  function checkIndex() {\n    setDisablePrevious(currentIndex === 0);\n    setDisableNext(currentIndex === queries.length - 1);\n  }\n\n  function handleDataChange(previous: boolean) {\n    const offset = previous ? -1 : 1;\n    const index = currentIndex + offset;\n    if (index >= 0 && index < queries.length) {\n      fetchData(queries[index].id);\n      setCurrentIndex(index);\n      checkIndex();\n    }\n  }\n\n  function handleKeyPress(ev: any) {\n    if (currentIndex >= 0 && currentIndex < queries.length) {\n      if (ev.key === 'ArrowDown' || ev.key === 'k') {\n        ev.preventDefault();\n        handleDataChange(false);\n      } else if (ev.key === 'ArrowUp' || ev.key === 'j') {\n        ev.preventDefault();\n        handleDataChange(true);\n      }\n    }\n  }\n\n  useEffect(() => {\n    checkIndex();\n  });\n\n  return {\n    handleKeyPress,\n    handleDataChange,\n    disablePrevious,\n    disableNext,\n  };\n}\n\n/**\n * Retrieves all pages of dataset results\n */\nexport const useDatasetsList = (\n  db:\n    | (DatabaseObject & {\n        owners: [number];\n      })\n    | undefined,\n  schema: string | null | undefined,\n) => {\n  const [datasets, setDatasets] = useState<DatasetObject[]>([]);\n  const encodedSchema = schema ? encodeURIComponent(schema) : undefined;\n\n  const getDatasetsList = useCallback(async (filters: object[]) => {\n    let results: DatasetObject[] = [];\n    let page = 0;\n    let count;\n\n    // If count is undefined or less than results, we need to\n    // asynchronously retrieve a page of dataset results\n    while (count === undefined || results.length < count) {\n      const queryParams = rison.encode_uri({ filters, page });\n      try {\n        // eslint-disable-next-line no-await-in-loop\n        const response = await SupersetClient.get({\n          endpoint: `/api/v1/dataset/?q=${queryParams}`,\n        });\n\n        // Reassign local count to response's count\n        ({ count } = response.json);\n\n        const {\n          json: { result },\n        } = response;\n\n        results = [...results, ...result];\n\n        page += 1;\n      } catch (error) {\n        addDangerToast(t('There was an error fetching dataset'));\n        logging.error(t('There was an error fetching dataset'), error);\n      }\n    }\n\n    setDatasets(results);\n  }, []);\n\n  useEffect(() => {\n    const filters = [\n      { col: 'database', opr: 'rel_o_m', value: db?.id },\n      { col: 'schema', opr: 'eq', value: encodedSchema },\n      { col: 'sql', opr: 'dataset_is_null_or_empty', value: true },\n    ];\n\n    if (schema) {\n      getDatasetsList(filters);\n    }\n  }, [db?.id, schema, encodedSchema, getDatasetsList]);\n\n  const datasetNames = datasets?.map(dataset => dataset.table_name);\n\n  return { datasets, datasetNames };\n};\n\nexport const useGetDatasetRelatedCounts = (id: string) => {\n  const [usageCount, setUsageCount] = useState(0);\n\n  const getDatasetRelatedObjects = useCallback(\n    () =>\n      SupersetClient.get({\n        endpoint: `/api/v1/dataset/${id}/related_objects`,\n      })\n        .then(({ json }) => {\n          setUsageCount(json?.charts.count);\n        })\n        .catch(error => {\n          addDangerToast(\n            t(`There was an error fetching dataset's related objects`),\n          );\n          logging.error(error);\n        }),\n    [id],\n  );\n\n  useEffect(() => {\n    // Todo: this useEffect should be used to call all count methods conncurently\n    // when we populate data for the new tabs. For right separating out this\n    // api call for building the usage page.\n    if (id) {\n      getDatasetRelatedObjects();\n    }\n  }, [id, getDatasetRelatedObjects]);\n\n  return { usageCount };\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState } from 'react';\nimport { styled, t } from '@superset-ui/core';\nimport Modal from 'src/components/Modal';\nimport cx from 'classnames';\nimport Button from 'src/components/Button';\nimport withToasts, {\n  ToastProps,\n} from 'src/components/MessageToasts/withToasts';\nimport SyntaxHighlighterCopy from 'src/views/CRUD/data/components/SyntaxHighlighterCopy';\nimport { useQueryPreviewState } from 'src/views/CRUD/data/hooks';\nimport { QueryObject } from 'src/views/CRUD/types';\n\nconst QueryTitle = styled.div`\n  color: ${({ theme }) => theme.colors.secondary.light2};\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  margin-bottom: 0;\n  text-transform: uppercase;\n`;\n\nconst QueryLabel = styled.div`\n  color: ${({ theme }) => theme.colors.grayscale.dark2};\n  font-size: ${({ theme }) => theme.typography.sizes.m}px;\n  padding: 4px 0 24px 0;\n`;\n\nconst QueryViewToggle = styled.div`\n  margin: 0 0 ${({ theme }) => theme.gridUnit * 6}px 0;\n`;\n\nconst TabButton = styled.div`\n  display: inline;\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  padding: ${({ theme }) => theme.gridUnit * 2}px\n    ${({ theme }) => theme.gridUnit * 4}px;\n  margin-right: ${({ theme }) => theme.gridUnit * 4}px;\n  color: ${({ theme }) => theme.colors.secondary.dark1};\n\n  &.active,\n  &:focus,\n  &:hover {\n    background: ${({ theme }) => theme.colors.secondary.light4};\n    border-bottom: none;\n    border-radius: ${({ theme }) => theme.borderRadius}px;\n    margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  }\n\n  &:hover:not(.active) {\n    background: ${({ theme }) => theme.colors.secondary.light5};\n  }\n`;\nconst StyledModal = styled(Modal)`\n  .ant-modal-body {\n    padding: ${({ theme }) => theme.gridUnit * 6}px;\n  }\n\n  pre {\n    font-size: ${({ theme }) => theme.typography.sizes.xs}px;\n    font-weight: ${({ theme }) => theme.typography.weights.normal};\n    line-height: ${({ theme }) => theme.typography.sizes.l}px;\n    height: 375px;\n    border: none;\n  }\n`;\n\ninterface QueryPreviewModalProps extends ToastProps {\n  onHide: () => void;\n  openInSqlLab: (id: number) => any;\n  queries: QueryObject[];\n  query: QueryObject;\n  fetchData: (id: number) => any;\n  show: boolean;\n}\n\nfunction QueryPreviewModal({\n  onHide,\n  openInSqlLab,\n  queries,\n  query,\n  fetchData,\n  show,\n  addDangerToast,\n  addSuccessToast,\n}: QueryPreviewModalProps) {\n  const { handleKeyPress, handleDataChange, disablePrevious, disableNext } =\n    useQueryPreviewState<QueryObject>({\n      queries,\n      currentQueryId: query.id,\n      fetchData,\n    });\n\n  const [currentTab, setCurrentTab] = useState<'user' | 'executed'>('user');\n\n  const { id, sql, executed_sql } = query;\n  return (\n    <div role=\"none\" onKeyUp={handleKeyPress}>\n      <StyledModal\n        onHide={onHide}\n        show={show}\n        title={t('Query preview')}\n        footer={\n          <>\n            <Button\n              data-test=\"previous-query\"\n              key=\"previous-query\"\n              disabled={disablePrevious}\n              onClick={() => handleDataChange(true)}\n            >\n              {t('Previous')}\n            </Button>\n            <Button\n              data-test=\"next-query\"\n              key=\"next-query\"\n              disabled={disableNext}\n              onClick={() => handleDataChange(false)}\n            >\n              {t('Next')}\n            </Button>\n            <Button\n              data-test=\"open-in-sql-lab\"\n              key=\"open-in-sql-lab\"\n              buttonStyle=\"primary\"\n              onClick={() => openInSqlLab(id)}\n            >\n              {t('Open in SQL Lab')}\n            </Button>\n          </>\n        }\n      >\n        <QueryTitle>{t('Tab name')}</QueryTitle>\n        <QueryLabel>{query.tab_name}</QueryLabel>\n        <QueryViewToggle>\n          <TabButton\n            role=\"button\"\n            data-test=\"toggle-user-sql\"\n            className={cx({ active: currentTab === 'user' })}\n            onClick={() => setCurrentTab('user')}\n          >\n            {t('User query')}\n          </TabButton>\n          <TabButton\n            role=\"button\"\n            data-test=\"toggle-executed-sql\"\n            className={cx({ active: currentTab === 'executed' })}\n            onClick={() => setCurrentTab('executed')}\n          >\n            {t('Executed query')}\n          </TabButton>\n        </QueryViewToggle>\n        <SyntaxHighlighterCopy\n          addDangerToast={addDangerToast}\n          addSuccessToast={addSuccessToast}\n          language=\"sql\"\n        >\n          {(currentTab === 'user' ? sql : executed_sql) || ''}\n        </SyntaxHighlighterCopy>\n      </StyledModal>\n    </div>\n  );\n}\n\nexport default withToasts(QueryPreviewModal);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo, useState, useCallback, ReactElement } from 'react';\nimport {\n  QueryState,\n  styled,\n  SupersetClient,\n  t,\n  useTheme,\n} from '@superset-ui/core';\nimport moment from 'moment';\nimport {\n  createFetchRelated,\n  createFetchDistinct,\n  createErrorHandler,\n  shortenSQL,\n} from 'src/views/CRUD/utils';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport { useListViewResource } from 'src/views/CRUD/hooks';\nimport SubMenu, { SubMenuProps } from 'src/views/components/SubMenu';\nimport Popover from 'src/components/Popover';\nimport { commonMenuData } from 'src/views/CRUD/data/common';\nimport ListView, {\n  Filters,\n  FilterOperator,\n  ListViewProps,\n} from 'src/components/ListView';\nimport { Tooltip } from 'src/components/Tooltip';\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/light';\nimport sql from 'react-syntax-highlighter/dist/cjs/languages/hljs/sql';\nimport github from 'react-syntax-highlighter/dist/cjs/styles/hljs/github';\nimport { DATETIME_WITH_TIME_ZONE, TIME_WITH_MS } from 'src/constants';\nimport { QueryObject, QueryObjectColumns } from 'src/views/CRUD/types';\n\nimport Icons from 'src/components/Icons';\nimport QueryPreviewModal from './QueryPreviewModal';\n\nconst PAGE_SIZE = 25;\nconst SQL_PREVIEW_MAX_LINES = 4;\n\nconst TopAlignedListView = styled(ListView)<ListViewProps<QueryObject>>`\n  table .table-cell {\n    vertical-align: top;\n  }\n`;\n\nSyntaxHighlighter.registerLanguage('sql', sql);\nconst StyledSyntaxHighlighter = styled(SyntaxHighlighter)`\n  height: ${({ theme }) => theme.gridUnit * 26}px;\n  overflow: hidden !important; /* needed to override inline styles */\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\ninterface QueryListProps {\n  addDangerToast: (msg: string, config?: any) => any;\n  addSuccessToast: (msg: string, config?: any) => any;\n}\n\nconst StyledTableLabel = styled.div`\n  .count {\n    margin-left: 5px;\n    color: ${({ theme }) => theme.colors.primary.base};\n    text-decoration: underline;\n    cursor: pointer;\n  }\n`;\n\nconst StyledPopoverItem = styled.div`\n  color: ${({ theme }) => theme.colors.grayscale.dark2};\n`;\n\nfunction QueryList({ addDangerToast }: QueryListProps) {\n  const {\n    state: { loading, resourceCount: queryCount, resourceCollection: queries },\n    fetchData,\n  } = useListViewResource<QueryObject>(\n    'query',\n    t('Query history'),\n    addDangerToast,\n    false,\n  );\n\n  const [queryCurrentlyPreviewing, setQueryCurrentlyPreviewing] =\n    useState<QueryObject>();\n\n  const theme = useTheme();\n\n  const handleQueryPreview = useCallback(\n    (id: number) => {\n      SupersetClient.get({\n        endpoint: `/api/v1/query/${id}`,\n      }).then(\n        ({ json = {} }) => {\n          setQueryCurrentlyPreviewing({ ...json.result });\n        },\n        createErrorHandler(errMsg =>\n          addDangerToast(\n            t('There was an issue previewing the selected query. %s', errMsg),\n          ),\n        ),\n      );\n    },\n    [addDangerToast],\n  );\n\n  const menuData: SubMenuProps = {\n    activeChild: 'Query history',\n    ...commonMenuData,\n  };\n\n  const initialSort = [{ id: QueryObjectColumns.start_time, desc: true }];\n  const columns = useMemo(\n    () => [\n      {\n        Cell: ({\n          row: {\n            original: { status },\n          },\n        }: {\n          row: {\n            original: {\n              status: QueryState;\n            };\n          };\n        }) => {\n          const statusConfig: {\n            name: ReactElement | null;\n            label: string;\n          } = {\n            name: null,\n            label: '',\n          };\n          if (status === QueryState.SUCCESS) {\n            statusConfig.name = (\n              <Icons.Check iconColor={theme.colors.success.base} />\n            );\n            statusConfig.label = t('Success');\n          } else if (\n            status === QueryState.FAILED ||\n            status === QueryState.STOPPED\n          ) {\n            statusConfig.name = (\n              <Icons.XSmall\n                iconColor={\n                  status === QueryState.FAILED\n                    ? theme.colors.error.base\n                    : theme.colors.grayscale.base\n                }\n              />\n            );\n            statusConfig.label = t('Failed');\n          } else if (status === QueryState.RUNNING) {\n            statusConfig.name = (\n              <Icons.Running iconColor={theme.colors.primary.base} />\n            );\n            statusConfig.label = t('Running');\n          } else if (status === QueryState.TIMED_OUT) {\n            statusConfig.name = (\n              <Icons.Offline iconColor={theme.colors.grayscale.light1} />\n            );\n            statusConfig.label = t('Offline');\n          } else if (\n            status === QueryState.SCHEDULED ||\n            status === QueryState.PENDING\n          ) {\n            statusConfig.name = (\n              <Icons.Queued iconColor={theme.colors.grayscale.base} />\n            );\n            statusConfig.label = t('Scheduled');\n          }\n          return (\n            <Tooltip title={statusConfig.label} placement=\"bottom\">\n              <span>{statusConfig.name}</span>\n            </Tooltip>\n          );\n        },\n        accessor: QueryObjectColumns.status,\n        size: 'xs',\n        disableSortBy: true,\n      },\n      {\n        accessor: QueryObjectColumns.start_time,\n        Header: t('Time'),\n        size: 'xl',\n        Cell: ({\n          row: {\n            original: { start_time, end_time },\n          },\n        }: any) => {\n          const startMoment = moment.utc(start_time).local();\n          const formattedStartTimeData = startMoment\n            .format(DATETIME_WITH_TIME_ZONE)\n            .split(' ');\n\n          const formattedStartTime = (\n            <>\n              {formattedStartTimeData[0]} <br />\n              {formattedStartTimeData[1]}\n            </>\n          );\n\n          return end_time ? (\n            <Tooltip\n              title={t(\n                'Duration: %s',\n                moment(moment.utc(end_time - start_time)).format(TIME_WITH_MS),\n              )}\n              placement=\"bottom\"\n            >\n              <span>{formattedStartTime}</span>\n            </Tooltip>\n          ) : (\n            formattedStartTime\n          );\n        },\n      },\n      {\n        accessor: QueryObjectColumns.tab_name,\n        Header: t('Tab name'),\n        size: 'xl',\n      },\n      {\n        accessor: QueryObjectColumns.database_name,\n        Header: t('Database'),\n        size: 'xl',\n      },\n      {\n        accessor: QueryObjectColumns.database,\n        hidden: true,\n      },\n      {\n        accessor: QueryObjectColumns.schema,\n        Header: t('Schema'),\n        size: 'xl',\n      },\n      {\n        Cell: ({\n          row: {\n            original: { sql_tables: tables = [] },\n          },\n        }: any) => {\n          const names = tables.map((table: any) => table.table);\n          const main = names.length > 0 ? names.shift() : '';\n\n          if (names.length) {\n            return (\n              <StyledTableLabel>\n                <span>{main}</span>\n                <Popover\n                  placement=\"right\"\n                  title={t('TABLES')}\n                  trigger=\"click\"\n                  content={\n                    <>\n                      {names.map((name: string) => (\n                        <StyledPopoverItem key={name}>{name}</StyledPopoverItem>\n                      ))}\n                    </>\n                  }\n                >\n                  <span className=\"count\">(+{names.length})</span>\n                </Popover>\n              </StyledTableLabel>\n            );\n          }\n\n          return main;\n        },\n        accessor: QueryObjectColumns.sql_tables,\n        Header: t('Tables'),\n        size: 'xl',\n        disableSortBy: true,\n      },\n      {\n        accessor: QueryObjectColumns.user_first_name,\n        Header: t('User'),\n        size: 'xl',\n        Cell: ({\n          row: {\n            original: { user },\n          },\n        }: any) => (user ? `${user.first_name} ${user.last_name}` : ''),\n      },\n      {\n        accessor: QueryObjectColumns.user,\n        hidden: true,\n      },\n      {\n        accessor: QueryObjectColumns.rows,\n        Header: t('Rows'),\n        size: 'md',\n      },\n      {\n        accessor: QueryObjectColumns.sql,\n        Header: t('SQL'),\n        Cell: ({ row: { original, id } }: any) => (\n          <div\n            tabIndex={0}\n            role=\"button\"\n            data-test={`open-sql-preview-${id}`}\n            onClick={() => setQueryCurrentlyPreviewing(original)}\n          >\n            <StyledSyntaxHighlighter language=\"sql\" style={github}>\n              {shortenSQL(original.sql, SQL_PREVIEW_MAX_LINES)}\n            </StyledSyntaxHighlighter>\n          </div>\n        ),\n      },\n      {\n        Header: t('Actions'),\n        id: 'actions',\n        disableSortBy: true,\n        Cell: ({\n          row: {\n            original: { id },\n          },\n        }: any) => (\n          <Tooltip title={t('Open query in SQL Lab')} placement=\"bottom\">\n            <a href={`/superset/sqllab?queryId=${id}`}>\n              <Icons.Full iconColor={theme.colors.grayscale.base} />\n            </a>\n          </Tooltip>\n        ),\n      },\n    ],\n    [],\n  );\n\n  const filters: Filters = useMemo(\n    () => [\n      {\n        Header: t('Database'),\n        key: 'database',\n        id: 'database',\n        input: 'select',\n        operator: FilterOperator.relationOneMany,\n        unfilteredLabel: t('All'),\n        fetchSelects: createFetchRelated(\n          'query',\n          'database',\n          createErrorHandler(errMsg =>\n            addDangerToast(\n              t('An error occurred while fetching database values: %s', errMsg),\n            ),\n          ),\n        ),\n        paginate: true,\n      },\n      {\n        Header: t('State'),\n        key: 'state',\n        id: 'status',\n        input: 'select',\n        operator: FilterOperator.equals,\n        unfilteredLabel: 'All',\n        fetchSelects: createFetchDistinct(\n          'query',\n          'status',\n          createErrorHandler(errMsg =>\n            addDangerToast(\n              t('An error occurred while fetching schema values: %s', errMsg),\n            ),\n          ),\n        ),\n        paginate: true,\n      },\n      {\n        Header: t('User'),\n        key: 'user',\n        id: 'user',\n        input: 'select',\n        operator: FilterOperator.relationOneMany,\n        unfilteredLabel: 'All',\n        fetchSelects: createFetchRelated(\n          'query',\n          'user',\n          createErrorHandler(errMsg =>\n            addDangerToast(\n              t('An error occurred while fetching user values: %s', errMsg),\n            ),\n          ),\n        ),\n        paginate: true,\n      },\n      {\n        Header: t('Time range'),\n        key: 'start_time',\n        id: 'start_time',\n        input: 'datetime_range',\n        operator: FilterOperator.between,\n      },\n      {\n        Header: t('Search by query text'),\n        key: 'sql',\n        id: 'sql',\n        input: 'search',\n        operator: FilterOperator.contains,\n      },\n    ],\n    [addDangerToast],\n  );\n\n  return (\n    <>\n      <SubMenu {...menuData} />\n      {queryCurrentlyPreviewing && (\n        <QueryPreviewModal\n          onHide={() => setQueryCurrentlyPreviewing(undefined)}\n          query={queryCurrentlyPreviewing}\n          queries={queries}\n          fetchData={handleQueryPreview}\n          openInSqlLab={(id: number) =>\n            window.location.assign(`/superset/sqllab?queryId=${id}`)\n          }\n          show\n        />\n      )}\n      <TopAlignedListView\n        className=\"query-history-list-view\"\n        columns={columns}\n        count={queryCount}\n        data={queries}\n        fetchData={fetchData}\n        filters={filters}\n        initialSort={initialSort}\n        loading={loading}\n        pageSize={PAGE_SIZE}\n        highlightRowId={queryCurrentlyPreviewing?.id}\n      />\n    </>\n  );\n}\n\nexport default withToasts(QueryList);\n"],"names":["commonMenuData","name","t","tabs","label","url","usesRouter","SyntaxHighlighter","sqlSyntax","markdownSyntax","htmlSyntax","jsonSyntax","SyntaxHighlighterWrapper","styled","theme","colors","grayscale","base","SyntaxHighlighterCopy","addDangerToast","addSuccessToast","children","syntaxHighlighterProps","tabIndex","role","onClick","e","textToCopy","preventDefault","currentTarget","blur","copyTextToClipboard","Promise","resolve","then","catch","style","github","useQueryPreviewState","queries","fetchData","currentQueryId","index","findIndex","query","id","currentIndex","setCurrentIndex","useState","disablePrevious","setDisablePrevious","disableNext","setDisableNext","checkIndex","length","handleDataChange","previous","useEffect","handleKeyPress","ev","key","useDatasetsList","db","schema","datasets","setDatasets","encodedSchema","encodeURIComponent","undefined","getDatasetsList","useCallback","async","filters","count","results","page","queryParams","rison","response","SupersetClient","endpoint","json","result","error","logging","col","opr","value","datasetNames","map","dataset","table_name","useGetDatasetRelatedCounts","usageCount","setUsageCount","getDatasetRelatedObjects","charts","QueryTitle","secondary","light2","typography","sizes","s","QueryLabel","dark2","m","QueryViewToggle","gridUnit","TabButton","dark1","light4","borderRadius","light5","StyledModal","Modal","xs","weights","normal","l","withToasts","onHide","openInSqlLab","show","currentTab","setCurrentTab","sql","executed_sql","onKeyUp","title","footer","Button","disabled","buttonStyle","tab_name","className","cx","active","language","TopAlignedListView","ListView","StyledSyntaxHighlighter","StyledTableLabel","primary","StyledPopoverItem","state","loading","resourceCount","queryCount","resourceCollection","useListViewResource","queryCurrentlyPreviewing","setQueryCurrentlyPreviewing","useTheme","handleQueryPreview","createErrorHandler","errMsg","menuData","activeChild","initialSort","QueryObjectColumns","desc","columns","useMemo","Cell","row","original","status","statusConfig","QueryState","Icons","iconColor","success","light1","Tooltip","placement","accessor","size","disableSortBy","Header","start_time","end_time","formattedStartTimeData","moment","local","format","DATETIME_WITH_TIME_ZONE","split","formattedStartTime","TIME_WITH_MS","hidden","sql_tables","tables","names","table","main","shift","Popover","trigger","content","user","first_name","last_name","shortenSQL","href","input","operator","FilterOperator","unfilteredLabel","fetchSelects","createFetchRelated","paginate","createFetchDistinct","SubMenu","window","location","assign","data","pageSize","highlightRowId"],"sourceRoot":""}