{"version":3,"file":"7536866c1c0f67b91175.chunk.js","mappings":"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","sources":["webpack://superset/./plugins/legacy-plugin-chart-country-map/src/CountryMap.js","webpack://superset/./plugins/legacy-plugin-chart-country-map/node_modules/d3-array/src/extent.js","webpack://superset/./plugins/legacy-plugin-chart-country-map/src/ReactCountryMap.jsx","webpack://superset/./packages/superset-ui-core/src/chart/components/reactify.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable react/sort-prop-types */\nimport d3 from 'd3';\nimport PropTypes from 'prop-types';\nimport { extent as d3Extent } from 'd3-array';\nimport {\n  getNumberFormatter,\n  getSequentialSchemeRegistry,\n  CategoricalColorNamespace,\n} from '@superset-ui/core';\nimport countries, { countryOptions } from './countries';\n\nconst propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      country_id: PropTypes.string,\n      metric: PropTypes.number,\n    }),\n  ),\n  width: PropTypes.number,\n  height: PropTypes.number,\n  country: PropTypes.string,\n  linearColorScheme: PropTypes.string,\n  mapBaseUrl: PropTypes.string,\n  numberFormat: PropTypes.string,\n};\n\nconst maps = {};\n\nfunction CountryMap(element, props) {\n  const {\n    data,\n    width,\n    height,\n    country,\n    linearColorScheme,\n    numberFormat,\n    colorScheme,\n    sliceId,\n  } = props;\n\n  const container = element;\n  const format = getNumberFormatter(numberFormat);\n  const linearColorScale = getSequentialSchemeRegistry()\n    .get(linearColorScheme)\n    .createLinearScale(d3Extent(data, v => v.metric));\n  const colorScale = CategoricalColorNamespace.getScale(colorScheme);\n\n  const colorMap = {};\n  data.forEach(d => {\n    colorMap[d.country_id] = colorScheme\n      ? colorScale(d.country_id, sliceId)\n      : linearColorScale(d.metric);\n  });\n  const colorFn = d => colorMap[d.properties.ISO] || 'none';\n\n  const path = d3.geo.path();\n  const div = d3.select(container);\n  div.classed('superset-legacy-chart-country-map', true);\n  div.selectAll('*').remove();\n  container.style.height = `${height}px`;\n  container.style.width = `${width}px`;\n  const svg = div\n    .append('svg:svg')\n    .attr('width', width)\n    .attr('height', height)\n    .attr('preserveAspectRatio', 'xMidYMid meet');\n  const backgroundRect = svg\n    .append('rect')\n    .attr('class', 'background')\n    .attr('width', width)\n    .attr('height', height);\n  const g = svg.append('g');\n  const mapLayer = g.append('g').classed('map-layer', true);\n  const textLayer = g\n    .append('g')\n    .classed('text-layer', true)\n    .attr('transform', `translate(${width / 2}, 45)`);\n  const bigText = textLayer.append('text').classed('big-text', true);\n  const resultText = textLayer\n    .append('text')\n    .classed('result-text', true)\n    .attr('dy', '1em');\n\n  let centered;\n\n  const clicked = function clicked(d) {\n    const hasCenter = d && centered !== d;\n    let x;\n    let y;\n    let k;\n    const halfWidth = width / 2;\n    const halfHeight = height / 2;\n\n    if (hasCenter) {\n      const centroid = path.centroid(d);\n      [x, y] = centroid;\n      k = 4;\n      centered = d;\n    } else {\n      x = halfWidth;\n      y = halfHeight;\n      k = 1;\n      centered = null;\n    }\n\n    g.transition()\n      .duration(750)\n      .attr(\n        'transform',\n        `translate(${halfWidth},${halfHeight})scale(${k})translate(${-x},${-y})`,\n      );\n    textLayer\n      .style('opacity', 0)\n      .attr(\n        'transform',\n        `translate(0,0)translate(${x},${hasCenter ? y - 5 : 45})`,\n      )\n      .transition()\n      .duration(750)\n      .style('opacity', 1);\n    bigText\n      .transition()\n      .duration(750)\n      .style('font-size', hasCenter ? 6 : 16);\n    resultText\n      .transition()\n      .duration(750)\n      .style('font-size', hasCenter ? 16 : 24);\n  };\n\n  backgroundRect.on('click', clicked);\n\n  const selectAndDisplayNameOfRegion = function selectAndDisplayNameOfRegion(\n    feature,\n  ) {\n    let name = '';\n    if (feature && feature.properties) {\n      if (feature.properties.ID_2) {\n        name = feature.properties.NAME_2;\n      } else {\n        name = feature.properties.NAME_1;\n      }\n    }\n    bigText.text(name);\n  };\n\n  const updateMetrics = function updateMetrics(region) {\n    if (region.length > 0) {\n      resultText.text(format(region[0].metric));\n    }\n  };\n\n  const mouseenter = function mouseenter(d) {\n    // Darken color\n    let c = colorFn(d);\n    if (c !== 'none') {\n      c = d3.rgb(c).darker().toString();\n    }\n    d3.select(this).style('fill', c);\n    selectAndDisplayNameOfRegion(d);\n    const result = data.filter(\n      region => region.country_id === d.properties.ISO,\n    );\n    updateMetrics(result);\n  };\n\n  const mouseout = function mouseout() {\n    d3.select(this).style('fill', colorFn);\n    bigText.text('');\n    resultText.text('');\n  };\n\n  function drawMap(mapData) {\n    const { features } = mapData;\n    const center = d3.geo.centroid(mapData);\n    const scale = 100;\n    const projection = d3.geo\n      .mercator()\n      .scale(scale)\n      .center(center)\n      .translate([width / 2, height / 2]);\n    path.projection(projection);\n\n    // Compute scale that fits container.\n    const bounds = path.bounds(mapData);\n    const hscale = (scale * width) / (bounds[1][0] - bounds[0][0]);\n    const vscale = (scale * height) / (bounds[1][1] - bounds[0][1]);\n    const newScale = hscale < vscale ? hscale : vscale;\n\n    // Compute bounds and offset using the updated scale.\n    projection.scale(newScale);\n    const newBounds = path.bounds(mapData);\n    projection.translate([\n      width - (newBounds[0][0] + newBounds[1][0]) / 2,\n      height - (newBounds[0][1] + newBounds[1][1]) / 2,\n    ]);\n\n    // Draw each province as a path\n    mapLayer\n      .selectAll('path')\n      .data(features)\n      .enter()\n      .append('path')\n      .attr('d', path)\n      .attr('class', 'region')\n      .attr('vector-effect', 'non-scaling-stroke')\n      .style('fill', colorFn)\n      .on('mouseenter', mouseenter)\n      .on('mouseout', mouseout)\n      .on('click', clicked);\n  }\n\n  const map = maps[country];\n  if (map) {\n    drawMap(map);\n  } else {\n    const url = countries[country];\n    d3.json(url, (error, mapData) => {\n      if (error) {\n        const countryName =\n          countryOptions.find(x => x[0] === country)?.[1] || country;\n        d3.select(element).html(\n          `<div class=\"alert alert-danger\">Could not load map data for ${countryName}</div>`,\n        );\n      } else {\n        maps[country] = mapData;\n        drawMap(mapData);\n      }\n    });\n  }\n}\n\nCountryMap.displayName = 'CountryMap';\nCountryMap.propTypes = propTypes;\n\nexport default CountryMap;\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { reactify, styled } from '@superset-ui/core';\nimport Component from './CountryMap';\n\nconst ReactComponent = reactify(Component);\n\nconst CountryMap = ({ className, ...otherProps }) => (\n  <div className={className}>\n    <ReactComponent {...otherProps} />\n  </div>\n);\n\nexport default styled(CountryMap)`\n  ${({ theme }) => `\n    .superset-legacy-chart-country-map svg {\n      background-color: ${theme.colors.grayscale.light5};\n    }\n\n    .superset-legacy-chart-country-map {\n      position: relative;\n    }\n\n    .superset-legacy-chart-country-map .background {\n      fill: ${theme.colors.grayscale.light5};\n      pointer-events: all;\n    }\n\n    .superset-legacy-chart-country-map .map-layer {\n      fill: ${theme.colors.grayscale.light5};\n      stroke: ${theme.colors.grayscale.light1};\n    }\n\n    .superset-legacy-chart-country-map .effect-layer {\n      pointer-events: none;\n    }\n\n    .superset-legacy-chart-country-map .text-layer {\n      color: ${theme.colors.grayscale.dark1};\n      text-anchor: middle;\n      pointer-events: none;\n    }\n\n    .superset-legacy-chart-country-map text.result-text {\n      font-weight: ${theme.typography.weights.light};\n      font-size: ${theme.typography.sizes.xl}px;\n    }\n\n    .superset-legacy-chart-country-map text.big-text {\n      font-weight: ${theme.typography.weights.bold};\n      font-size: ${theme.typography.sizes.l}px;\n    }\n\n    .superset-legacy-chart-country-map path.region {\n      cursor: pointer;\n      stroke: ${theme.colors.grayscale.light2};\n    }\n  `}\n`;\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\n\n// TODO: Note that id and className can collide between Props and ReactifyProps\n// leading to (likely) unexpected behaviors. We should either require Props to not\n// contain an id/className, or not combine them (via intersection), instead preferring\n// wrapping (composition). As an example:\n// interface MyProps {\n//   id: number;\n// }\n// function myRender(container: HTMLDivElement, props: Readonly<MyProps>): void {\n//   props.id // unusable: id is string & number\n// }\n// new (reactify(myRender))({ id: 5 }); // error: id has to be string & number\n\nexport type ReactifyProps = {\n  id?: string;\n  className?: string;\n};\n\n// TODO: add more React lifecycle callbacks as needed\nexport type LifeCycleCallbacks = {\n  componentWillUnmount?: () => void;\n};\n\nexport interface RenderFuncType<Props> {\n  (container: HTMLDivElement, props: Readonly<Props & ReactifyProps>): void;\n  displayName?: string;\n  defaultProps?: Partial<Props & ReactifyProps>;\n  propTypes?: React.WeakValidationMap<Props & ReactifyProps>;\n}\n\nexport default function reactify<Props extends object>(\n  renderFn: RenderFuncType<Props>,\n  callbacks?: LifeCycleCallbacks,\n): React.ComponentClass<Props & ReactifyProps> {\n  class ReactifiedComponent extends React.Component<Props & ReactifyProps> {\n    container?: HTMLDivElement;\n\n    constructor(props: Props & ReactifyProps) {\n      super(props);\n      this.setContainerRef = this.setContainerRef.bind(this);\n    }\n\n    componentDidMount() {\n      this.execute();\n    }\n\n    componentDidUpdate() {\n      this.execute();\n    }\n\n    componentWillUnmount() {\n      this.container = undefined;\n      if (callbacks?.componentWillUnmount) {\n        callbacks.componentWillUnmount.bind(this)();\n      }\n    }\n\n    setContainerRef(ref: HTMLDivElement) {\n      this.container = ref;\n    }\n\n    execute() {\n      if (this.container) {\n        renderFn(this.container, this.props);\n      }\n    }\n\n    render() {\n      const { id, className } = this.props;\n\n      return <div ref={this.setContainerRef} id={id} className={className} />;\n    }\n  }\n\n  const ReactifiedClass: React.ComponentClass<Props & ReactifyProps> =\n    ReactifiedComponent;\n\n  if (renderFn.displayName) {\n    ReactifiedClass.displayName = renderFn.displayName;\n  }\n  // eslint-disable-next-line react/forbid-foreign-prop-types\n  if (renderFn.propTypes) {\n    ReactifiedClass.propTypes = {\n      ...ReactifiedClass.propTypes,\n      ...renderFn.propTypes,\n    };\n  }\n  if (renderFn.defaultProps) {\n    ReactifiedClass.defaultProps = renderFn.defaultProps;\n  }\n\n  return ReactifiedComponent;\n}\n"],"names":["propTypes","data","PropTypes","country_id","metric","width","height","country","linearColorScheme","mapBaseUrl","numberFormat","maps","CountryMap","element","props","colorScheme","sliceId","container","format","getNumberFormatter","linearColorScale","getSequentialSchemeRegistry","get","createLinearScale","values","valueof","min","max","undefined","value","index","d3Extent","v","colorScale","CategoricalColorNamespace","getScale","colorMap","forEach","d","colorFn","properties","ISO","path","d3","div","classed","selectAll","remove","style","svg","append","attr","backgroundRect","g","mapLayer","textLayer","bigText","resultText","centered","clicked","hasCenter","x","y","k","halfWidth","halfHeight","centroid","transition","duration","on","mouseenter","c","darker","toString","this","feature","name","ID_2","NAME_2","NAME_1","text","selectAndDisplayNameOfRegion","result","filter","region","length","mouseout","drawMap","mapData","features","center","projection","scale","translate","bounds","hscale","vscale","newScale","newBounds","enter","map","url","countries","error","countryName","countryOptions","html","displayName","ReactComponent","reactify","Component","styled","className","otherProps","theme","colors","grayscale","light5","light1","dark1","typography","weights","light","sizes","xl","bold","l","light2","renderFn","callbacks","ReactifiedComponent","React","constructor","super","setContainerRef","bind","componentDidMount","execute","componentDidUpdate","componentWillUnmount","ref","render","id","ReactifiedClass","defaultProps"],"sourceRoot":""}