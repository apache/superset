{"version":3,"file":"1e9647d5b1ca4ad8c5b0.chunk.js","mappings":"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","sources":["webpack://superset/./node_modules/d3-cloud/index.js","webpack://superset/./node_modules/d3-dispatch/src/dispatch.js","webpack://superset/./node_modules/reselect/es/index.js","webpack://superset/./packages/superset-ui-core/src/utils/random.ts","webpack://superset/./node_modules/encodable/esm/typeGuards/ChannelDef.js","webpack://superset/./node_modules/encodable/esm/typeGuards/Base.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/extent.js","webpack://superset/./node_modules/encodable/esm/types/scale/ScaleType.js","webpack://superset/./node_modules/encodable/esm/typeGuards/Channel.js","webpack://superset/./node_modules/encodable/esm/utils/keys.js","webpack://superset/./node_modules/encodable/esm/parsers/dateTimeToTimestamp.js","webpack://superset/./node_modules/encodable/esm/parsers/parseDateTime.js","webpack://superset/./node_modules/encodable/esm/typeGuards/DateTime.js","webpack://superset/./node_modules/encodable/esm/parsers/format/fallbackFormatter.js","webpack://superset/./node_modules/encodable/esm/parsers/format/createFormatter.js","webpack://superset/./node_modules/encodable/esm/encoders/ChannelEncoderAxis.js","webpack://superset/./node_modules/encodable/esm/utils/isEnabled.js","webpack://superset/./node_modules/encodable/esm/utils/isDisabled.js","webpack://superset/./node_modules/encodable/esm/fillers/expandLabelOverlapStrategy.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/scaleCategories.js","webpack://superset/./node_modules/encodable/esm/fillers/inferScaleType.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/isPropertySupportedByScaleType.js","webpack://superset/./node_modules/encodable/esm/typeGuards/ScaleConfig.js","webpack://superset/./node_modules/encodable/esm/fillers/inferFieldType.js","webpack://superset/./node_modules/encodable/esm/fillers/completeChannelDef.js","webpack://superset/./node_modules/encodable/esm/fillers/completeScaleConfig.js","webpack://superset/./node_modules/encodable/esm/fillers/completeFormatConfig.js","webpack://superset/./node_modules/encodable/esm/fillers/completeAxisConfig.js","webpack://superset/./node_modules/encodable/esm/fillers/completeLegendConfig.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/ticks.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/ascending.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/bisector.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/number.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/bisect.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/basis.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/constant.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/color.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/rgb.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/array.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/date.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/number.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/object.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/basisClosed.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/string.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/numberArray.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/value.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/round.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/number.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/continuous.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/constant.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/init.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/linear.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/tickFormat.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/nice.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/log.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/pow.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/duration.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/interval.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/millisecond.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/second.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/minute.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/hour.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/day.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/week.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/month.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/year.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcMinute.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcHour.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcDay.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcWeek.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcMonth.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcYear.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/ticks.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/time.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/quantile.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/quantile.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/quantize.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/threshold.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/ordinal.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/range.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/band.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/symlog.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/createScaleFromScaleType.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/utcTime.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyNice.js","webpack://superset/./node_modules/encodable/esm/typeGuards/Scale.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyZero.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/hcl.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/hsl.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/cubehelix.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/createColorInterpolator.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/lab.js","webpack://superset/./node_modules/encodable/esm/parsers/domain/parseContinuousDomain.js","webpack://superset/./node_modules/encodable/esm/parsers/domain/parseDiscreteDomain.js","webpack://superset/./node_modules/encodable/esm/utils/removeUndefinedAndNull.js","webpack://superset/./node_modules/encodable/esm/parsers/parseDateTimeIn.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyDomain.js","webpack://superset/./node_modules/encodable/esm/utils/combineContinuousDomains.js","webpack://superset/./node_modules/encodable/esm/utils/combineCategories.js","webpack://superset/./node_modules/encodable/esm/typeGuards/SchemeParams.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyRange.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/updateScale.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyAlign.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyBase.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyClamp.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyExponent.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyInterpolate.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyPadding.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyRound.js","webpack://superset/./node_modules/encodable/esm/utils/identity.js","webpack://superset/./node_modules/encodable/esm/typeGuards/CompleteChannelDef.js","webpack://superset/./node_modules/encodable/esm/encoders/ChannelEncoder.js","webpack://superset/./node_modules/encodable/esm/parsers/createGetterFromChannelDef.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/createScale.js","webpack://superset/./node_modules/encodable/esm/encoders/Encoder.js","webpack://superset/./plugins/plugin-chart-word-cloud/src/chart/WordCloud.tsx","webpack://superset/./node_modules/encodable/esm/encoders/createEncoderFactory.js","webpack://superset/./node_modules/encodable/esm/utils/mergeEncoding.js"],"sourcesContent":["// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\n\nvar dispatch = require(\"d3-dispatch\").dispatch;\n\nvar cloudRadians = Math.PI / 180,\n    cw = 1 << 11 >> 5,\n    ch = 1 << 11;\n\nmodule.exports = function() {\n  var size = [256, 256],\n      text = cloudText,\n      font = cloudFont,\n      fontSize = cloudFontSize,\n      fontStyle = cloudFontNormal,\n      fontWeight = cloudFontNormal,\n      rotate = cloudRotate,\n      padding = cloudPadding,\n      spiral = archimedeanSpiral,\n      words = [],\n      timeInterval = Infinity,\n      event = dispatch(\"word\", \"end\"),\n      timer = null,\n      random = Math.random,\n      cloud = {},\n      canvas = cloudCanvas;\n\n  cloud.canvas = function(_) {\n    return arguments.length ? (canvas = functor(_), cloud) : canvas;\n  };\n\n  cloud.start = function() {\n    var contextAndRatio = getContext(canvas()),\n        board = zeroArray((size[0] >> 5) * size[1]),\n        bounds = null,\n        n = words.length,\n        i = -1,\n        tags = [],\n        data = words.map(function(d, i) {\n          d.text = text.call(this, d, i);\n          d.font = font.call(this, d, i);\n          d.style = fontStyle.call(this, d, i);\n          d.weight = fontWeight.call(this, d, i);\n          d.rotate = rotate.call(this, d, i);\n          d.size = ~~fontSize.call(this, d, i);\n          d.padding = padding.call(this, d, i);\n          return d;\n        }).sort(function(a, b) { return b.size - a.size; });\n\n    if (timer) clearInterval(timer);\n    timer = setInterval(step, 0);\n    step();\n\n    return cloud;\n\n    function step() {\n      var start = Date.now();\n      while (Date.now() - start < timeInterval && ++i < n && timer) {\n        var d = data[i];\n        d.x = (size[0] * (random() + .5)) >> 1;\n        d.y = (size[1] * (random() + .5)) >> 1;\n        cloudSprite(contextAndRatio, d, data, i);\n        if (d.hasText && place(board, d, bounds)) {\n          tags.push(d);\n          event.call(\"word\", cloud, d);\n          if (bounds) cloudBounds(bounds, d);\n          else bounds = [{x: d.x + d.x0, y: d.y + d.y0}, {x: d.x + d.x1, y: d.y + d.y1}];\n          // Temporary hack\n          d.x -= size[0] >> 1;\n          d.y -= size[1] >> 1;\n        }\n      }\n      if (i >= n) {\n        cloud.stop();\n        event.call(\"end\", cloud, tags, bounds);\n      }\n    }\n  }\n\n  cloud.stop = function() {\n    if (timer) {\n      clearInterval(timer);\n      timer = null;\n    }\n    return cloud;\n  };\n\n  function getContext(canvas) {\n    canvas.width = canvas.height = 1;\n    var ratio = Math.sqrt(canvas.getContext(\"2d\").getImageData(0, 0, 1, 1).data.length >> 2);\n    canvas.width = (cw << 5) / ratio;\n    canvas.height = ch / ratio;\n\n    var context = canvas.getContext(\"2d\");\n    context.fillStyle = context.strokeStyle = \"red\";\n    context.textAlign = \"center\";\n\n    return {context: context, ratio: ratio};\n  }\n\n  function place(board, tag, bounds) {\n    var perimeter = [{x: 0, y: 0}, {x: size[0], y: size[1]}],\n        startX = tag.x,\n        startY = tag.y,\n        maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\n        s = spiral(size),\n        dt = random() < .5 ? 1 : -1,\n        t = -dt,\n        dxdy,\n        dx,\n        dy;\n\n    while (dxdy = s(t += dt)) {\n      dx = ~~dxdy[0];\n      dy = ~~dxdy[1];\n\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\n\n      tag.x = startX + dx;\n      tag.y = startY + dy;\n\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 ||\n          tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\n      // TODO only check for collisions within current bounds.\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\n        if (!bounds || collideRects(tag, bounds)) {\n          var sprite = tag.sprite,\n              w = tag.width >> 5,\n              sw = size[0] >> 5,\n              lx = tag.x - (w << 4),\n              sx = lx & 0x7f,\n              msx = 32 - sx,\n              h = tag.y1 - tag.y0,\n              x = (tag.y + tag.y0) * sw + (lx >> 5),\n              last;\n          for (var j = 0; j < h; j++) {\n            last = 0;\n            for (var i = 0; i <= w; i++) {\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\n            }\n            x += sw;\n          }\n          delete tag.sprite;\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  cloud.timeInterval = function(_) {\n    return arguments.length ? (timeInterval = _ == null ? Infinity : _, cloud) : timeInterval;\n  };\n\n  cloud.words = function(_) {\n    return arguments.length ? (words = _, cloud) : words;\n  };\n\n  cloud.size = function(_) {\n    return arguments.length ? (size = [+_[0], +_[1]], cloud) : size;\n  };\n\n  cloud.font = function(_) {\n    return arguments.length ? (font = functor(_), cloud) : font;\n  };\n\n  cloud.fontStyle = function(_) {\n    return arguments.length ? (fontStyle = functor(_), cloud) : fontStyle;\n  };\n\n  cloud.fontWeight = function(_) {\n    return arguments.length ? (fontWeight = functor(_), cloud) : fontWeight;\n  };\n\n  cloud.rotate = function(_) {\n    return arguments.length ? (rotate = functor(_), cloud) : rotate;\n  };\n\n  cloud.text = function(_) {\n    return arguments.length ? (text = functor(_), cloud) : text;\n  };\n\n  cloud.spiral = function(_) {\n    return arguments.length ? (spiral = spirals[_] || _, cloud) : spiral;\n  };\n\n  cloud.fontSize = function(_) {\n    return arguments.length ? (fontSize = functor(_), cloud) : fontSize;\n  };\n\n  cloud.padding = function(_) {\n    return arguments.length ? (padding = functor(_), cloud) : padding;\n  };\n\n  cloud.random = function(_) {\n    return arguments.length ? (random = _, cloud) : random;\n  };\n\n  cloud.on = function() {\n    var value = event.on.apply(event, arguments);\n    return value === event ? cloud : value;\n  };\n\n  return cloud;\n};\n\nfunction cloudText(d) {\n  return d.text;\n}\n\nfunction cloudFont() {\n  return \"serif\";\n}\n\nfunction cloudFontNormal() {\n  return \"normal\";\n}\n\nfunction cloudFontSize(d) {\n  return Math.sqrt(d.value);\n}\n\nfunction cloudRotate() {\n  return (~~(Math.random() * 6) - 3) * 30;\n}\n\nfunction cloudPadding() {\n  return 1;\n}\n\n// Fetches a monochrome sprite bitmap for the specified text.\n// Load in batches for speed.\nfunction cloudSprite(contextAndRatio, d, data, di) {\n  if (d.sprite) return;\n  var c = contextAndRatio.context,\n      ratio = contextAndRatio.ratio;\n\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\n  var x = 0,\n      y = 0,\n      maxh = 0,\n      n = data.length;\n  --di;\n  while (++di < n) {\n    d = data[di];\n    c.save();\n    c.font = d.style + \" \" + d.weight + \" \" + ~~((d.size + 1) / ratio) + \"px \" + d.font;\n    var w = c.measureText(d.text + \"m\").width * ratio,\n        h = d.size << 1;\n    if (d.rotate) {\n      var sr = Math.sin(d.rotate * cloudRadians),\n          cr = Math.cos(d.rotate * cloudRadians),\n          wcr = w * cr,\n          wsr = w * sr,\n          hcr = h * cr,\n          hsr = h * sr;\n      w = (Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5 << 5;\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\n    } else {\n      w = (w + 0x1f) >> 5 << 5;\n    }\n    if (h > maxh) maxh = h;\n    if (x + w >= (cw << 5)) {\n      x = 0;\n      y += maxh;\n      maxh = 0;\n    }\n    if (y + h >= ch) break;\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\n    c.fillText(d.text, 0, 0);\n    if (d.padding) c.lineWidth = 2 * d.padding, c.strokeText(d.text, 0, 0);\n    c.restore();\n    d.width = w;\n    d.height = h;\n    d.xoff = x;\n    d.yoff = y;\n    d.x1 = w >> 1;\n    d.y1 = h >> 1;\n    d.x0 = -d.x1;\n    d.y0 = -d.y1;\n    d.hasText = true;\n    x += w;\n  }\n  var pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\n      sprite = [];\n  while (--di >= 0) {\n    d = data[di];\n    if (!d.hasText) continue;\n    var w = d.width,\n        w32 = w >> 5,\n        h = d.y1 - d.y0;\n    // Zero the buffer\n    for (var i = 0; i < h * w32; i++) sprite[i] = 0;\n    x = d.xoff;\n    if (x == null) return;\n    y = d.yoff;\n    var seen = 0,\n        seenRow = -1;\n    for (var j = 0; j < h; j++) {\n      for (var i = 0; i < w; i++) {\n        var k = w32 * j + (i >> 5),\n            m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\n        sprite[k] |= m;\n        seen |= m;\n      }\n      if (seen) seenRow = j;\n      else {\n        d.y0++;\n        h--;\n        j--;\n        y++;\n      }\n    }\n    d.y1 = d.y0 + seenRow;\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\n  }\n}\n\n// Use mask-based collision detection.\nfunction cloudCollide(tag, board, sw) {\n  sw >>= 5;\n  var sprite = tag.sprite,\n      w = tag.width >> 5,\n      lx = tag.x - (w << 4),\n      sx = lx & 0x7f,\n      msx = 32 - sx,\n      h = tag.y1 - tag.y0,\n      x = (tag.y + tag.y0) * sw + (lx >> 5),\n      last;\n  for (var j = 0; j < h; j++) {\n    last = 0;\n    for (var i = 0; i <= w; i++) {\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0))\n          & board[x + i]) return true;\n    }\n    x += sw;\n  }\n  return false;\n}\n\nfunction cloudBounds(bounds, d) {\n  var b0 = bounds[0],\n      b1 = bounds[1];\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\n}\n\nfunction collideRects(a, b) {\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\n}\n\nfunction archimedeanSpiral(size) {\n  var e = size[0] / size[1];\n  return function(t) {\n    return [e * (t *= .1) * Math.cos(t), t * Math.sin(t)];\n  };\n}\n\nfunction rectangularSpiral(size) {\n  var dy = 4,\n      dx = dy * size[0] / size[1],\n      x = 0,\n      y = 0;\n  return function(t) {\n    var sign = t < 0 ? -1 : 1;\n    // See triangular numbers: T_n = n * (n + 1) / 2.\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\n      case 0:  x += dx; break;\n      case 1:  y += dy; break;\n      case 2:  x -= dx; break;\n      default: y -= dy; break;\n    }\n    return [x, y];\n  };\n}\n\n// TODO reuse arrays?\nfunction zeroArray(n) {\n  var a = [],\n      i = -1;\n  while (++i < n) a[i] = 0;\n  return a;\n}\n\nfunction cloudCanvas() {\n  return document.createElement(\"canvas\");\n}\n\nfunction functor(d) {\n  return typeof d === \"function\" ? d : function() { return d; };\n}\n\nvar spirals = {\n  archimedean: archimedeanSpiral,\n  rectangular: rectangularSpiral\n};\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport _seedrandom from 'seedrandom';\n\nexport function seed(seed: string) {\n  return _seedrandom(seed);\n}\n\nexport function seedRandom() {\n  return _seedrandom('superset-ui')();\n}\n","export function isValueDef(channelDef) {\n  return channelDef && 'value' in channelDef;\n}\nexport function isNonValueDef(channelDef) {\n  return channelDef && !('value' in channelDef);\n}\nexport function isFieldDef(channelDef) {\n  return channelDef && 'field' in channelDef && !!channelDef.field;\n}\nexport function isTypedFieldDef(channelDef) {\n  return isFieldDef(channelDef) && 'type' in channelDef && !!channelDef.type;\n}\nexport function isScaleFieldDef(channelDef) {\n  return isTypedFieldDef(channelDef) && 'scale' in channelDef;\n}\nexport function isPositionFieldDef(channelDef) {\n  return isTypedFieldDef(channelDef) && 'axis' in channelDef;\n}","export function isArray(maybeArray) {\n  return Array.isArray(maybeArray);\n}\nexport function isNotArray(maybeArray) {\n  return !Array.isArray(maybeArray);\n}\nexport function isDefined(value) {\n  return typeof value !== 'undefined' && value !== null;\n}\nexport function isEveryElementDefined(array) {\n  return array.every(isDefined);\n}","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","// Modified from vega-lite\n// because vega-lite uses namespace which has issues with babel and typescript\nexport const ScaleType = {\n  // Continuous - Quantitative\n  LINEAR: 'linear',\n  LOG: 'log',\n  POW: 'pow',\n  SQRT: 'sqrt',\n  SYMLOG: 'symlog',\n  // Continuous - Time\n  TIME: 'time',\n  UTC: 'utc',\n  // Discretizing scales\n  QUANTILE: 'quantile',\n  QUANTIZE: 'quantize',\n  THRESHOLD: 'threshold',\n  BIN_ORDINAL: 'bin-ordinal',\n  // Discrete scales\n  ORDINAL: 'ordinal',\n  POINT: 'point',\n  BAND: 'band'\n};","export function isX(channelType) {\n  return channelType === 'X' || channelType === 'XBand';\n}\nexport function isY(channelType) {\n  return channelType === 'Y' || channelType === 'YBand';\n}\nexport function isXOrY(channelType) {\n  return isX(channelType) || isY(channelType);\n}","/**\n * This is a stricter version of Object.keys but with better types.\n * See https://github.com/Microsoft/TypeScript/pull/12253#issuecomment-263132208\n */\nconst keys = Object.keys;\nexport default keys;","// Modified from vega-lite version\n// and remove unnecessary dependency\n\n/* eslint-disable no-param-reassign */\n\n/* eslint-disable no-negated-condition */\nimport keys from '../utils/keys';\n/**\n * Internal Object for defining datetime expressions.\n * This is an expression version of DateTime.\n * If both month and quarter are provided, month has higher precedence.\n * `day` cannot be combined with other date.\n */\n\nfunction invalidTimeUnit(unitName, value) {\n  return \"Invalid \" + unitName + \": \" + String(value) + \".\";\n}\n/*\n * A designated year that starts on Sunday.\n */\n\n\nconst SUNDAY_YEAR = 2006;\nconst MONTHS = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\nconst SHORT_MONTHS = MONTHS.map(m => m.slice(0, 3));\nconst DAYS = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\nconst SHORT_DAYS = DAYS.map(d => d.slice(0, 3));\n\nfunction isNumber(x) {\n  return typeof x === 'number';\n}\n/**\n * Returns whether the passed in value is a valid number.\n */\n\n\nfunction isNumeric(value) {\n  if (isNumber(value)) {\n    return true;\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  return !isNaN(value) && !isNaN(parseFloat(value));\n}\n\nexport function normalizeQuarter(q) {\n  if (isNumeric(q)) {\n    q = Number(q);\n  }\n\n  if (isNumber(q)) {\n    if (q > 4) {\n      // eslint-disable-next-line no-console\n      console.warn(invalidTimeUnit('quarter', q));\n    } // We accept 1-based quarter, so need to readjust to 0-based quarter\n\n\n    return q - 1;\n  } // Invalid quarter\n\n\n  throw new Error(invalidTimeUnit('quarter', q));\n}\nexport function normalizeMonth(m) {\n  if (isNumeric(m)) {\n    m = Number(m);\n  }\n\n  if (isNumber(m)) {\n    // We accept 1-based month, so need to readjust to 0-based month\n    return m - 1;\n  }\n\n  const lowerM = m.toLowerCase();\n  const monthIndex = MONTHS.indexOf(lowerM);\n\n  if (monthIndex !== -1) {\n    return monthIndex; // 0 for january, ...\n  }\n\n  const shortM = lowerM.slice(0, 3);\n  const shortMonthIndex = SHORT_MONTHS.indexOf(shortM);\n\n  if (shortMonthIndex !== -1) {\n    return shortMonthIndex;\n  } // Invalid month\n\n\n  throw new Error(invalidTimeUnit('month', m));\n}\nexport function normalizeDay(d) {\n  if (isNumeric(d)) {\n    d = Number(d);\n  }\n\n  if (isNumber(d)) {\n    // mod so that this can be both 0-based where 0 = sunday\n    // and 1-based where 7=sunday\n    return d % 7;\n  }\n\n  const lowerD = d.toLowerCase();\n  const dayIndex = DAYS.indexOf(lowerD);\n\n  if (dayIndex !== -1) {\n    return dayIndex; // 0 for january, ...\n  }\n\n  const shortD = lowerD.slice(0, 3);\n  const shortDayIndex = SHORT_DAYS.indexOf(shortD);\n\n  if (shortDayIndex !== -1) {\n    return shortDayIndex;\n  } // Invalid day\n\n\n  throw new Error(invalidTimeUnit('day', d));\n}\n/**\n * @param d the date.\n * @param normalize whether to normalize quarter, month, day. This should probably be true if d is a DateTime.\n * @returns array of date time parts [year, month, day, hours, minutes, seconds, milliseconds]\n */\n\nexport function dateTimeParts(d, normalize) {\n  const parts = [];\n\n  if (normalize && d.day !== undefined) {\n    if (keys(d).length > 1) {\n      d = { ...d\n      };\n      delete d.day;\n    }\n  }\n\n  if (d.year !== undefined) {\n    parts.push(d.year);\n  } else if (d.day !== undefined) {\n    // Set year to 2006 for working with day since January 1 2006 is a Sunday\n    parts.push(SUNDAY_YEAR);\n  } else {\n    parts.push(0);\n  }\n\n  if (d.month !== undefined) {\n    const month = normalize ? normalizeMonth(d.month) : d.month;\n    parts.push(month);\n  } else if (d.quarter !== undefined) {\n    const quarter = normalize ? normalizeQuarter(d.quarter) : d.quarter;\n    parts.push(isNumber(quarter) ? quarter * 3 : quarter + \"*3\");\n  } else {\n    parts.push(0); // months start at zero in JS\n  }\n\n  if (d.date !== undefined) {\n    parts.push(d.date);\n  } else if (d.day !== undefined) {\n    // HACK: Day only works as a standalone unit\n    // This is only correct because we always set year to 2006 for day\n    const day = normalize ? normalizeDay(d.day) : d.day;\n    parts.push(isNumber(day) ? day + 1 : day + \"+1\");\n  } else {\n    parts.push(1); // Date starts at 1 in JS\n  }\n\n  ['hours', 'minutes', 'seconds', 'milliseconds'].forEach(timeUnit => {\n    const unit = d[timeUnit];\n    parts.push(typeof unit === 'undefined' ? 0 : unit);\n  });\n  return parts;\n}\n/**\n * @param d the date time.\n * @returns the timestamp.\n */\n\nexport default function dateTimeToTimestamp(d) {\n  const parts = dateTimeParts(d, true);\n\n  if (d.utc) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return Number(new Date(Date.UTC(...parts)));\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  return Number(new Date(...parts));\n}","import dateTimeToTimestamp from './dateTimeToTimestamp';\nexport default function parseDateTime(dateTime) {\n  if (typeof dateTime === 'number' || typeof dateTime === 'string') {\n    return new Date(dateTime);\n  }\n\n  return new Date(dateTimeToTimestamp(dateTime));\n}","// eslint-disable-next-line import/prefer-default-export\nexport function isDateTime(o) {\n  return !!o && !(o instanceof Date) && typeof o !== 'string' && typeof o !== 'boolean' && typeof o !== 'number' && ('year' in o && o.year != null || 'quarter' in o && o.quarter != null || 'month' in o && o.month != null || 'date' in o && o.date != null || 'day' in o && o.day != null || 'hours' in o && o.hours != null || 'minutes' in o && o.minutes != null || 'seconds' in o && o.seconds != null || 'milliseconds' in o && o.milliseconds != null);\n}","export default function fallbackFormatter(v) {\n  return \"\" + v;\n}","import fallbackFormatter from './fallbackFormatter';\nimport Encodable from '../../options/Encodable';\nexport default function createFormatter({\n  formatType,\n  format,\n  formatInLocalTime\n}) {\n  if (formatType === 'time') {\n    const formatter = Encodable.resolveTimeFormat({\n      format,\n      formatInLocalTime\n    });\n    return value => formatter(value);\n  }\n\n  if (formatType === 'number' || typeof format !== 'undefined' && format.length > 0) {\n    const formatter = Encodable.resolveNumberFormat(format);\n    return value => formatter(value);\n  }\n\n  return fallbackFormatter;\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport parseDateTime from '../parsers/parseDateTime';\nimport inferElementTypeFromUnionOfArrayTypes from '../utils/inferElementTypeFromUnionOfArrayTypes';\nimport { isDateTime } from '../typeGuards/DateTime';\nimport createFormatter from '../parsers/format/createFormatter';\nexport default class ChannelEncoderAxis {\n  constructor(channelEncoder) {\n    _defineProperty(this, \"channelEncoder\", void 0);\n\n    _defineProperty(this, \"config\", void 0);\n\n    _defineProperty(this, \"formatValue\", void 0);\n\n    this.channelEncoder = channelEncoder;\n    this.config = channelEncoder.definition.axis;\n    this.formatValue = createFormatter(this.config);\n  }\n\n  getTitle() {\n    return this.config.title;\n  }\n\n  hasTitle() {\n    const {\n      title\n    } = this.config;\n    return title !== null && typeof title !== 'undefined' && title !== '';\n  }\n\n  getTickLabels() {\n    const {\n      tickCount,\n      values\n    } = this.config;\n\n    if (typeof values !== 'undefined') {\n      return inferElementTypeFromUnionOfArrayTypes(values).map(v => this.formatValue(isDateTime(v) ? parseDateTime(v) : v));\n    }\n\n    const {\n      scale\n    } = this.channelEncoder;\n\n    if (scale && 'domain' in scale) {\n      const ticks = 'ticks' in scale ? scale.ticks(tickCount) : scale.domain();\n      return ticks.map(this.formatValue);\n    }\n\n    return [];\n  }\n\n}","import isDisabled from './isDisabled';\nexport default function isEnabled(config) {\n  return !isDisabled(config);\n}","export default function isDisabled(config) {\n  return config === false || config === null;\n}","import { isX } from '../typeGuards/Channel';\nexport const STRATEGY_FLAT = {\n  strategy: 'flat'\n};\nconst STRATEGY_ROTATE = {\n  labelAngle: 40,\n  strategy: 'rotate'\n};\nexport default function expandLabelOverlapStrategy(channelType, labelOverlap = 'auto') {\n  let output;\n\n  switch (labelOverlap) {\n    case 'flat':\n      output = STRATEGY_FLAT;\n      break;\n\n    case 'rotate':\n      output = STRATEGY_ROTATE;\n      break;\n\n    case 'auto':\n      output = isX(channelType) ? STRATEGY_ROTATE : STRATEGY_FLAT;\n      break;\n\n    default:\n      output = labelOverlap;\n      break;\n  }\n\n  return { ...output\n  };\n}","import { ScaleType } from '../../types'; // Grouped by domain and range\n\nexport const continuousToContinuousScaleTypes = [ScaleType.LINEAR, ScaleType.POW, ScaleType.SQRT, ScaleType.SYMLOG, ScaleType.LOG, ScaleType.TIME, ScaleType.UTC];\nexport const continuousToContinuousScaleTypesSet = new Set(continuousToContinuousScaleTypes);\nexport const continuousToDiscreteScaleTypes = [ScaleType.QUANTILE, ScaleType.QUANTIZE, ScaleType.THRESHOLD];\nexport const continuousToDiscreteScaleTypesSet = new Set(continuousToDiscreteScaleTypes); // Grouped by Domain\n\nexport const continuousDomainScaleTypes = continuousToContinuousScaleTypes.concat(continuousToDiscreteScaleTypes);\nexport const continuousDomainScaleTypesSet = new Set(continuousDomainScaleTypes);\nexport const discreteDomainScaleTypes = [ScaleType.ORDINAL, ScaleType.BIN_ORDINAL, ScaleType.POINT, ScaleType.BAND];\nexport const discreteDomainScaleTypesSet = new Set(discreteDomainScaleTypes); // Three broad categories\n\nexport const continuousScaleTypes = continuousToContinuousScaleTypes;\nexport const continuousScaleTypesSet = continuousToContinuousScaleTypesSet;\nexport const discreteScaleTypes = [ScaleType.BAND, ScaleType.POINT, ScaleType.ORDINAL];\nexport const discreteScaleTypesSet = new Set(discreteScaleTypes);\nexport const discretizingScaleTypes = [ScaleType.BIN_ORDINAL, ScaleType.QUANTILE, ScaleType.QUANTIZE, ScaleType.THRESHOLD];\nexport const discretizingScaleTypesSet = new Set(discretizingScaleTypes); // Others\n\nexport const timeScaleTypes = [ScaleType.TIME, ScaleType.UTC];\nexport const timeScaleTypesSet = new Set(timeScaleTypes);\nexport const allScaleTypes = [ScaleType.LINEAR, ScaleType.LOG, ScaleType.POW, ScaleType.SQRT, ScaleType.SYMLOG, ScaleType.TIME, ScaleType.UTC, ScaleType.QUANTILE, ScaleType.QUANTIZE, ScaleType.THRESHOLD, ScaleType.BIN_ORDINAL, ScaleType.ORDINAL, ScaleType.POINT, ScaleType.BAND];\nexport const allScaleTypesSet = new Set(allScaleTypes);","import { ScaleType } from '../types';\n/**\n * Sometimes scale type is not specified but can be inferred\n * from other fields.\n * See https://vega.github.io/vega-lite/docs/scale.html\n * @param channelType type of the channel\n * @param fieldType type of the field\n * @param bin is value binned\n */\n\nexport default function inferScaleType(channelType, fieldType, bin = false) {\n  if (fieldType === 'nominal' || fieldType === 'ordinal') {\n    switch (channelType) {\n      // For positional (x and y) ordinal and ordinal fields,\n      // \"point\" is the default scale type for all marks\n      // except bar and rect marks, which use \"band\" scales.\n      // https://vega.github.io/vega-lite/docs/scale.html\n      case 'XBand':\n      case 'YBand':\n        return ScaleType.BAND;\n\n      case 'X':\n      case 'Y':\n      case 'Numeric':\n        return ScaleType.POINT;\n\n      case 'Color':\n      case 'Category':\n        return ScaleType.ORDINAL;\n\n      default:\n    }\n  } else if (fieldType === 'quantitative') {\n    switch (channelType) {\n      case 'XBand':\n      case 'YBand':\n      case 'X':\n      case 'Y':\n      case 'Numeric':\n        return ScaleType.LINEAR;\n\n      case 'Color':\n        return bin ? ScaleType.BIN_ORDINAL : ScaleType.LINEAR;\n\n      default:\n    }\n  } else if (fieldType === 'temporal') {\n    switch (channelType) {\n      case 'XBand':\n      case 'YBand':\n      case 'X':\n      case 'Y':\n      case 'Numeric':\n        return ScaleType.UTC;\n\n      case 'Color':\n        return ScaleType.LINEAR;\n\n      default:\n    }\n  }\n\n  return undefined;\n}","import { ScaleType } from '../../types';\nimport { allScaleTypesSet, allScaleTypes, continuousDomainScaleTypes, continuousScaleTypes, continuousScaleTypesSet } from './scaleCategories';\nconst pointOrBand = [ScaleType.POINT, ScaleType.BAND];\nconst pointOrBandSet = new Set(pointOrBand);\nconst exceptPointOrBand = allScaleTypes.filter(type => !pointOrBandSet.has(type));\nconst exceptPointOrBandSet = new Set(exceptPointOrBand);\nconst continuousOrPointOrBandSet = new Set(continuousScaleTypes.concat(pointOrBand));\nconst zeroSet = new Set(continuousDomainScaleTypes); // log scale cannot have zero value\n\nzeroSet.delete(ScaleType.LOG); // zero is not meaningful for time\n\nzeroSet.delete(ScaleType.TIME);\nzeroSet.delete(ScaleType.UTC); // threshold requires custom domain so zero does not matter\n\nzeroSet.delete(ScaleType.THRESHOLD); // quantile depends on distribution so zero does not matter\n\nzeroSet.delete(ScaleType.QUANTILE);\nconst supportedScaleTypes = {\n  align: pointOrBandSet,\n  base: new Set([ScaleType.LOG]),\n  clamp: continuousScaleTypesSet,\n  constant: new Set([ScaleType.SYMLOG]),\n  domain: allScaleTypesSet,\n  exponent: new Set([ScaleType.POW]),\n  interpolate: exceptPointOrBandSet,\n  nice: new Set(continuousScaleTypes.concat([ScaleType.QUANTIZE, ScaleType.THRESHOLD])),\n  padding: continuousOrPointOrBandSet,\n  paddingInner: new Set([ScaleType.BAND]),\n  paddingOuter: pointOrBandSet,\n  range: allScaleTypesSet,\n  reverse: allScaleTypesSet,\n  round: continuousOrPointOrBandSet,\n  scheme: exceptPointOrBandSet,\n  type: allScaleTypesSet,\n  unknown: new Set([ScaleType.ORDINAL]),\n  zero: zeroSet\n};\nexport default function isPropertySupportedByScaleType(property, scaleType) {\n  return supportedScaleTypes[property].has(scaleType);\n}","import isPropertySupportedByScaleType from '../parsers/scale/isPropertySupportedByScaleType';\nimport { continuousScaleTypesSet, discretizingScaleTypesSet, discreteScaleTypesSet } from '../parsers/scale/scaleCategories';\nexport function isContinuousScaleConfig(config) {\n  return continuousScaleTypesSet.has(config.type);\n}\nexport function isDiscretizingScaleConfig(config) {\n  return discretizingScaleTypesSet.has(config.type);\n}\nexport function isDiscreteScaleConfig(config) {\n  return discreteScaleTypesSet.has(config.type);\n}\nexport function isScaleConfigWithZero(config) {\n  return isPropertySupportedByScaleType('zero', config.type);\n}","import { isXOrY } from '../typeGuards/Channel';\nconst temporalFieldNames = new Set(['time', 'date', 'datetime', 'timestamp']);\nexport default function inferFieldType(channelType, field = '') {\n  if (isXOrY(channelType) || channelType === 'Numeric') {\n    return temporalFieldNames.has(field.toLowerCase()) ? 'temporal' : 'quantitative';\n  }\n\n  return 'nominal';\n}","import { isFieldDef, isValueDef, isTypedFieldDef } from '../typeGuards/ChannelDef';\nimport completeAxisConfig from './completeAxisConfig';\nimport completeFormatConfig from './completeFormatConfig';\nimport completeLegendConfig from './completeLegendConfig';\nimport completeScaleConfig from './completeScaleConfig';\nimport inferFieldType from './inferFieldType';\nexport default function completeChannelDef(channelType, channelDef) {\n  var _channelDef$title;\n\n  if (isValueDef(channelDef)) {\n    return { ...channelDef,\n      axis: false,\n      legend: false,\n      scale: false,\n      title: ''\n    };\n  } // Fill top-level properties\n\n\n  const copy = { ...channelDef,\n    title: isFieldDef(channelDef) ? (_channelDef$title = channelDef.title) != null ? _channelDef$title : channelDef.field : '',\n    type: isTypedFieldDef(channelDef) ? channelDef.type : inferFieldType(channelType, channelDef.field)\n  }; // Scale needs the top-level properties to be filled.\n\n  const scale = completeScaleConfig(channelType, copy); // Format needs scale.\n\n  const format = completeFormatConfig({ ...channelDef,\n    scaleType: scale ? scale.type : undefined\n  });\n  const copy2 = { ...copy,\n    ...format,\n    scale\n  }; // These need scale and format\n\n  const axis = completeAxisConfig(channelType, copy2);\n  const legend = completeLegendConfig(channelType, copy2);\n  return { ...copy2,\n    axis,\n    legend\n  };\n}","import inferScaleType from './inferScaleType';\nimport { isTypedFieldDef } from '../typeGuards/ChannelDef';\nimport { isContinuousScaleConfig, isScaleConfigWithZero } from '../typeGuards/ScaleConfig';\nimport isEnabled from '../utils/isEnabled';\nimport { timeScaleTypesSet } from '../parsers/scale/scaleCategories';\nexport default function completeScaleConfig(channelType, channelDef) {\n  if (isTypedFieldDef(channelDef) && isEnabled(channelDef.scale)) {\n    const {\n      scale = {},\n      type,\n      bin\n    } = channelDef;\n    const {\n      type: scaleType = inferScaleType(channelType, type, bin)\n    } = scale;\n\n    if (typeof scaleType === 'undefined') {\n      return false;\n    } // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n\n\n    const filledScale = { ...scale,\n      type: scaleType\n    };\n\n    if (isContinuousScaleConfig(filledScale)) {\n      if (typeof filledScale.nice === 'undefined') {\n        filledScale.nice = !timeScaleTypesSet.has(scaleType);\n      }\n\n      if (typeof filledScale.clamp === 'undefined') {\n        filledScale.clamp = true;\n      }\n    }\n\n    if (isScaleConfigWithZero(filledScale) && typeof filledScale.zero === 'undefined') {\n      filledScale.zero = true;\n    }\n\n    return filledScale;\n  }\n\n  return false;\n}","export default function completeFormatConfig(config) {\n  const {\n    formatType,\n    formatInLocalTime,\n    format,\n    type,\n    scaleType\n  } = config;\n  let resolvedFormatType;\n\n  if (typeof formatType !== 'undefined') {\n    resolvedFormatType = formatType;\n  } else if (type === 'quantitative') {\n    resolvedFormatType = 'number';\n  } else if (type === 'temporal' || scaleType === 'time' || scaleType === 'utc') {\n    resolvedFormatType = 'time';\n  } else if (typeof format !== 'undefined' && format.length > 0) {\n    resolvedFormatType = 'number';\n  }\n\n  if (resolvedFormatType === 'time') {\n    return {\n      formatType: 'time',\n      formatInLocalTime: formatInLocalTime || typeof formatInLocalTime === 'undefined' && scaleType === 'time',\n      format\n    };\n  }\n\n  return {\n    formatType: resolvedFormatType,\n    format\n  };\n}","import isEnabled from '../utils/isEnabled';\nimport { isXOrY, isX } from '../typeGuards/Channel';\nimport { isTypedFieldDef } from '../typeGuards/ChannelDef';\nimport expandLabelOverlapStrategy from './expandLabelOverlapStrategy';\nimport { continuousToContinuousScaleTypesSet } from '../parsers/scale/scaleCategories';\n\nfunction isChannelDefWithAxisSupport(channelType, channelDef) {\n  return isTypedFieldDef(channelDef) && isXOrY(channelType);\n}\n\nexport default function completeAxisConfig(channelType, channelDef) {\n  if (isChannelDefWithAxisSupport(channelType, channelDef) && isEnabled(channelDef.axis)) {\n    const axis = channelDef.axis === true || typeof channelDef.axis === 'undefined' ? {} : channelDef.axis;\n    const isXChannel = isX(channelType);\n    const {\n      format = channelDef.format,\n      formatType = channelDef.formatType,\n      formatInLocalTime = channelDef.formatInLocalTime,\n      labelAngle = 0,\n      labelFlush,\n      labelOverlap,\n      labelPadding = 4,\n      orient = isXChannel ? 'bottom' : 'left',\n      tickCount = 5,\n      ticks = true,\n      title = channelDef.title,\n      titlePadding = 4\n    } = axis;\n    const output = { ...axis,\n      format,\n      formatType,\n      labelAngle,\n      labelFlush: typeof labelFlush === 'undefined' ? channelDef.scale && typeof channelDef.scale.type !== 'undefined' && continuousToContinuousScaleTypesSet.has(channelDef.scale.type) : labelFlush,\n      labelOverlap: expandLabelOverlapStrategy(channelType, labelOverlap),\n      labelPadding,\n      orient,\n      tickCount,\n      ticks,\n      title,\n      titlePadding\n    };\n\n    if (typeof formatInLocalTime !== 'undefined') {\n      output.formatInLocalTime = formatInLocalTime;\n    }\n\n    return output;\n  }\n\n  return false;\n}","import { isXOrY } from '../typeGuards/Channel';\nexport default function completeLegendConfig(channelType, channelDef) {\n  if ('legend' in channelDef && channelDef.legend !== undefined) {\n    return channelDef.legend;\n  }\n\n  return isXOrY(channelType) || channelType === 'Text' ? false : {};\n}","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport millisecond from \"./millisecond.js\";\nimport second from \"./second.js\";\nimport minute from \"./minute.js\";\nimport hour from \"./hour.js\";\nimport day from \"./day.js\";\nimport {sunday as week} from \"./week.js\";\nimport month from \"./month.js\";\nimport year from \"./year.js\";\nimport utcMinute from \"./utcMinute.js\";\nimport utcHour from \"./utcHour.js\";\nimport utcDay from \"./utcDay.js\";\nimport {utcSunday as utcWeek} from \"./utcWeek.js\";\nimport utcMonth from \"./utcMonth.js\";\nimport utcYear from \"./utcYear.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(year, month, week, day, hour, minute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n","import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import max from \"./max.js\";\nimport min from \"./min.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import { scaleLinear, scaleLog, scalePow, scaleSqrt, scaleTime, scaleUtc, scaleQuantile, scaleQuantize, scaleThreshold, scaleOrdinal, scalePoint, scaleBand, scaleSymlog } from 'd3-scale';\nimport { ScaleType } from '../../types';\nexport default function createScaleFromScaleType(type) {\n  switch (type) {\n    case ScaleType.LINEAR:\n      return scaleLinear();\n\n    case ScaleType.LOG:\n      return scaleLog();\n\n    case ScaleType.POW:\n      return scalePow();\n\n    case ScaleType.SQRT:\n      return scaleSqrt();\n\n    case ScaleType.TIME:\n      return scaleTime();\n\n    case ScaleType.UTC:\n      return scaleUtc();\n\n    case ScaleType.QUANTILE:\n      return scaleQuantile();\n\n    case ScaleType.QUANTIZE:\n      return scaleQuantize();\n\n    case ScaleType.THRESHOLD:\n      return scaleThreshold();\n\n    case ScaleType.ORDINAL:\n      return scaleOrdinal();\n\n    case ScaleType.POINT:\n      return scalePoint();\n\n    case ScaleType.BAND:\n      return scaleBand();\n\n    case ScaleType.SYMLOG:\n      return scaleSymlog();\n\n    case ScaleType.BIN_ORDINAL:\n      // TODO: Pending scale.bins implementation\n      throw new Error(\"\\\"type = \" + type + \"\\\" is not supported yet.\");\n\n    default:\n      return scaleLinear();\n  }\n}","import {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval} from \"d3-time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {calendar} from \"./time.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","import { timeSecond, timeMinute, timeHour, timeDay, timeYear, timeMonth, timeWeek, utcSecond, utcMinute, utcHour, utcDay, utcWeek, utcMonth, utcYear } from 'd3-time';\nimport { ScaleType } from '../../types';\nconst localTimeIntervals = {\n  day: timeDay,\n  hour: timeHour,\n  minute: timeMinute,\n  month: timeMonth,\n  second: timeSecond,\n  week: timeWeek,\n  year: timeYear\n};\nconst utcIntervals = {\n  day: utcDay,\n  hour: utcHour,\n  minute: utcMinute,\n  month: utcMonth,\n  second: utcSecond,\n  week: utcWeek,\n  year: utcYear\n};\nexport default function applyNice(config, scale) {\n  if ('nice' in config && typeof config.nice !== 'undefined' && 'nice' in scale) {\n    const {\n      nice\n    } = config;\n\n    if (typeof nice === 'boolean') {\n      if (nice) {\n        scale.nice();\n      }\n    } else if (typeof nice === 'number') {\n      scale.nice(nice);\n    } else {\n      const timeScale = scale;\n      const {\n        type\n      } = config;\n\n      if (typeof nice === 'string') {\n        timeScale.nice(type === ScaleType.UTC ? utcIntervals[nice] : localTimeIntervals[nice]);\n      } else {\n        const {\n          interval,\n          step\n        } = nice;\n        const parsedInterval = (type === ScaleType.UTC ? utcIntervals[interval] : localTimeIntervals[interval]).every(step);\n\n        if (parsedInterval !== null) {\n          timeScale.nice(parsedInterval);\n        }\n      }\n    }\n  }\n}","import { timeScaleTypesSet, continuousScaleTypesSet, discretizingScaleTypesSet, discreteScaleTypesSet } from '../parsers/scale/scaleCategories';\nexport function isContinuousScale(scale, scaleType) {\n  return scale && continuousScaleTypesSet.has(scaleType);\n}\nexport function isDiscretizingScale(scale, scaleType) {\n  return scale && discretizingScaleTypesSet.has(scaleType);\n}\nexport function isDiscreteScale(scale, scaleType) {\n  return scale && discreteScaleTypesSet.has(scaleType);\n}\nexport function isTimeScale(scale, scaleType) {\n  return scale && timeScaleTypesSet.has(scaleType);\n}","import { isContinuousScale } from '../../typeGuards/Scale';\nexport default function applyZero(config, scale) {\n  if ('zero' in config && config.zero === true && isContinuousScale(scale, config.type)) {\n    const domain = scale.domain();\n    const [a, b] = domain;\n    const isDescending = b < a;\n    const [min, max] = isDescending ? [b, a] : [a, b];\n    const domainWithZero = [Math.min(0, min), Math.max(0, max)];\n    scale.domain(isDescending ? domainWithZero.reverse() : domainWithZero);\n  }\n}","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import { interpolateRgb, interpolateLab, interpolateHcl, interpolateHclLong, interpolateHsl, interpolateHslLong, interpolateCubehelix, interpolateCubehelixLong } from 'd3-interpolate';\nconst interpolatorMap = {\n  lab: interpolateLab,\n  hcl: interpolateHcl,\n  'hcl-long': interpolateHclLong,\n  hsl: interpolateHsl,\n  'hsl-long': interpolateHslLong,\n  cubehelix: interpolateCubehelix,\n  'cubehelix-long': interpolateCubehelixLong,\n  rgb: interpolateRgb\n};\nexport default function createColorInterpolator(interpolate) {\n  switch (interpolate) {\n    case 'lab':\n    case 'hcl':\n    case 'hcl-long':\n    case 'hsl':\n    case 'hsl-long':\n    case 'cubehelix':\n    case 'cubehelix-long':\n    case 'rgb':\n      return interpolatorMap[interpolate];\n\n    default:\n  }\n\n  const {\n    type,\n    gamma\n  } = interpolate;\n  const interpolator = interpolatorMap[type];\n  return typeof gamma === 'undefined' ? interpolator : interpolator.gamma(gamma);\n}","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import { timeScaleTypesSet } from '../scale/scaleCategories';\n/**\n * Convert each element in the array into\n * - Date (for time scales)\n * - number (for other continuous scales)\n * @param domain\n * @param scaleType\n */\n\nexport default function parseContinuousDomain(domain, scaleType) {\n  if (timeScaleTypesSet.has(scaleType)) {\n    return domain.filter(d => typeof d !== 'boolean').map(d => typeof d === 'string' || typeof d === 'number' ? new Date(d) : d);\n  }\n\n  return domain.map(d => typeof d === 'string' || typeof d === 'boolean' ? Number(d) : d);\n}","/**\n * Discrete domains are converted into string[]\n * when using D3 scales\n * @param domain\n */\nexport default function parseDiscreteDomain(domain) {\n  return domain.map(d => \"\" + d);\n}","export default function removeUndefinedAndNull(array) {\n  return array.filter(x => typeof x !== 'undefined' && x !== null);\n}","import { isDateTime } from '../typeGuards/DateTime';\nimport parseDateTime from './parseDateTime';\n/**\n * Only parse elements that are DateTime to Date.\n * Leave the rest alone.\n * @param array\n */\n\nexport default function parseDateTimeIn(array) {\n  return array.map(d => !(d instanceof Date) && isDateTime(d) ? parseDateTime(d) : d);\n}","import { isContinuousScale, isDiscretizingScale, isDiscreteScale } from '../../typeGuards/Scale';\nimport { isContinuousScaleConfig, isDiscretizingScaleConfig, isDiscreteScaleConfig } from '../../typeGuards/ScaleConfig';\nimport parseContinuousDomain from '../domain/parseContinuousDomain';\nimport parseDiscreteDomain from '../domain/parseDiscreteDomain';\nimport combineCategories from '../../utils/combineCategories';\nimport combineContinuousDomains from '../../utils/combineContinuousDomains';\nimport removeUndefinedAndNull from '../../utils/removeUndefinedAndNull';\nimport parseDateTimeIn from '../parseDateTimeIn';\n\nfunction createOrderFunction(reverse) {\n  return reverse ? array => array.concat().reverse() : array => array;\n}\n\nfunction isCompleteDomain(domain) {\n  return domain.length !== 2 || domain[0] != null && domain[1] != null;\n}\n\nexport default function applyDomain(config, scale,\n/** domain from dataset */\ndataDomain) {\n  const {\n    reverse,\n    type\n  } = config;\n  const order = createOrderFunction(reverse);\n\n  if (isContinuousScale(scale, type) && isContinuousScaleConfig(config) || isDiscretizingScale(scale, type) && isDiscretizingScaleConfig(config)) {\n    // For continuous and discretizing scales\n    if (config.domain) {\n      // If config.domain is specified\n      if (isCompleteDomain(config.domain)) {\n        // If the config.domain is completed\n        // ignores the dataDomain\n        scale.domain(order(parseDateTimeIn(config.domain)));\n      } else if (dataDomain) {\n        // If it is incompleted, then try to combine\n        // with the dataDomain\n        scale.domain(order(combineContinuousDomains(parseContinuousDomain(parseDateTimeIn(config.domain), type), parseContinuousDomain(removeUndefinedAndNull(dataDomain), type))));\n      }\n    } else if (dataDomain) {\n      // If no config.domain then just use the dataDomain if any\n      scale.domain(order(parseContinuousDomain(removeUndefinedAndNull(dataDomain), type)));\n    }\n  } else if (isDiscreteScale(scale, type) && isDiscreteScaleConfig(config)) {\n    // For discrete scales\n    if (config.domain) {\n      const fixedDomain = parseDiscreteDomain(parseDateTimeIn(config.domain));\n      scale.domain(order(dataDomain ? combineCategories(fixedDomain, parseDiscreteDomain(dataDomain)) : fixedDomain));\n    } else if (dataDomain) {\n      // If no config.domain then just use the dataDomain if any\n      scale.domain(order(parseDiscreteDomain(dataDomain)));\n    }\n  }\n}","import { isEveryElementDefined, isDefined } from '../typeGuards/Base';\n/**\n * Combine two continuous domain and ensure that the output\n * does not go beyond fixedDomain\n * @param bounds\n * @param dataDomain\n */\n\nexport default function combineContinuousDomains(bounds, dataDomain) {\n  if (bounds.length > 0 && isEveryElementDefined(bounds)) {\n    return bounds;\n  }\n\n  if (bounds.length === 2 && dataDomain.length === 2 && bounds.filter(isDefined).length > 0) {\n    const [boundMin, boundMax] = bounds;\n    const [dataMin, dataMax] = dataDomain;\n    let min = dataMin;\n\n    if (isDefined(boundMin)) {\n      min = boundMin.valueOf() > dataMin.valueOf() ? boundMin : dataMin;\n    }\n\n    let max = dataMax;\n\n    if (isDefined(boundMax)) {\n      max = boundMax.valueOf() < dataMax.valueOf() ? boundMax : dataMax;\n    }\n\n    return [min, max];\n  }\n\n  return dataDomain;\n}","/**\n * Combine two arrays into a unique list\n * by keeping the order the fixedCategories\n * and append new categories at the end.\n * @param fixedCategories\n * @param inputCategories\n */\nexport default function combineCategories(fixedCategories, inputCategories = []) {\n  if (fixedCategories.length === 0) {\n    return inputCategories;\n  }\n\n  const fixedSet = new Set(fixedCategories);\n  return fixedCategories.concat(inputCategories.filter(d => !fixedSet.has(d)));\n}","// eslint-disable-next-line import/prefer-default-export\nexport function isSchemeParams(scheme) {\n  return Object.prototype.toString.call(scheme) !== '[object String]';\n}","import { wrapColorScheme } from '@encodable/color';\nimport Encodable from '../../options/Encodable';\nimport { isContinuousScaleConfig } from '../../typeGuards/ScaleConfig';\nimport { isSchemeParams } from '../../typeGuards/SchemeParams';\nexport default function applyRange(config, scale) {\n  const {\n    range,\n    domain\n  } = config;\n\n  if (typeof range === 'undefined') {\n    if ('scheme' in config && typeof config.scheme !== 'undefined') {\n      const {\n        scheme\n      } = config;\n      let name;\n      let count;\n\n      if (isContinuousScaleConfig(config) && domain) {\n        count = domain.length;\n      }\n\n      let extent;\n\n      if (isSchemeParams(scheme)) {\n        name = scheme.name;\n\n        if (scheme.count) {\n          count = scheme.count;\n        }\n\n        extent = scheme.extent;\n      } else {\n        name = scheme;\n      }\n\n      const schemeObject = Encodable.resolveColorScheme({\n        name,\n        type: 'sequential'\n      });\n\n      if (typeof schemeObject !== 'undefined' && schemeObject.type === 'sequential') {\n        const wrappedScheme = wrapColorScheme(schemeObject);\n        scale.range(wrappedScheme.getColors(count, extent));\n      }\n    }\n  } else {\n    // TODO: add type guard should fix this problem\n    // @ts-ignore\n    scale.range(range);\n  }\n}","import applyAlign from './applyAlign';\nimport applyBase from './applyBase';\nimport applyClamp from './applyClamp';\nimport applyExponent from './applyExponent';\nimport applyNice from './applyNice';\nimport applyZero from './applyZero';\nimport applyInterpolate from './applyInterpolate';\nimport applyRound from './applyRound';\nimport applyDomain from './applyDomain';\nimport applyRange from './applyRange';\nimport applyPadding from './applyPadding';\nexport default function updateScale(scale, config) {\n  // domain and range apply to all scales\n  applyDomain(config, scale);\n  applyRange(config, scale); // Sort other properties alphabetically.\n\n  applyAlign(config, scale);\n  applyBase(config, scale);\n  applyClamp(config, scale);\n  applyExponent(config, scale);\n  applyInterpolate(config, scale); // Nice depends on domain.\n\n  applyNice(config, scale);\n  applyPadding(config, scale);\n  applyRound(config, scale); // Zero depends on domain and nice.\n\n  applyZero(config, scale);\n  return scale;\n}","export default function applyAlign(config, scale) {\n  if ('align' in config && typeof config.align !== 'undefined' && 'align' in scale) {\n    scale.align(config.align);\n  }\n}","export default function applyBase(config, scale) {\n  if ('base' in config && typeof config.base !== 'undefined' && 'base' in scale) {\n    scale.base(config.base);\n  }\n}","export default function applyClamp(config, scale) {\n  if ('clamp' in config && config.clamp === true && 'clamp' in scale) {\n    scale.clamp(config.clamp);\n  }\n}","export default function applyExponent(config, scale) {\n  if ('exponent' in config && typeof config.exponent !== 'undefined' && 'exponent' in scale) {\n    scale.exponent(config.exponent);\n  }\n}","import createColorInterpolator from './createColorInterpolator';\nexport default function applyInterpolate(config, scale) {\n  if ('interpolate' in config && typeof config.interpolate !== 'undefined' && 'interpolate' in scale) {\n    scale.interpolate(createColorInterpolator(config.interpolate));\n  }\n}","export default function applyPadding(config, scale) {\n  if ('padding' in config && typeof config.padding !== 'undefined' && 'padding' in scale) {\n    scale.padding(config.padding);\n  }\n\n  if ('paddingInner' in config && typeof config.paddingInner !== 'undefined' && 'paddingInner' in scale) {\n    scale.paddingInner(config.paddingInner);\n  }\n\n  if ('paddingOuter' in config && typeof config.paddingOuter !== 'undefined' && 'paddingOuter' in scale) {\n    scale.paddingOuter(config.paddingOuter);\n  }\n}","import { interpolateRound } from 'd3-interpolate';\nexport default function applyRound(config, scale) {\n  if ('round' in config && config.round === true) {\n    const roundableScale = scale;\n\n    if ('round' in roundableScale) {\n      roundableScale.round(config.round);\n    } else {\n      roundableScale.interpolate(interpolateRound);\n    }\n  }\n}","export default function identity(x) {\n  return x;\n}","export function isCompleteValueDef(def) {\n  return 'value' in def;\n}\nexport function isCompleteFieldDef(def) {\n  return 'field' in def;\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { extent as d3Extent } from 'd3-array';\nimport { ScaleType } from '../types';\nimport { isTypedFieldDef, isValueDef, isFieldDef } from '../typeGuards/ChannelDef';\nimport { isX, isY, isXOrY } from '../typeGuards/Channel';\nimport ChannelEncoderAxis from './ChannelEncoderAxis';\nimport createGetterFromChannelDef from '../parsers/createGetterFromChannelDef';\nimport completeChannelDef from '../fillers/completeChannelDef';\nimport createScale from '../parsers/scale/createScale';\nimport identity from '../utils/identity';\nimport applyDomain from '../parsers/scale/applyDomain';\nimport applyRange from '../parsers/scale/applyRange';\nimport applyZero from '../parsers/scale/applyZero';\nimport applyNice from '../parsers/scale/applyNice';\nimport { isCompleteValueDef, isCompleteFieldDef } from '../typeGuards/CompleteChannelDef';\nimport fallbackFormatter from '../parsers/format/fallbackFormatter';\nimport createFormatter from '../parsers/format/createFormatter';\nexport default class ChannelEncoder {\n  constructor({\n    name,\n    channelType,\n    definition: originalDefinition\n  }) {\n    _defineProperty(this, \"name\", void 0);\n\n    _defineProperty(this, \"channelType\", void 0);\n\n    _defineProperty(this, \"originalDefinition\", void 0);\n\n    _defineProperty(this, \"definition\", void 0);\n\n    _defineProperty(this, \"scale\", void 0);\n\n    _defineProperty(this, \"axis\", void 0);\n\n    _defineProperty(this, \"getValue\", void 0);\n\n    _defineProperty(this, \"encodeFunc\", void 0);\n\n    _defineProperty(this, \"formatValue\", void 0);\n\n    _defineProperty(this, \"encodeValue\", (value, otherwise) => {\n      if (typeof otherwise !== 'undefined' && (value === null || typeof value === 'undefined')) {\n        return otherwise;\n      } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n      return this.encodeFunc(value);\n    });\n\n    _defineProperty(this, \"encodeDatum\", (datum, otherwise) => typeof otherwise === 'undefined' ? this.encodeValue(this.getValueFromDatum(datum)) : this.encodeValue(this.getValueFromDatum(datum), otherwise));\n\n    _defineProperty(this, \"formatDatum\", datum => this.formatValue(this.getValueFromDatum(datum)));\n\n    _defineProperty(this, \"getValueFromDatum\", (datum, otherwise) => {\n      const value = this.getValue(datum);\n      return otherwise !== undefined && (value === null || value === undefined) ? otherwise : value;\n    });\n\n    _defineProperty(this, \"getDomainFromDataset\", data => {\n      if (isValueDef(this.definition)) {\n        const {\n          value\n        } = this.definition;\n        return [value];\n      }\n\n      const {\n        type\n      } = this.definition;\n\n      if (type === 'nominal' || type === 'ordinal') {\n        return Array.from(new Set(data.map(d => this.getValueFromDatum(d))));\n      }\n\n      if (type === 'quantitative') {\n        // Quantile scale needs all items\n        // because it treats domain as a discrete set of sample values\n        // for computing the quantiles\n        if (this.definition.scale && this.definition.scale.type === 'quantile') {\n          return data.map(d => this.getValueFromDatum(d));\n        }\n\n        const extent = d3Extent(data, d => this.getValueFromDatum(d));\n        return typeof extent[0] === 'undefined' ? [0, 1] : extent;\n      }\n\n      if (type === 'temporal') {\n        const extent = d3Extent(data, d => this.getValueFromDatum(d));\n        return typeof extent[0] === 'undefined' ? [0, 1] : extent;\n      }\n\n      return [];\n    });\n\n    this.name = name;\n    this.channelType = channelType;\n    this.originalDefinition = originalDefinition;\n    this.definition = completeChannelDef(this.channelType, originalDefinition);\n    this.getValue = createGetterFromChannelDef(this.definition);\n    this.formatValue = isFieldDef(this.definition) ? createFormatter(this.definition) : fallbackFormatter;\n\n    if (this.definition.scale) {\n      const scale = createScale(this.definition.scale); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      this.encodeFunc = value => scale(value);\n\n      this.scale = scale;\n    } else {\n      const {\n        definition\n      } = this;\n      this.encodeFunc = isCompleteValueDef(definition) ? () => definition.value : identity;\n    }\n\n    if (this.definition.axis) {\n      this.axis = new ChannelEncoderAxis(this);\n    }\n  }\n\n  getDomain() {\n    if (this.scale && 'domain' in this.scale) {\n      return this.scale.domain();\n    }\n\n    return [];\n  }\n\n  setDomain(domain) {\n    if (this.definition.scale !== false && this.scale && !this.hasCategoricalColorScale() && 'domain' in this.scale) {\n      const config = this.definition.scale;\n      applyDomain(config, this.scale, domain);\n      applyRange(config, this.scale);\n      applyZero(config, this.scale);\n      applyNice(config, this.scale);\n    }\n\n    return this;\n  }\n\n  setDomainFromDataset(data) {\n    return this.scale && 'domain' in this.scale ? this.setDomain(this.getDomainFromDataset(data)) : this;\n  }\n\n  getTitle() {\n    return this.definition.title;\n  }\n\n  isGroupBy() {\n    if (isTypedFieldDef(this.definition)) {\n      const {\n        type\n      } = this.definition;\n      return this.channelType === 'Category' || this.channelType === 'Text' || this.channelType === 'Color' && (type === 'nominal' || type === 'ordinal') || isXOrY(this.channelType) && (type === 'nominal' || type === 'ordinal');\n    }\n\n    return false;\n  }\n\n  isX() {\n    return isX(this.channelType);\n  }\n\n  isXOrY() {\n    return isXOrY(this.channelType);\n  }\n\n  isY() {\n    return isY(this.channelType);\n  }\n\n  hasCategoricalColorScale() {\n    const config = this.definition.scale; // Scale type is ordinal with not given range\n    // (may have optional scheme)\n    // will become a categorical scale\n    // of named color scheme.\n    // A color scale from named color scheme may be shared among multiple components\n    // in the same namespace by default, so changing its domain affect all components.\n    // (Sounds like a bad idea.)\n    // This function is currently only being used to check\n    // whether to apply domain from dataset or not.\n    // An ordinal scale with user-specified color scheme as range array\n    // will return false from this function and be excluded from it.\n\n    return this.scale && config && config.type === ScaleType.ORDINAL && typeof config.range === 'undefined';\n  }\n\n  hasLegend() {\n    return this.definition.legend !== false;\n  }\n\n  hasValueDefinition() {\n    return isCompleteValueDef(this.definition);\n  }\n\n  hasFieldDefinition() {\n    return isCompleteFieldDef(this.definition);\n  }\n\n}","import get from 'lodash.get';\nimport { isValueDef } from '../typeGuards/ChannelDef';\nexport default function createGetterFromChannelDef(definition) {\n  if (isValueDef(definition)) {\n    return () => definition.value;\n  }\n\n  if (typeof definition.field !== 'undefined') {\n    return x => get(x, definition.field);\n  }\n\n  return () => undefined;\n}","import { ScaleType } from '../../types';\nimport createScaleFromScaleType from './createScaleFromScaleType';\nimport updateScale from './updateScale';\nimport Encodable from '../../options/Encodable';\nimport { isSchemeParams } from '../../typeGuards/SchemeParams';\nimport applyDomain from './applyDomain';\n\nfunction createScale(config) {\n  const {\n    range\n  } = config; // Handle categorical color scales\n  // An ordinal scale without specified range\n  // is assumed to be a color scale.\n\n  if (config.type === ScaleType.ORDINAL && typeof range === 'undefined') {\n    const scheme = 'scheme' in config ? config.scheme : undefined;\n    const resolve = Encodable.getCategoricalColorScaleResolver();\n    let colorScale;\n\n    if (typeof scheme === 'undefined') {\n      colorScale = resolve({});\n    } else if (isSchemeParams(scheme)) {\n      colorScale = resolve(scheme);\n    } else {\n      colorScale = resolve({\n        name: scheme\n      });\n    }\n\n    const castedColorScale = colorScale;\n    applyDomain(config, castedColorScale);\n    return castedColorScale;\n  }\n\n  const scale = createScaleFromScaleType(config.type);\n  return updateScale(scale, config);\n}\n\nexport default createScale;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isTypedFieldDef, isValueDef } from '../typeGuards/ChannelDef';\nimport { isNotArray } from '../typeGuards/Base';\nimport ChannelEncoder from './ChannelEncoder';\nexport default class Encoder {\n  constructor({\n    channelTypes,\n    encoding\n  }) {\n    _defineProperty(this, \"encoding\", void 0);\n\n    _defineProperty(this, \"channelTypes\", void 0);\n\n    _defineProperty(this, \"channels\", void 0);\n\n    _defineProperty(this, \"legends\", void 0);\n\n    this.channelTypes = channelTypes;\n    this.encoding = encoding;\n    const channelNames = this.getChannelNames(); // Create channel encoders\n\n    const channels = {};\n    channelNames.forEach(name => {\n      const channelEncoding = encoding[name];\n\n      if (Array.isArray(channelEncoding)) {\n        const definitions = channelEncoding;\n        channels[name] = definitions.map((definition, i) => new ChannelEncoder({\n          channelType: channelTypes[name],\n          definition,\n          name: name + \"[\" + i + \"]\"\n        }));\n      } else {\n        const definition = channelEncoding;\n        channels[name] = new ChannelEncoder({\n          channelType: channelTypes[name],\n          definition,\n          name: name\n        });\n      }\n    });\n    this.channels = channels; // Group the channels that use the same field together\n    // so they can share the same legend.\n\n    this.legends = {};\n    channelNames.map(name => this.channels[name]).forEach(c => {\n      if (isNotArray(c) && c.hasLegend() && isTypedFieldDef(c.definition)) {\n        const {\n          field\n        } = c.definition;\n        const channelEncoder = c;\n\n        if (this.legends[field]) {\n          this.legends[field].push(channelEncoder);\n        } else {\n          this.legends[field] = [channelEncoder];\n        }\n      }\n    });\n  }\n\n  getChannelNames() {\n    return Object.keys(this.channelTypes);\n  }\n\n  getChannelEncoders() {\n    return this.getChannelNames().flatMap(name => this.channels[name]);\n  }\n\n  getGroupBys() {\n    const fields = this.getChannelEncoders().filter(c => c.isGroupBy()).map(c => c.definition.field);\n    return Array.from(new Set(fields));\n  }\n\n  createLegendItemsFactory(field) {\n    const channelEncoders = this.getChannelEncoders().filter(e => isNotArray(e) && isValueDef(e.definition)).flat().concat(this.legends[field]);\n    return domain => domain.map(input => ({\n      input,\n      output: channelEncoders.reduce((prev, curr) => {\n        const map = prev;\n        map[curr.name] = curr.encodeValue(input);\n        return map;\n      }, {})\n    }));\n  }\n\n  getLegendInformation(data = []) {\n    return Object.keys(this.legends) // for each field that was encoded\n    .map(field => {\n      // get all the channels that use this field\n      const channelEncoders = this.legends[field];\n      const firstEncoder = channelEncoders[0];\n      const definition = firstEncoder.definition;\n      const createLegendItems = this.createLegendItemsFactory(field);\n\n      if (definition.type === 'nominal') {\n        return {\n          channelEncoders,\n          createLegendItems,\n          field,\n          items: createLegendItems(firstEncoder.getDomainFromDataset(data)),\n          type: definition.type\n        };\n      }\n\n      return {\n        channelEncoders,\n        createLegendItems,\n        field,\n        type: definition.type\n      };\n    });\n  }\n\n  setDomainFromDataset(data) {\n    this.getChannelEncoders().forEach(channelEncoder => {\n      channelEncoder.setDomainFromDataset(data);\n    });\n    return this;\n  }\n\n  hasLegend() {\n    return Object.keys(this.legends).length > 0;\n  }\n\n}","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport cloudLayout, { Word } from 'd3-cloud';\nimport {\n  PlainObject,\n  createEncoderFactory,\n  DeriveEncoding,\n  Encoder,\n} from 'encodable';\nimport {\n  SupersetThemeProps,\n  withTheme,\n  seed,\n  CategoricalColorScale,\n} from '@superset-ui/core';\nimport { isEqual } from 'lodash';\n\nconst seedRandom = seed('superset-ui');\nexport const ROTATION = {\n  flat: () => 0,\n  // this calculates a random rotation between -90 and 90 degrees.\n  random: () => Math.floor(seedRandom() * 6 - 3) * 30,\n  square: () => Math.floor(seedRandom() * 2) * 90,\n};\n\nexport type RotationType = keyof typeof ROTATION;\n\nexport type WordCloudEncoding = DeriveEncoding<WordCloudEncodingConfig>;\n\ntype WordCloudEncodingConfig = {\n  color: ['Color', string];\n  fontFamily: ['Category', string];\n  fontSize: ['Numeric', number];\n  fontWeight: ['Category', string | number];\n  text: ['Text', string];\n};\n\n/**\n * These props should be stored when saving the chart.\n */\nexport interface WordCloudVisualProps {\n  encoding?: Partial<WordCloudEncoding>;\n  rotation?: RotationType;\n}\n\nexport interface WordCloudProps extends WordCloudVisualProps {\n  data: PlainObject[];\n  height: number;\n  width: number;\n  sliceId: number;\n}\n\nexport interface WordCloudState {\n  words: Word[];\n  scaleFactor: number;\n}\n\nconst defaultProps: Required<WordCloudVisualProps> = {\n  encoding: {},\n  rotation: 'flat',\n};\n\ntype FullWordCloudProps = WordCloudProps &\n  typeof defaultProps &\n  SupersetThemeProps;\n\nconst SCALE_FACTOR_STEP = 0.5;\nconst MAX_SCALE_FACTOR = 3;\n// Percentage of top results that will always be displayed.\n// Needed to avoid clutter when shrinking a chart with many records.\nconst TOP_RESULTS_PERCENTAGE = 0.1;\n\nclass WordCloud extends React.PureComponent<\n  FullWordCloudProps,\n  WordCloudState\n> {\n  static defaultProps = defaultProps;\n\n  // Cannot name it isMounted because of conflict\n  // with React's component function name\n  isComponentMounted = false;\n\n  wordCloudEncoderFactory = createEncoderFactory<WordCloudEncodingConfig>({\n    channelTypes: {\n      color: 'Color',\n      fontFamily: 'Category',\n      fontSize: 'Numeric',\n      fontWeight: 'Category',\n      text: 'Text',\n    },\n    defaultEncoding: {\n      color: { value: this.props.theme.colors.grayscale.dark2 },\n      fontFamily: { value: this.props.theme.typography.families.sansSerif },\n      fontSize: { value: 20 },\n      fontWeight: { value: 'bold' },\n      text: { value: '' },\n    },\n  });\n\n  createEncoder = this.wordCloudEncoderFactory.createSelector();\n\n  constructor(props: FullWordCloudProps) {\n    super(props);\n    this.state = {\n      words: [],\n      scaleFactor: 1,\n    };\n    this.setWords = this.setWords.bind(this);\n  }\n\n  componentDidMount() {\n    this.isComponentMounted = true;\n    this.update();\n  }\n\n  componentDidUpdate(prevProps: WordCloudProps) {\n    const { data, encoding, width, height, rotation } = this.props;\n\n    if (\n      !isEqual(prevProps.data, data) ||\n      !isEqual(prevProps.encoding, encoding) ||\n      prevProps.width !== width ||\n      prevProps.height !== height ||\n      prevProps.rotation !== rotation\n    ) {\n      this.update();\n    }\n  }\n\n  componentWillUnmount() {\n    this.isComponentMounted = false;\n  }\n\n  setWords(words: Word[]) {\n    if (this.isComponentMounted) {\n      this.setState({ words });\n    }\n  }\n\n  update() {\n    const { data, encoding } = this.props;\n\n    const encoder = this.createEncoder(encoding);\n    encoder.setDomainFromDataset(data);\n\n    const sortedData = [...data].sort(\n      (a, b) =>\n        encoder.channels.fontSize.encodeDatum(b, 0) -\n        encoder.channels.fontSize.encodeDatum(a, 0),\n    );\n    const topResultsCount = Math.max(\n      sortedData.length * TOP_RESULTS_PERCENTAGE,\n      10,\n    );\n    const topResults = sortedData.slice(0, topResultsCount);\n\n    // Ensure top results are always included in the final word cloud by scaling chart down if needed\n    this.generateCloud(encoder, 1, (words: Word[]) =>\n      topResults.every((d: PlainObject) =>\n        words.find(\n          ({ text }) => encoder.channels.text.getValueFromDatum(d) === text,\n        ),\n      ),\n    );\n  }\n\n  generateCloud(\n    encoder: Encoder<WordCloudEncodingConfig>,\n    scaleFactor: number,\n    isValid: (word: Word[]) => boolean,\n  ) {\n    const { data, width, height, rotation } = this.props;\n\n    cloudLayout()\n      .size([width * scaleFactor, height * scaleFactor])\n      // clone the data because cloudLayout mutates input\n      .words(data.map(d => ({ ...d })))\n      .padding(5)\n      .rotate(ROTATION[rotation] || ROTATION.flat)\n      .text(d => encoder.channels.text.getValueFromDatum(d))\n      .font(d =>\n        encoder.channels.fontFamily.encodeDatum(\n          d,\n          this.props.theme.typography.families.sansSerif,\n        ),\n      )\n      .fontWeight(d => encoder.channels.fontWeight.encodeDatum(d, 'normal'))\n      .fontSize(d => encoder.channels.fontSize.encodeDatum(d, 0))\n      .on('end', (words: Word[]) => {\n        if (isValid(words) || scaleFactor > MAX_SCALE_FACTOR) {\n          if (this.isComponentMounted) {\n            this.setState({ words, scaleFactor });\n          }\n        } else {\n          this.generateCloud(encoder, scaleFactor + SCALE_FACTOR_STEP, isValid);\n        }\n      })\n      .start();\n  }\n\n  render() {\n    const { scaleFactor } = this.state;\n    const { width, height, encoding, sliceId } = this.props;\n    const { words } = this.state;\n\n    const encoder = this.createEncoder(encoding);\n    encoder.channels.color.setDomainFromDataset(words);\n\n    const { getValueFromDatum } = encoder.channels.color;\n    const colorFn = encoder.channels.color.scale as CategoricalColorScale;\n\n    const viewBoxWidth = width * scaleFactor;\n    const viewBoxHeight = height * scaleFactor;\n\n    return (\n      <svg\n        width={width}\n        height={height}\n        viewBox={`-${viewBoxWidth / 2} -${\n          viewBoxHeight / 2\n        } ${viewBoxWidth} ${viewBoxHeight}`}\n      >\n        <g>\n          {words.map(w => (\n            <text\n              key={w.text}\n              fontSize={`${w.size}px`}\n              fontWeight={w.weight}\n              fontFamily={w.font}\n              fill={colorFn(getValueFromDatum(w) as string, sliceId)}\n              textAnchor=\"middle\"\n              transform={`translate(${w.x}, ${w.y}) rotate(${w.rotate})`}\n            >\n              {w.text}\n            </text>\n          ))}\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default withTheme(WordCloud);\n","import { createSelector } from 'reselect';\nimport Encoder from './Encoder';\nimport mergeEncoding from '../utils/mergeEncoding';\nexport default function createEncoderFactory(params) {\n  const {\n    channelTypes\n  } = params;\n  const completeEncoding = 'defaultEncoding' in params ? encoding => mergeEncoding(params.defaultEncoding, encoding) : params.completeEncoding;\n\n  const create = (encoding = {}) => new Encoder({\n    channelTypes,\n    encoding: completeEncoding(encoding)\n  });\n\n  return {\n    channelTypes,\n    create,\n    createSelector: () => createSelector(encoding => encoding, create),\n    DEFAULT_ENCODING: completeEncoding({})\n  };\n}","export default function mergeEncoding(defaultEncoding, encoding) {\n  return { ...defaultEncoding,\n    ...encoding\n  };\n}"],"names":["dispatch","cloudRadians","Math","PI","ch","cloudText","d","text","cloudFont","cloudFontNormal","cloudFontSize","sqrt","value","cloudRotate","random","cloudPadding","cloudSprite","contextAndRatio","data","di","sprite","c","context","ratio","clearRect","x","y","maxh","n","length","save","font","style","weight","size","w","measureText","width","h","rotate","sr","sin","cr","cos","wcr","wsr","hcr","hsr","max","abs","translate","fillText","padding","lineWidth","strokeText","restore","height","xoff","yoff","x1","y1","x0","y0","hasText","pixels","getImageData","w32","i","seen","seenRow","j","k","m","slice","cloudCollide","tag","board","sw","last","lx","sx","msx","cloudBounds","bounds","b0","b1","archimedeanSpiral","e","t","cloudCanvas","document","createElement","functor","module","exports","fontSize","fontStyle","fontWeight","spiral","words","timeInterval","Infinity","event","timer","cloud","canvas","place","dxdy","dx","dy","a","b","startX","startY","maxDelta","s","dt","min","_","arguments","start","getContext","fillStyle","strokeStyle","textAlign","zeroArray","tags","map","call","this","sort","clearInterval","setInterval","step","Date","now","push","stop","spirals","on","apply","archimedean","rectangular","sign","noop","test","Error","Dispatch","parseTypenames","typenames","types","trim","split","name","indexOf","hasOwnProperty","type","get","set","callback","concat","prototype","constructor","typename","T","copy","that","args","Array","defaultEqualityCheck","areArgumentsShallowlyEqual","equalityCheck","prev","next","getDependencies","funcs","dependencies","isArray","every","dep","dependencyTypes","join","createSelector","memoize","_len","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","undefined","selector","params","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","seed","_seedrandom","seedRandom","isValueDef","channelDef","isFieldDef","field","isTypedFieldDef","isNotArray","maybeArray","isDefined","values","valueof","index","ScaleType","isX","channelType","isY","isXOrY","Object","keys","invalidTimeUnit","unitName","String","MONTHS","SHORT_MONTHS","DAYS","SHORT_DAYS","isNumber","isNumeric","isNaN","parseFloat","parseDateTime","dateTime","parts","normalize","day","year","month","Number","lowerM","toLowerCase","monthIndex","shortM","shortMonthIndex","normalizeMonth","quarter","q","console","warn","normalizeQuarter","date","lowerD","dayIndex","shortD","shortDayIndex","normalizeDay","forEach","timeUnit","unit","dateTimeParts","utc","UTC","dateTimeToTimestamp","isDateTime","o","hours","minutes","seconds","milliseconds","fallbackFormatter","v","createFormatter","formatType","format","formatInLocalTime","formatter","Encodable","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","ChannelEncoderAxis","channelEncoder","config","definition","axis","formatValue","getTitle","title","hasTitle","getTickLabels","tickCount","scale","ticks","domain","isEnabled","isDisabled","STRATEGY_FLAT","strategy","STRATEGY_ROTATE","labelAngle","expandLabelOverlapStrategy","labelOverlap","output","continuousToContinuousScaleTypes","continuousToContinuousScaleTypesSet","Set","continuousToDiscreteScaleTypes","continuousDomainScaleTypes","continuousScaleTypes","continuousScaleTypesSet","discreteScaleTypesSet","discretizingScaleTypesSet","allScaleTypes","allScaleTypesSet","inferScaleType","fieldType","bin","pointOrBand","pointOrBandSet","exceptPointOrBand","filter","has","exceptPointOrBandSet","continuousOrPointOrBandSet","zeroSet","delete","supportedScaleTypes","align","base","clamp","constant","exponent","interpolate","nice","paddingInner","paddingOuter","range","reverse","round","scheme","unknown","zero","isContinuousScaleConfig","temporalFieldNames","inferFieldType","completeChannelDef","_channelDef$title","legend","scaleType","filledScale","isScaleConfigWithZero","completeScaleConfig","resolvedFormatType","completeFormatConfig","copy2","isChannelDefWithAxisSupport","isXChannel","labelFlush","labelPadding","orient","titlePadding","completeAxisConfig","completeLegendConfig","e10","e5","e2","count","tickIncrement","isFinite","r0","r1","power","floor","log","LN10","error","pow","tickStep","step0","step1","NaN","f","delta","compare","left","lo","hi","mid","ascending","ascendingComparator","center","right","ascendingBisect","bisector","bisectRight","number","basis","t1","v0","v1","v2","v3","t2","t3","linear","hue","nogamma","rgbGamma","color","exponential","gamma","rgb","end","r","g","opacity","rgbSpline","spline","colors","genericArray","nb","na","setTime","reA","reB","RegExp","source","am","bm","bs","bi","lastIndex","exec","one","string","ArrayBuffer","isView","DataView","valueOf","toString","object","identity","bimap","d0","d1","polymap","bisect","target","transformer","transform","untransform","piecewise","input","rescale","invert","from","rangeRound","u","continuous","initRange","linearish","tickFormat","specifier","precision","prestep","i0","i1","maxIter","ceil","interval","transformLog","transformExp","exp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","E","log10","log2","logp","powp","p","z","transformPow","transformSqrt","transformSquare","powish","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationYear","t0","newInterval","floori","offseti","offset","previous","millisecond","second","getMilliseconds","getUTCSeconds","minute","getSeconds","getMinutes","hour","getHours","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","setMonth","getMonth","getFullYear","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","ticker","week","tickIntervals","tickInterval","utcTicks","utcTickInterval","timeTicks","timeTickInterval","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","quantileSorted","value0","thresholds","invertExtent","quantiles","quantize","threshold","implicit","Symbol","ordinal","Map","band","bandwidth","ordinalRange","pointish","transformSymlog","log1p","transformSymexp","expm1","symlogish","symlog","createScaleFromScaleType","localTimeIntervals","utcIntervals","applyNice","timeScale","parsedInterval","isContinuousScale","applyZero","isDescending","domainWithZero","hcl","l","hclLong","hsl","hslLong","cubehelix","cubehelixGamma","interpolatorMap","lab","parseContinuousDomain","parseDiscreteDomain","removeUndefinedAndNull","array","parseDateTimeIn","applyDomain","dataDomain","order","createOrderFunction","isDiscretizingScale","isDiscretizingScaleConfig","boundMin","boundMax","dataMin","dataMax","combineContinuousDomains","isDiscreteScale","isDiscreteScaleConfig","fixedDomain","fixedCategories","inputCategories","fixedSet","combineCategories","isSchemeParams","applyRange","extent","schemeObject","wrappedScheme","wrapColorScheme","getColors","updateScale","applyAlign","applyBase","applyClamp","applyExponent","interpolator","createColorInterpolator","applyInterpolate","applyPadding","roundableScale","applyRound","isCompleteValueDef","def","ChannelEncoder","originalDefinition","otherwise","encodeFunc","datum","encodeValue","getValueFromDatum","getValue","resolve","colorScale","castedColorScale","getDomain","setDomain","hasCategoricalColorScale","setDomainFromDataset","getDomainFromDataset","isGroupBy","hasLegend","hasValueDefinition","hasFieldDefinition","Encoder","channelTypes","encoding","channelNames","getChannelNames","channels","channelEncoding","definitions","legends","getChannelEncoders","flatMap","getGroupBys","fields","createLegendItemsFactory","channelEncoders","flat","reduce","curr","getLegendInformation","firstEncoder","createLegendItems","items","ROTATION","square","WordCloud","React","props","super","isComponentMounted","wordCloudEncoderFactory","completeEncoding","defaultEncoding","mergeEncoding","create","DEFAULT_ENCODING","createEncoderFactory","fontFamily","theme","grayscale","dark2","typography","families","sansSerif","createEncoder","state","scaleFactor","setWords","bind","componentDidMount","update","componentDidUpdate","prevProps","rotation","componentWillUnmount","setState","encoder","sortedData","encodeDatum","topResultsCount","topResults","generateCloud","find","isValid","cloudLayout","render","sliceId","colorFn","viewBoxWidth","viewBoxHeight","viewBox","fill","textAnchor","defaultProps","withTheme"],"sourceRoot":""}