(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{2456:function(t,r,n){"use strict";n.r(r);var e=n(1),a=n.n(e),o=n(0),i=n.n(o),c=function(t,r){return t<r?-1:t>r?1:t>=r?0:NaN};var l,u;1===(l=c).length&&(u=l,l=function(t,r){return c(u(t),r)});var s=function(t,r){var n,e;if(void 0===r){var a=!0,o=!1,i=void 0;try{for(var c,l=t[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;null!=u&&u>=u&&(void 0===n?n=e=u:(n>u&&(n=u),e<u&&(e=u)))}}catch(t){o=!0,i=t}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}}else{var s=-1,f=!0,h=!1,p=void 0;try{for(var m,v=t[Symbol.iterator]();!(f=(m=v.next()).done);f=!0){var d=m.value;null!=(d=r(d,++s,t))&&d>=d&&(void 0===n?n=e=d:(n>d&&(n=d),e<d&&(e=d)))}}catch(t){h=!0,p=t}finally{try{f||null==v.return||v.return()}finally{if(h)throw p}}}return[n,e]};var f=Array.prototype;f.slice,f.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var h=function(t,r){return t<r?-1:t>r?1:t>=r?0:NaN},p=function(t){var r;return 1===t.length&&(r=t,t=function(t,n){return h(r(t),n)}),{left:function(r,n,e,a){for(null==e&&(e=0),null==a&&(a=r.length);e<a;){var o=e+a>>>1;t(r[o],n)<0?e=o+1:a=o}return e},right:function(r,n,e,a){for(null==e&&(e=0),null==a&&(a=r.length);e<a;){var o=e+a>>>1;t(r[o],n)>0?a=o:e=o+1}return e}}};var m=p(h),v=m.right,d=(m.left,v);var y=Array.prototype,g=(y.slice,y.map,Math.sqrt(50)),M=Math.sqrt(10),b=Math.sqrt(2),w=function(t,r,n){var e,a,o,i,c=-1;if(n=+n,(t=+t)===(r=+r)&&n>0)return[t];if((e=r<t)&&(a=t,t=r,r=a),0===(i=N(t,r,n))||!isFinite(i))return[];if(i>0)for(t=Math.ceil(t/i),r=Math.floor(r/i),o=new Array(a=Math.ceil(r-t+1));++c<a;)o[c]=(t+c)*i;else for(t=Math.floor(t*i),r=Math.ceil(r*i),o=new Array(a=Math.ceil(t-r+1));++c<a;)o[c]=(t-c)/i;return e&&o.reverse(),o};function N(t,r,n){var e=(r-t)/Math.max(0,n),a=Math.floor(Math.log(e)/Math.LN10),o=e/Math.pow(10,a);return a>=0?(o>=g?10:o>=M?5:o>=b?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=g?10:o>=M?5:o>=b?2:1)}function O(t,r,n){var e=Math.abs(r-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),o=e/a;return o>=g?a*=10:o>=M?a*=5:o>=b&&(a*=2),r<t?-a:a}function k(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t)}return this}n(205);var S=Array.prototype,j=S.map,x=S.slice;var q=n(114),_=function(t){return function(){return t}},A=function(t){return+t},X=[0,1];function C(t){return t}function D(t,r){return(r-=t=+t)?function(n){return(n-t)/r}:_(isNaN(r)?NaN:.5)}function E(t){var r,n=t[0],e=t[t.length-1];return n>e&&(r=n,n=e,e=r),function(t){return Math.max(n,Math.min(e,t))}}function R(t,r,n){var e=t[0],a=t[1],o=r[0],i=r[1];return a<e?(e=D(a,e),o=n(i,o)):(e=D(e,a),o=n(o,i)),function(t){return o(e(t))}}function P(t,r,n){var e=Math.min(t.length,r.length)-1,a=new Array(e),o=new Array(e),i=-1;for(t[e]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++i<e;)a[i]=D(t[i],t[i+1]),o[i]=n(r[i],r[i+1]);return function(r){var n=d(t,r,1,e)-1;return o[n](a[n](r))}}function H(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function T(){var t,r,n,e,a,o,i=X,c=X,l=q.a,u=C;function s(){return e=Math.min(i.length,c.length)>2?P:R,a=o=null,f}function f(r){return isNaN(r=+r)?n:(a||(a=e(i.map(t),c,l)))(t(u(r)))}return f.invert=function(n){return u(r((o||(o=e(c,i.map(t),q.c)))(n)))},f.domain=function(t){return arguments.length?(i=j.call(t,A),u===C||(u=E(i)),s()):i.slice()},f.range=function(t){return arguments.length?(c=x.call(t),s()):c.slice()},f.rangeRound=function(t){return c=x.call(t),l=q.d,s()},f.clamp=function(t){return arguments.length?(u=t?E(i):C,f):u!==C},f.interpolate=function(t){return arguments.length?(l=t,s()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,e){return t=n,r=e,s()}}function z(t,r){return T()(t,r)}var F=n(34),J=function(t,r,n,e){var a,o=O(t,r,n);switch((e=Object(F.c)(null==e?",f":e)).type){case"s":var i=Math.max(Math.abs(t),Math.abs(r));return null!=e.precision||isNaN(a=Object(F.e)(o,i))||(e.precision=a),Object(F.b)(e,i);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(a=Object(F.f)(o,Math.max(Math.abs(t),Math.abs(r))))||(e.precision=a-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(a=Object(F.d)(o))||(e.precision=a-2*("%"===e.type))}return Object(F.a)(e)};function L(t){var r=t.domain;return t.ticks=function(t){var n=r();return w(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var e=r();return J(e[0],e[e.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var e,a=r(),o=0,i=a.length-1,c=a[o],l=a[i];return l<c&&(e=c,c=l,l=e,e=o,o=i,i=e),(e=N(c,l,n))>0?e=N(c=Math.floor(c/e)*e,l=Math.ceil(l/e)*e,n):e<0&&(e=N(c=Math.ceil(c*e)/e,l=Math.floor(l*e)/e,n)),e>0?(a[o]=Math.floor(c/e)*e,a[i]=Math.ceil(l/e)*e,r(a)):e<0&&(a[o]=Math.ceil(c*e)/e,a[i]=Math.floor(l*e)/e,r(a)),t},t}n(10),n(68);function U(){return(U=Object.assign||function(t){for(var r,n=1;n<arguments.length;n++)for(var e in r=arguments[n])Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t}).apply(this,arguments)}var W=["#313695","#4575b4","#74add1","#abd9e9","#fee090","#fdae61","#f46d43","#d73027"],B={className:i.a.string,width:i.a.number,height:i.a.number,data:i.a.arrayOf(i.a.shape({y:i.a.number})).isRequired,bands:i.a.number,colors:i.a.arrayOf(i.a.string),colorScale:i.a.string,mode:i.a.string,offsetX:i.a.number,title:i.a.string,yDomain:i.a.arrayOf(i.a.number)},G={className:"",width:800,height:20,bands:W.length>>1,colors:W,colorScale:"series",mode:"offset",offsetX:0,title:"",yDomain:void 0},I=function(t){function r(){return t.apply(this,arguments)||this}!function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}(r,t);var n=r.prototype;return n.componentDidMount=function(){this.drawChart()},n.componentDidUpdate=function(){this.drawChart()},n.componentWillUnmount=function(){this.canvas=null},n.drawChart=function(){if(this.canvas){var t=this.props,r=t.data,n=t.yDomain,e=t.width,a=t.height,o=t.bands,i=t.colors,c=t.colorScale,l=t.offsetX,u=t.mode,f="change"===c?r.map(function(t){return U({},t,{y:t.y-r[0].y})}):r,h=this.canvas.getContext("2d");h.imageSmoothingEnabled=!1,h.clearRect(0,0,e,a),h.setTransform(1,0,0,1,0,0),h.translate(.5,.5);var p=e/f.length,m=Math.floor(Math.max(0,-l/p)),v=Math.floor(Math.min(f.length,m+e/p));if(m>f.length)return;for(var d,y,g=n||s(f,function(t){return t.y}),M=g[0],b=g[1],w=function t(){var r=z(C,C);return r.copy=function(){return H(r,t())},k.apply(r,arguments),L(r)}().domain([0,Math.max(-M,b)]).range([0,a]),N=!1,O=0;O<o;O+=1){h.fillStyle=i[o+O],y=(O+1-o)*a,w.range([o*a+y,y]);for(var S=m;S<v;S++)0>=(d=f[S].y)?N=!0:void 0!==d&&h.fillRect(l+S*p,w(d),p+1,w(0)-w(d))}if(N){"offset"===u&&(h.translate(0,a),h.scale(1,-1));for(var j=0;j<o;j++){h.fillStyle=i[o-j-1],y=(j+1-o)*a,w.range([o*a+y,y]);for(var x=m;x<v;x++)!(0<=(d=f[x].y))&&h.fillRect(l+x*p,w(-d),p+1,w(0)-w(-d))}}}},n.render=function(){var t=this,r=this.props,n=r.className,e=r.title,o=r.width,i=r.height;return a.a.createElement("div",{className:"horizon-row "+n},a.a.createElement("span",{className:"title"},e),a.a.createElement("canvas",{width:o,height:i,ref:function(r){t.canvas=r}}))},r}(a.a.PureComponent);I.propTypes=B,I.defaultProps=G;var K=I;var Q={className:i.a.string,width:i.a.number,seriesHeight:i.a.number,data:i.a.arrayOf(i.a.shape({key:i.a.arrayOf(i.a.string),values:i.a.arrayOf(i.a.shape({y:i.a.number}))})).isRequired,bands:i.a.number,colors:i.a.arrayOf(i.a.string),colorScale:i.a.string,mode:i.a.string,offsetX:i.a.number},V={className:"",width:800,seriesHeight:20,bands:Math.floor(W.length/2),colors:W,colorScale:"series",mode:"offset",offsetX:0},Y=function(t){function r(){return t.apply(this,arguments)||this}return function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}(r,t),r.prototype.render=function(){var t,r=this.props,n=r.className,e=r.width,o=r.data,i=r.seriesHeight,c=r.bands,l=r.colors,u=r.colorScale,f=r.mode,h=r.offsetX;if("overall"===u){var p=o.reduce(function(t,r){return t.concat(r.values)},[]);t=s(p,function(t){return t.y})}return a.a.createElement("div",{className:"superset-legacy-chart-horizon "+n},o.map(function(r){return a.a.createElement(K,{key:r.key,width:e,height:i,title:r.key.join(", "),data:r.values,bands:c,colors:l,colorScale:u,mode:f,offsetX:h,yDomain:t})}))},r}(a.a.PureComponent);Y.propTypes=Q,Y.defaultProps=V;r.default=Y}}]);