/*! For license information please see 23.26f3f4218baa128a90ab.chunk.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[23,5,10],{1045:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}};var i,l=n(1),s=(i=l)&&i.__esModule?i:{default:i},u=n(219),c=n(1046),p=n(288),d=n(446),f=(n(383),n(447)),h=n(449),b=n(1050),m=function(t){function n(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),a(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.state={currentPage:this.props.currentPage?this.props.currentPage:0,currentSort:{column:null,direction:this.props.defaultSortDescending?-1:1},filter:""},!1!==e.sortBy||!1!==e.defaultSort){var t=e.sortBy||e.defaultSort;this.state.currentSort=this.getCurrentSort(t)}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s["default"].Component),o(n,[{key:"filterBy",value:function(e){this.setState({filter:e})}},{key:"translateColumnsArray",value:function(e){return e.map(function(e,t){if("string"==typeof e)return{key:e,label:e};if(void 0!==e.sortable){var n=!0===e.sortable?"default":e.sortable;this._sortable[e.key]=n}return e}.bind(this))}},{key:"parseChildData",value:function(e,t){var n=[],r=void 0;return void 0!==e.children&&s.default.Children.forEach(e.children,function(e){if(null!=e&&e)if(t)switch(e.type.displayName?e.type.displayName:null){case d.Thead:break;case h.Tfoot.name:void 0!==r&&console.warn("You can only have one <Tfoot>, but more than one was specified.Ignoring all but the last one"),r=e;break;case f.Tr.name:var o=e.props.data||{};s.default.Children.forEach(e.props.children,function(e){if("object"==typeof e&&null!=e)if(void 0!==e.props.column){var t=void 0;if(void 0!==e.props.data)t=e.props.data;else{if(void 0===e.props.children)return void console.warn("exports.Td specified without a `data` property or children, ignoring");t=e.props.children}o[e.props.column]={value:t,props:(0,u.filterPropsFrom)(e.props),__reactableMeta:!0}}else console.warn("exports.Td specified without a `column` property, ignoring")}),n.push({data:o,props:(0,u.filterPropsFrom)(e.props),__reactableMeta:!0});break;default:console.warn("The only possible children of <Table> are <Thead>, <Tr>, or one <Tfoot>.")}else switch(e.type){case d.Thead:break;case h.Tfoot:void 0!==r&&console.warn("You can only have one <Tfoot>, but more than one was specified.Ignoring all but the last one"),r=e;break;case f.Tr:o=e.props.data||{};s.default.Children.forEach(e.props.children,function(e){if("object"==typeof e&&null!=e)if(void 0!==e.props.column){var t=void 0;if(void 0!==e.props.data)t=e.props.data;else{if(void 0===e.props.children)return void console.warn("exports.Td specified without a `data` property or children, ignoring");t=e.props.children}o[e.props.column]={value:t,props:(0,u.filterPropsFrom)(e.props),__reactableMeta:!0}}else console.warn("exports.Td specified without a `column` property, ignoring")}),n.push({data:o,props:(0,u.filterPropsFrom)(e.props),__reactableMeta:!0});break;default:console.warn("The only possible children of <Table> are <Thead>, <Tr>, or one <Tfoot>.")}}.bind(this)),{data:n,tfoot:r}}},{key:"initialize",value:function(t){this.data=t.data||[];var n=e.hot,r=r=this.parseChildData(t,n),o=r,a=o.data,i=o.tfoot;this.data=this.data.concat(a),this.tfoot=i,this.initializeSorts(t),this.initializeFilters(t)}},{key:"initializeFilters",value:function(e){for(var t in this._filterable={},e.filterable){var n=e.filterable[t],r=void 0,o=void 0;if(n instanceof Object){if(void 0===n.column){console.warn("Filterable column specified without column name");continue}r=n.column,o="function"==typeof n.filterFunction?n.filterFunction:"default"}else r=n,o="default";this._filterable[r]=o}}},{key:"initializeSorts",value:function(e){for(var t in this._sortable={},e.sortable){var n=e.sortable[t],r=void 0,o=void 0;if(n instanceof Object){if(void 0===n.column)return void console.warn("Sortable column specified without column name");r=n.column,o="function"==typeof n.sortFunction?n.sortFunction:"default"}else r=n,o="default";this._sortable[r]=o}}},{key:"getCurrentSort",value:function(e){var t=void 0,n=void 0;if(e instanceof Object){if(void 0===e.column)return void console.warn("Default column specified without column name");if(t=e.column,void 0!==e.direction)if(1===e.direction||"asc"===e.direction)n=1;else if(-1===e.direction||"desc"===e.direction)n=-1;else{var r=this.props.defaultSortDescending?"descending":"ascending";console.warn("Invalid default sort specified. Defaulting to "+r),n=this.props.defaultSortDescending?-1:1}else n=this.props.defaultSortDescending?-1:1}else t=e,n=this.props.defaultSortDescending?-1:1;return{column:t,direction:n}}},{key:"updateCurrentSort",value:function(e){!1!==e&&e.column!==this.state.currentSort.column&&e.direction!==this.state.currentSort.direction&&this.setState({currentSort:this.getCurrentSort(e)})}},{key:"updateCurrentPage",value:function(e){void 0!==e&&e!==this.state.currentPage&&this.setState({currentPage:e})}},{key:"componentWillMount",value:function(){this.initialize(this.props),this.sortByCurrentSort(),this.filterBy(this.props.filterBy)}},{key:"componentWillReceiveProps",value:function(e){this.initialize(e),this.updateCurrentPage(e.currentPage),this.updateCurrentSort(e.sortBy),this.sortByCurrentSort(),this.filterBy(e.filterBy)}},{key:"applyFilter",value:function(e,t){e=e.toLowerCase();for(var n=[],r=0;r<t.length;r++){var o=t[r].props.data;for(var a in this._filterable)if(void 0!==o[a])if(void 0===this._filterable[a]||"default"===this._filterable[a]){if((0,c.extractDataFrom)(o,a).toString().toLowerCase().indexOf(e)>-1){n.push(t[r]);break}}else if(this._filterable[a]((0,c.extractDataFrom)(o,a).toString(),e)){n.push(t[r]);break}}return n}},{key:"sortByCurrentSort",value:function(){var e=this.state.currentSort;null!==e.column&&this.data.sort(function(t,n){var r=(0,c.extractDataFrom)(t,e.column);r=(0,p.isUnsafe)(r)?r.toString():r||"";var o=(0,c.extractDataFrom)(n,e.column);return o=(0,p.isUnsafe)(o)?o.toString():o||"",void 0===this._sortable[e.column]||"default"===this._sortable[e.column]?r<o?-1*e.direction:r>o?1*e.direction:0:1===e.direction?this._sortable[e.column](r,o):this._sortable[e.column](o,r)}.bind(this))}},{key:"onSort",value:function(e){if(void 0!==this._sortable[e]){var t=this.state.currentSort;t.column===e?t.direction*=-1:(t.column=e,t.direction=this.props.defaultSortDescending?-1:1),this.setState({currentSort:t}),this.sortByCurrentSort(),"function"==typeof this.props.onSort&&this.props.onSort(t)}}},{key:"render",value:function(){var e=this,t=[],n=void 0,o=!1,a=void 0===this.props.hideTableHeader,i=null;if(this.props.children&&(this.props.children.length>0&&this.props.children[0]&&this.props.children[0].type===d.Thead?i=this.props.children[0]:this.props.children.type===d.Thead&&(i=this.props.children)),(n=null!==i?d.Thead.getColumns(i):this.props.columns||[]).length>0&&(o=!0,n=this.translateColumnsArray(n)),this.data&&"function"==typeof this.data.map&&(t=t.concat(this.data.map(function(e,t){var a=e,i={};for(var l in!0===e.__reactableMeta&&(a=e.data,i=e.props),a)a.hasOwnProperty(l)&&!1===o&&function(){var e={key:l,label:l};void 0===n.find(function(t){return t.key===e.key})&&n.push(e)}();return s.default.createElement(f.Tr,r({columns:n,key:t,data:a},i))}.bind(this)))),!0===this.props.sortable)for(var l=0;l<n.length;l++)this._sortable[n[l].key]="default";var c=!1;this.props.filterable&&Array.isArray(this.props.filterable)&&this.props.filterable.length>0&&!this.props.hideFilterInput&&(c=!0);var p=t;""!==this.state.filter&&(p=this.applyFilter(this.state.filter,p));var h=0,m=!1,g=void 0,y=this.state.currentPage,v=this.props.pageButtonLimit||10,_=p;this.props.itemsPerPage>0&&(h=this.props.itemsPerPage,y>(g=Math.ceil(p.length/h))-1&&(y=g-1),m=!0,_=p.slice(y*h,(y+1)*h));var O=(0,u.filterPropsFrom)(this.props),S=this.props.noDataText?s.default.createElement("tr",{className:"reactable-no-data"},s.default.createElement("td",{colSpan:n.length},this.props.noDataText)):null,w=null;return n&&n.length>0&&a&&(w=s.default.createElement(d.Thead,{columns:n,filtering:c,onFilter:function(t){e.setState({filter:t}),e.props.onFilter&&e.props.onFilter(t)},filterPlaceholder:this.props.filterPlaceholder,filterClassName:this.props.filterClassName,currentFilter:this.state.filter,sort:this.state.currentSort,sortableColumns:this._sortable,onSort:this.onSort.bind(this),key:"thead"})),s.default.createElement("table",O,w,s.default.createElement("tbody",{className:"reactable-data",key:"tbody"},_.length>0?_:S),!0===m?s.default.createElement(b.Paginator,{colSpan:n.length,pageButtonLimit:v,numPages:g,currentPage:y,onPageChange:function(t){e.setState({currentPage:t}),e.props.onPageChange&&e.props.onPageChange(t)},previousPageLabel:this.props.previousPageLabel,nextPageLabel:this.props.nextPageLabel,key:"paginator"}):null,this.tfoot)}}]),n}();t.Table=m,m.defaultProps={sortBy:!1,defaultSort:!1,defaultSortDescending:!1,itemsPerPage:0,filterBy:"",hideFilterInput:!1}}).call(this,n(176)(e))},1046:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractDataFrom=function(e,t){var n;n=null!=e&&!0===e.__reactableMeta?e.data[t]:e[t];null!=n&&!0===n.__reactableMeta&&(n=void 0!==n.props.value&&null!==n.props.value?n.props.value:n.value);return(0,r.stringable)(n)?n:""};var r=n(445)},1047:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}};function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=a(n(1)),u=a(n(17)),c=function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return l(t,s["default"].Component),r(t,[{key:"onChange",value:function(){this.props.onFilter(u.default.findDOMNode(this).value)}},{key:"render",value:function(){return s.default.createElement("input",{type:"text",className:this.props.className,placeholder:this.props.placeholder,value:this.props.value,onKeyUp:this.onChange.bind(this),onChange:this.onChange.bind(this)})}}]),t}();t.FiltererInput=c;var p=function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return l(t,s["default"].Component),r(t,[{key:"render",value:function(){if(void 0===this.props.colSpan)throw new TypeError("Must pass a colSpan argument to Filterer");return s.default.createElement("tr",{className:"reactable-filterer"},s.default.createElement("td",{colSpan:this.props.colSpan},s.default.createElement(c,{onFilter:this.props.onFilter,value:this.props.value,placeholder:this.props.placeholder,className:this.props.className?"reactable-filter-input "+this.props.className:"reactable-filter-input"})))}}]),t}();t.Filterer=p},1048:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReactComponent=function(e){return null!==e&&"object"==typeof e&&void 0!==e.props}},1049:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=function(e){var t=[];for(var n in e)t[n]=e;return t}},1050:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}};var a,i=n(1),l=(a=i)&&a.__esModule?a:{default:a};function s(e){return"#page-"+(e+1)}var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"].Component),r(t,[{key:"handlePrevious",value:function(e){e.preventDefault(),this.props.onPageChange(this.props.currentPage-1)}},{key:"handleNext",value:function(e){e.preventDefault(),this.props.onPageChange(this.props.currentPage+1)}},{key:"handlePageButton",value:function(e,t){t.preventDefault(),this.props.onPageChange(e)}},{key:"renderPrevious",value:function(){if(this.props.currentPage>0)return l.default.createElement("a",{className:"reactable-previous-page",href:s(this.props.currentPage-1),onClick:this.handlePrevious.bind(this)},this.props.previousPageLabel||"Previous")}},{key:"renderNext",value:function(){if(this.props.currentPage<this.props.numPages-1)return l.default.createElement("a",{className:"reactable-next-page",href:s(this.props.currentPage+1),onClick:this.handleNext.bind(this)},this.props.nextPageLabel||"Next")}},{key:"renderPageButton",value:function(e,t){return l.default.createElement("a",{className:e,key:t,href:s(t),onClick:this.handlePageButton.bind(this,t)},t+1)}},{key:"render",value:function(){if(void 0===this.props.colSpan)throw new TypeError("Must pass a colSpan argument to Paginator");if(void 0===this.props.numPages)throw new TypeError("Must pass a non-zero numPages argument to Paginator");if(void 0===this.props.currentPage)throw new TypeError("Must pass a currentPage argument to Paginator");for(var e=[],t=this.props.pageButtonLimit,n=this.props.currentPage,r=this.props.numPages,o=Math.round(t/2),a=t-o,i=0;i<this.props.numPages;i++){var s=i,u="reactable-page-button";n===i&&(u+=" reactable-current-page"),e.push(this.renderPageButton(u,s))}return n-t+o>0&&(n>r-o?e.splice(0,r-t):e.splice(0,n-t+o)),r-n>a&&e.splice(t,e.length-t),l.default.createElement("tbody",{className:"reactable-pagination"},l.default.createElement("tr",null,l.default.createElement("td",{colSpan:this.props.colSpan},this.renderPrevious(),e,this.renderNext())))}}]),t}();t.Paginator=u},1051:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={Numeric:function(e,t){var n=parseFloat(e.toString().replace(/,/g,"")),r=parseFloat(t.toString().replace(/,/g,""));if(isNaN(n)&&isNaN(r))n=e,r=t;else{if(isNaN(n))return 1;if(isNaN(r))return-1}return n<r?-1:n>r?1:0},NumericInteger:function(e,t){return isNaN(e)||isNaN(t)?e>t?1:-1:e-t},Currency:function(e,n){return e=e.replace(/[^0-9\.\-\,]+/g,""),n=n.replace(/[^0-9\.\-\,]+/g,""),t.Sort.Numeric(e,n)},Date:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,n){var r=Date.parse(e),o=Date.parse(n);return isNaN(r)||isNaN(o)?t.Sort.Numeric(e,n):r>o?1:o>r?-1:0}),CaseInsensitive:function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}};t.Sort=r},1052:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});n(45);var r={longitude:6.85236157047845,latitude:31.222656842808707,zoom:1,bearing:0,pitch:0},o=1609.34;function a(e,t){return"square_m"===e?Math.sqrt(t/Math.PI):"radius_m"===e?t:"radius_km"===e?1e3*t:"radius_miles"===e?t*o:"square_km"===e?1e3*Math.sqrt(t/Math.PI):"square_miles"===e?Math.sqrt(t/Math.PI)*o:null}},1053:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1256);Object.defineProperty(t,"AllSubstringsIndexStrategy",{enumerable:!0,get:function(){return r.AllSubstringsIndexStrategy}});var o=n(1257);Object.defineProperty(t,"ExactWordIndexStrategy",{enumerable:!0,get:function(){return o.ExactWordIndexStrategy}});var a=n(1258);Object.defineProperty(t,"PrefixIndexStrategy",{enumerable:!0,get:function(){return a.PrefixIndexStrategy}})},1054:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1259);Object.defineProperty(t,"CaseSensitiveSanitizer",{enumerable:!0,get:function(){return r.CaseSensitiveSanitizer}});var o=n(1260);Object.defineProperty(t,"LowerCaseSanitizer",{enumerable:!0,get:function(){return o.LowerCaseSanitizer}})},1076:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l={checked:i.a.bool.isRequired,onChange:i.a.func.isRequired,style:i.a.object};function s(e){var t=e.checked,n=e.onChange,r=e.style;return o.a.createElement("span",{style:r},o.a.createElement("i",{className:"fa fa-check ".concat(t?"text-primary":"text-transparent"),onClick:function(){n(!t)},style:{border:"1px solid #aaa",borderRadius:"2px",cursor:"pointer"}}))}s.propTypes=l},1077:function(e,t,n){"use strict";n.d(t,"b",function(){return v});var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(301),s=n.n(l),u=(n(1091),n(1114),n(1212),n(398)),c=n.n(u),p=n(94);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=c.a.acequire("ace/ext/language_tools"),v=[].concat("SELECT|INSERT|UPDATE|DELETE|FROM|WHERE|AND|OR|GROUP|BY|ORDER|LIMIT|OFFSET|HAVING|AS|CASE|WHEN|ELSE|END|TYPE|LEFT|RIGHT|JOIN|ON|OUTER|DESC|ASC|UNION|CREATE|TABLE|PRIMARY|KEY|IF|FOREIGN|NOT|REFERENCES|DEFAULT|NULL|INNER|CROSS|NATURAL|DATABASE|DROP|GRANT|SUM|MAX|MIN|COUNT|AVG|DISTINCT".split("|"),"INT|NUMERIC|DECIMAL|DATE|VARCHAR|CHAR|BIGINT|FLOAT|DOUBLE|BIT|BINARY|TEXT|SET|TIMESTAMP|MONEY|REAL|NUMBER|INTEGER".split("|")).map(function(e){return{name:e,value:e,score:60,meta:"sql"}}),_={actions:i.a.object.isRequired,onBlur:i.a.func,sql:i.a.string.isRequired,tables:i.a.array,queryEditor:i.a.object.isRequired,height:i.a.string,hotkeys:i.a.arrayOf(i.a.shape({key:i.a.string.isRequired,descr:i.a.string.isRequired,func:i.a.func.isRequired})),onChange:i.a.func},O=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=b(t).call(this,e))||"object"!==d(o)&&"function"!=typeof o?g(r):o).state={sql:e.sql,selectedText:""},n.onChange=n.onChange.bind(g(g(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){this.props.actions.queryEditorSetSelectedText(this.props.queryEditor,null),this.setAutoCompleter(this.props)}},{key:"componentWillReceiveProps",value:function(e){Object(p.e)(this.props.tables,e.tables)||this.setAutoCompleter(e),e.sql!==this.props.sql&&this.setState({sql:e.sql})}},{key:"onBlur",value:function(){this.props.onBlur(this.state.sql)}},{key:"onAltEnter",value:function(){this.props.onBlur(this.state.sql)}},{key:"onEditorLoad",value:function(e){var t=this;e.commands.addCommand({name:"runQuery",bindKey:{win:"Alt-enter",mac:"Alt-enter"},exec:function(){t.onAltEnter()}}),this.props.hotkeys.forEach(function(t){e.commands.addCommand({name:t.name,bindKey:{win:t.key,mac:t.key},exec:t.func})}),e.$blockScrolling=1/0,e.selection.on("changeSelection",function(){var n=e.getSelectedText();n!==t.state.selectedText&&1!==n.length&&(t.setState({selectedText:n}),t.props.actions.queryEditorSetSelectedText(t.props.queryEditor,n))})}},{key:"onChange",value:function(e){this.setState({sql:e}),this.props.onChange(e)}},{key:"getCompletions",value:function(e,t,n,r,o){var a={insertMatch:function(e,t){e.completer.insertMatch({value:t.caption+" "})}};o(null,this.state.words.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({},e,{completer:a})}))}},{key:"setAutoCompleter",value:function(e){var t=this,n=[],r={};(e.tables||[]).forEach(function(e){n.push({name:e.name,value:e.name,score:55,meta:"table"}),(e.columns||[]).forEach(function(e){r[e.name]=null})}),n=n.concat(Object.keys(r).map(function(e){return{name:e,value:e,score:50,meta:"column"}}),v),this.setState({words:n},function(){var e={getCompletions:t.getCompletions.bind(t)};y&&y.setCompleters([e])})}},{key:"render",value:function(){return o.a.createElement(s.a,{mode:"sql",theme:"github",onLoad:this.onEditorLoad.bind(this),onBlur:this.onBlur.bind(this),height:this.props.height,onChange:this.onChange,width:"100%",editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,value:this.state.sql})}}])&&h(n.prototype,r),a&&h(n,a),t}();O.defaultProps={onBlur:function(){},onChange:function(){},tables:[]},O.propTypes=_,t.a=O},1090:function(e,t,n){"use strict";var r=n(1),o=n(1912);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var a=(new r.Component).updater;e.exports=o(r.Component,r.isValidElement,a)},1092:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(421),s=n(115),u={metric:i.a.object.isRequired,openInNewWindow:i.a.bool,showFormula:i.a.bool,showType:i.a.bool,url:i.a.string};function c(e){var t=e.metric,n=e.openInNewWindow,r=e.showFormula,a=e.showType,i=e.url,u=t.verbose_name||t.metric_name||t.label,c=i?o.a.createElement("a",{href:i,target:n?"_blank":null},u):u;return o.a.createElement("div",null,a&&o.a.createElement(l.a,{type:"expression"}),o.a.createElement("span",{className:"m-r-5 option-label"},c),t.description&&o.a.createElement(s.a,{className:"m-r-5 text-muted",icon:"info",tooltip:t.description,label:"descr-".concat(t.metric_name)}),r&&o.a.createElement(s.a,{className:"m-r-5 text-muted",icon:"question-circle-o",tooltip:t.expression,label:"expr-".concat(t.metric_name)}),t.warning_text&&o.a.createElement(s.a,{className:"m-r-5 text-danger",icon:"warning",tooltip:t.warning_text,label:"warn-".concat(t.metric_name)}))}c.propTypes=u,c.defaultProps={showFormula:!0,showType:!1}},1102:function(e,t,n){var r={"./af":804,"./af.js":804,"./ar":805,"./ar-dz":806,"./ar-dz.js":806,"./ar-kw":807,"./ar-kw.js":807,"./ar-ly":808,"./ar-ly.js":808,"./ar-ma":809,"./ar-ma.js":809,"./ar-sa":810,"./ar-sa.js":810,"./ar-tn":811,"./ar-tn.js":811,"./ar.js":805,"./az":812,"./az.js":812,"./be":813,"./be.js":813,"./bg":814,"./bg.js":814,"./bm":815,"./bm.js":815,"./bn":816,"./bn.js":816,"./bo":817,"./bo.js":817,"./br":818,"./br.js":818,"./bs":819,"./bs.js":819,"./ca":820,"./ca.js":820,"./cs":821,"./cs.js":821,"./cv":822,"./cv.js":822,"./cy":823,"./cy.js":823,"./da":824,"./da.js":824,"./de":825,"./de-at":826,"./de-at.js":826,"./de-ch":827,"./de-ch.js":827,"./de.js":825,"./dv":828,"./dv.js":828,"./el":829,"./el.js":829,"./en-au":830,"./en-au.js":830,"./en-ca":831,"./en-ca.js":831,"./en-gb":832,"./en-gb.js":832,"./en-ie":833,"./en-ie.js":833,"./en-il":834,"./en-il.js":834,"./en-nz":835,"./en-nz.js":835,"./eo":836,"./eo.js":836,"./es":837,"./es-do":838,"./es-do.js":838,"./es-us":839,"./es-us.js":839,"./es.js":837,"./et":840,"./et.js":840,"./eu":841,"./eu.js":841,"./fa":842,"./fa.js":842,"./fi":843,"./fi.js":843,"./fo":844,"./fo.js":844,"./fr":845,"./fr-ca":846,"./fr-ca.js":846,"./fr-ch":847,"./fr-ch.js":847,"./fr.js":845,"./fy":848,"./fy.js":848,"./gd":849,"./gd.js":849,"./gl":850,"./gl.js":850,"./gom-latn":851,"./gom-latn.js":851,"./gu":852,"./gu.js":852,"./he":853,"./he.js":853,"./hi":854,"./hi.js":854,"./hr":855,"./hr.js":855,"./hu":856,"./hu.js":856,"./hy-am":857,"./hy-am.js":857,"./id":858,"./id.js":858,"./is":859,"./is.js":859,"./it":860,"./it.js":860,"./ja":861,"./ja.js":861,"./jv":862,"./jv.js":862,"./ka":863,"./ka.js":863,"./kk":864,"./kk.js":864,"./km":865,"./km.js":865,"./kn":866,"./kn.js":866,"./ko":867,"./ko.js":867,"./ku":868,"./ku.js":868,"./ky":869,"./ky.js":869,"./lb":870,"./lb.js":870,"./lo":871,"./lo.js":871,"./lt":872,"./lt.js":872,"./lv":873,"./lv.js":873,"./me":874,"./me.js":874,"./mi":875,"./mi.js":875,"./mk":876,"./mk.js":876,"./ml":877,"./ml.js":877,"./mn":878,"./mn.js":878,"./mr":879,"./mr.js":879,"./ms":880,"./ms-my":881,"./ms-my.js":881,"./ms.js":880,"./mt":882,"./mt.js":882,"./my":883,"./my.js":883,"./nb":884,"./nb.js":884,"./ne":885,"./ne.js":885,"./nl":886,"./nl-be":887,"./nl-be.js":887,"./nl.js":886,"./nn":888,"./nn.js":888,"./pa-in":889,"./pa-in.js":889,"./pl":890,"./pl.js":890,"./pt":891,"./pt-br":892,"./pt-br.js":892,"./pt.js":891,"./ro":893,"./ro.js":893,"./ru":894,"./ru.js":894,"./sd":895,"./sd.js":895,"./se":896,"./se.js":896,"./si":897,"./si.js":897,"./sk":898,"./sk.js":898,"./sl":899,"./sl.js":899,"./sq":900,"./sq.js":900,"./sr":901,"./sr-cyrl":902,"./sr-cyrl.js":902,"./sr.js":901,"./ss":903,"./ss.js":903,"./sv":904,"./sv.js":904,"./sw":905,"./sw.js":905,"./ta":906,"./ta.js":906,"./te":907,"./te.js":907,"./tet":908,"./tet.js":908,"./tg":909,"./tg.js":909,"./th":910,"./th.js":910,"./tl-ph":911,"./tl-ph.js":911,"./tlh":912,"./tlh.js":912,"./tr":913,"./tr.js":913,"./tzl":914,"./tzl.js":914,"./tzm":915,"./tzm-latn":916,"./tzm-latn.js":916,"./tzm.js":915,"./ug-cn":917,"./ug-cn.js":917,"./uk":918,"./uk.js":918,"./ur":919,"./ur.js":919,"./uz":920,"./uz-latn":921,"./uz-latn.js":921,"./uz.js":920,"./vi":922,"./vi.js":922,"./x-pseudo":923,"./x-pseudo.js":923,"./yo":924,"./yo.js":924,"./zh-cn":925,"./zh-cn.js":925,"./zh-hk":926,"./zh-hk.js":926,"./zh-tw":927,"./zh-tw.js":927};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=1102},1109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PasswordPrompt=t.TextPrompt=t.DialogPrompt=void 0;var r=l(n(172)),o=l(n(5)),a=l(n(6)),i=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var s=t.DialogPrompt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e);var n=t.initialValue,r=t.placeholder;this.initialValue=n,this.placeholder=r};t.TextPrompt=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,a.default)(t,e),t}(s),t.PasswordPrompt=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,a.default)(t,e),t}(s)},1110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1261);Object.defineProperty(t,"TfIdfSearchIndex",{enumerable:!0,get:function(){return r.TfIdfSearchIndex}});var o=n(1262);Object.defineProperty(t,"UnorderedSearchIndex",{enumerable:!0,get:function(){return o.UnorderedSearchIndex}})},1111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=t||[];for(var n=e=e||{},r=0;r<t.length;r++)if(null==(n=n[t[r]]))return null;return n}},1112:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1263);Object.defineProperty(t,"SimpleTokenizer",{enumerable:!0,get:function(){return r.SimpleTokenizer}});var o=n(1264);Object.defineProperty(t,"StemmingTokenizer",{enumerable:!0,get:function(){return o.StemmingTokenizer}});var a=n(1265);Object.defineProperty(t,"StopWordsTokenizer",{enumerable:!0,get:function(){return a.StopWordsTokenizer}})},1113:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.StopWordsMap={a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,do:!0,does:!0,either:!0,else:!0,ever:!0,every:!0,for:!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,if:!0,in:!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,this:!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,while:!0,who:!0,whom:!0,why:!0,will:!0,with:!0,would:!0,yet:!0,you:!0,your:!0};r.constructor=!1,r.hasOwnProperty=!1,r.isPrototypeOf=!1,r.propertyIsEnumerable=!1,r.toLocaleString=!1,r.toString=!1,r.valueOf=!1},1115:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(1116),a=(r=o)&&r.__esModule?r:{default:r};t.default=a.default},1116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(0)),i=n(1),l=p(i),s=p(n(173)),u=p(n(1117)),c=p(n(1120));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._renderMenu=r._renderMenu.bind(r),r._optionRenderer=r._optionRenderer.bind(r),r._setListRef=r._setListRef.bind(r),r._setSelectRef=r._setSelectRef.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"recomputeOptionHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._listRef&&this._listRef.recomputeRowHeights(e)}},{key:"focus",value:function(){if(this._selectRef)return this._selectRef.focus()}},{key:"render",value:function(){var e=this._getSelectComponent();return l.default.createElement(e,r({},this.props,{ref:this._setSelectRef,menuRenderer:this._renderMenu,menuStyle:{overflow:"hidden"}}))}},{key:"_renderMenu",value:function(e){var t=this,n=e.focusedOption,o=e.focusOption,a=e.labelKey,i=e.onSelect,s=e.options,p=(e.selectValue,e.valueArray),d=e.valueKey,f=this.props,h=f.listProps,b=f.optionRenderer,m=s.indexOf(n),g=this._calculateListHeight({options:s}),y=b||this._optionRenderer;function v(e){var t=e.index,r=e.key,l=e.style,u=s[t];return y({focusedOption:n,focusedOptionIndex:m,focusOption:o,key:r,labelKey:a,onSelect:i,option:u,optionIndex:t,options:s,selectValue:i,style:l,valueArray:p,valueKey:d})}return l.default.createElement(u.default,{disableHeight:!0},function(e){var n=e.width;return l.default.createElement(c.default,r({className:"VirtualSelectGrid",height:g,ref:t._setListRef,rowCount:s.length,rowHeight:function(e){var n=e.index;return t._getOptionHeight({option:s[n]})},rowRenderer:v,scrollToIndex:m,width:n},h))})}},{key:"_calculateListHeight",value:function(e){for(var t=e.options,n=this.props.maxHeight,r=0,o=0;o<t.length;o++){var a=t[o];if((r+=this._getOptionHeight({option:a}))>n)return n}return r}},{key:"_getOptionHeight",value:function(e){var t=e.option,n=this.props.optionHeight;return n instanceof Function?n({option:t}):n}},{key:"_getSelectComponent",value:function(){var e=this.props,t=e.async,n=e.selectComponent;return n||(t?s.default.Async:s.default)}},{key:"_optionRenderer",value:function(e){var t=e.focusedOption,n=e.focusOption,o=e.key,a=e.labelKey,i=e.option,s=e.selectValue,u=e.style,c=e.valueArray,p=["VirtualizedSelectOption"];i===t&&p.push("VirtualizedSelectFocusedOption"),i.disabled&&p.push("VirtualizedSelectDisabledOption"),c&&c.indexOf(i)>=0&&p.push("VirtualizedSelectSelectedOption"),i.className&&p.push(i.className);var d=i.disabled?{}:{onClick:function(){return s(i)},onMouseEnter:function(){return n(i)}};return l.default.createElement("div",r({className:p.join(" "),key:o,style:u,title:i.title},d),i[a])}},{key:"_setListRef",value:function(e){this._listRef=e}},{key:"_setSelectRef",value:function(e){this._selectRef=e}}]),t}();d.propTypes={async:a.default.bool,listProps:a.default.object,maxHeight:a.default.number,optionHeight:a.default.oneOfType([a.default.number,a.default.func]),optionRenderer:a.default.func,selectComponent:a.default.func},d.defaultProps={async:!1,maxHeight:200,optionHeight:35},t.default=d},1117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1118);function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}}),Object.defineProperty(t,"AutoSizer",{enumerable:!0,get:function(){return o(r).default}})},1118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(2)),o=p(n(172)),a=p(n(4)),i=p(n(123)),l=p(n(5)),s=p(n(6)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),c=p(n(1119));p(n(0));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){var e,n,r,i;(0,a.default)(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=(0,l.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(u))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,o=e.onResize;if(r._parentNode){var a=r._parentNode.offsetHeight||0,i=r._parentNode.offsetWidth||0,l=window.getComputedStyle(r._parentNode)||{},s=parseInt(l.paddingLeft,10)||0,u=parseInt(l.paddingRight,10)||0,c=parseInt(l.paddingTop,10)||0,p=parseInt(l.paddingBottom,10)||0,d=a-c-p,f=i-s-u;(!t&&r.state.height!==d||!n&&r.state.width!==f)&&(r.setState({height:a-c-p,width:i-s-u}),o({height:a,width:i}))}},r._setRef=function(e){r._autoSizer=e},i=n,(0,l.default)(r,i)}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=(0,c.default)(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=e.disableHeight,a=e.disableWidth,i=e.style,l=this.state,s=l.height,c=l.width,p={overflow:"visible"},d={};return o||(p.height=0,d.height=s),a||(p.width=0,d.width=c),u.createElement("div",{className:n,ref:this._setRef,style:(0,r.default)({},p,i)},t(d))}}]),t}(u.PureComponent);d.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},d.propTypes=null,t.default=d},1119:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var n;n="undefined"!=typeof window?window:"undefined"!=typeof self?self:e;var r="undefined"!=typeof document&&document.attachEvent;if(!r){var o=(_=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(e){return n.setTimeout(e,20)},function(e){return _(e)}),a=(v=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout,function(e){return v(e)}),i=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},l=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;i(this),this.__resizeRAF__&&a(this.__resizeRAF__),this.__resizeRAF__=o(function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(n){n.call(t,e)}))})}},s=!1,u="",c="animationstart",p="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="",h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(s=!0),!1===s)for(var b=0;b<p.length;b++)if(void 0!==h.style[p[b]+"AnimationName"]){f=p[b],u="-"+f.toLowerCase()+"-",c=d[b],s=!0;break}var m="resizeanim",g="@"+u+"keyframes "+m+" { from { opacity: 0; } to { opacity: 0; } } ",y=u+"animation: 1ms "+m+"; "}var v;var _;return{addResizeListener:function(e,o){if(r)e.attachEvent("onresize",o);else{if(!e.__resizeTriggers__){var a=e.ownerDocument,s=n.getComputedStyle(e);s&&"static"==s.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var n=(g||"")+".resize-triggers { "+(y||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=e.head||e.getElementsByTagName("head")[0],o=e.createElement("style");o.id="detectElementResize",o.type="text/css",null!=t&&o.setAttribute("nonce",t),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(e.createTextNode(n)),r.appendChild(o)}}(a),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=a.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),i(e),e.addEventListener("scroll",l,!0),c&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==m&&i(e)},e.__resizeTriggers__.addEventListener(c,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(o)}},removeResizeListener:function(e,t){if(r)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",l,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(c,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}}).call(this,n(71))},1120:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_RowRendererParams=t.List=t.default=void 0;var r=n(1121);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(r).default}}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return a(r).default}});var o=n(958);function a(e){return e&&e.__esModule?e:{default:e}}t.bpfrpt_proptype_RowRendererParams=o.bpfrpt_proptype_RowRendererParams},1121:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(2)),o=h(n(990)),a=h(n(172)),i=h(n(4)),l=h(n(123)),s=h(n(5)),u=h(n(6)),c=n(1122),p=h(c),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),f=h(n(3));n(958),h(n(0));function h(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){var e,n,r,l;(0,i.default)(this,t);for(var u=arguments.length,c=Array(u),p=0;p<u;p++)c[p]=arguments[p];return n=r=(0,s.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(c))),r._cellRenderer=function(e){var t=e.parent,n=e.rowIndex,a=e.style,i=e.isScrolling,l=e.isVisible,s=e.key,u=r.props.rowRenderer;return(0,o.default)(a,"width").writable&&(a.width="100%"),u({index:n,style:a,isScrolling:i,isVisible:l,key:s,parent:t})},r._setRef=function(e){r.Grid=e},r._onScroll=function(e){var t=e.clientHeight,n=e.scrollHeight,o=e.scrollTop;(0,r.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:o})},r._onSectionRendered=function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,o=e.rowStartIndex,a=e.rowStopIndex;(0,r.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:o,stopIndex:a})},l=n,(0,s.default)(r,l)}return(0,u.default)(t,e),(0,l.default)(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.noRowsRenderer,o=e.scrollToIndex,a=e.width,i=(0,f.default)("ReactVirtualized__List",t);return d.createElement(p.default,(0,r.default)({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:i,columnWidth:a,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:o}))}}]),t}(d.PureComponent);b.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:c.accessibilityOverscanIndicesGetter,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},b.propTypes=null,t.default=b},1122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_Scroll=t.bpfrpt_proptype_CellRendererParams=t.bpfrpt_proptype_RenderedSection=t.bpfrpt_proptype_OverscanIndicesGetter=t.bpfrpt_proptype_CellSize=t.bpfrpt_proptype_CellPosition=t.bpfrpt_proptype_Alignment=t.bpfrpt_proptype_NoContentRenderer=t.defaultOverscanIndicesGetter=t.defaultCellRangeRenderer=t.accessibilityOverscanIndicesGetter=t.Grid=t.default=void 0;var r=n(1123);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s(r).default}}),Object.defineProperty(t,"Grid",{enumerable:!0,get:function(){return s(r).default}});var o=n(1131);Object.defineProperty(t,"accessibilityOverscanIndicesGetter",{enumerable:!0,get:function(){return s(o).default}});var a=n(957);Object.defineProperty(t,"defaultCellRangeRenderer",{enumerable:!0,get:function(){return s(a).default}});var i=n(956);Object.defineProperty(t,"defaultOverscanIndicesGetter",{enumerable:!0,get:function(){return s(i).default}});var l=n(212);function s(e){return e&&e.__esModule?e:{default:e}}t.bpfrpt_proptype_NoContentRenderer=l.bpfrpt_proptype_NoContentRenderer,t.bpfrpt_proptype_Alignment=l.bpfrpt_proptype_Alignment,t.bpfrpt_proptype_CellPosition=l.bpfrpt_proptype_CellPosition,t.bpfrpt_proptype_CellSize=l.bpfrpt_proptype_CellSize,t.bpfrpt_proptype_OverscanIndicesGetter=l.bpfrpt_proptype_OverscanIndicesGetter,t.bpfrpt_proptype_RenderedSection=l.bpfrpt_proptype_RenderedSection,t.bpfrpt_proptype_CellRendererParams=l.bpfrpt_proptype_CellRendererParams,t.bpfrpt_proptype_Scroll=l.bpfrpt_proptype_Scroll},1123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SCROLLING_RESET_TIME_INTERVAL=void 0;var r=S(n(142)),o=S(n(2)),a=S(n(172)),i=S(n(4)),l=S(n(123)),s=S(n(5)),u=S(n(6)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),p=S(n(3)),d=S(n(1124)),f=S(n(450)),h=S(n(1127)),b=n(956),m=S(b),g=S(n(1128)),y=S(n(957)),v=S(n(147)),_=n(439),O=n(1129);n(212),S(n(0));function S(e){return e&&e.__esModule?e:{default:e}}var w=t.DEFAULT_SCROLLING_RESET_TIME_INTERVAL=150,C="observed",x="requested",E=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));n._onGridRenderedMemoizer=(0,h.default)(),n._onScrollMemoizer=(0,h.default)(!1),n._deferredInvalidateColumnIndex=null,n._deferredInvalidateRowIndex=null,n._recomputeScrollLeftFlag=!1,n._recomputeScrollTopFlag=!1,n._horizontalScrollBarSize=0,n._verticalScrollBarSize=0,n._scrollbarPresenceChanged=!1,n._renderedColumnStartIndex=0,n._renderedColumnStopIndex=0,n._renderedRowStartIndex=0,n._renderedRowStopIndex=0,n._styleCache={},n._cellCache={},n._debounceScrollEndedCallback=function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})},n._invokeOnGridRenderedHelper=function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})},n._setScrollingContainerRef=function(e){n._scrollingContainer=e},n._onScroll=function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)};var r=new f.default({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)},estimatedCellSize:t._getEstimatedColumnSize(e)}),o=new f.default({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:b.SCROLL_DIRECTION_FORWARD,scrollDirectionVertical:b.SCROLL_DIRECTION_FORWARD,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),e.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,r=e.columnIndex,a=void 0===r?this.props.scrollToColumn:r,i=e.rowIndex,l=void 0===i?this.props.scrollToRow:i,s=(0,o.default)({},this.props,{scrollToAlignment:n,scrollToColumn:a,scrollToRow:l});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,o=void 0===r?0:r;if(!(o<0)){this._debounceScrollEnded();var a=this.props,i=a.autoHeight,l=a.autoWidth,s=a.height,u=a.width,c=this.state.instanceProps,p=c.scrollbarSize,d=c.rowSizeAndPositionManager.getTotalSize(),f=c.columnSizeAndPositionManager.getTotalSize(),h=Math.min(Math.max(0,f-u+p),n),m=Math.min(Math.max(0,d-s+p),o);if(this.state.scrollLeft!==h||this.state.scrollTop!==m){var g={isScrolling:!0,scrollDirectionHorizontal:h!==this.state.scrollLeft?h>this.state.scrollLeft?b.SCROLL_DIRECTION_FORWARD:b.SCROLL_DIRECTION_BACKWARD:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?b.SCROLL_DIRECTION_FORWARD:b.SCROLL_DIRECTION_BACKWARD:this.state.scrollDirectionVertical,scrollPositionChangeReason:C};i||(g.scrollTop=m),l||(g.scrollLeft=h),g.needToResetStyleCache=!1,this.setState(g)}this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:m,totalColumnsWidth:f,totalRowsHeight:d})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r,a=this.props,i=a.scrollToColumn,l=a.scrollToRow,s=this.state.instanceProps;s.columnSizeAndPositionManager.resetCell(n),s.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=i>=0&&n<=i,this._recomputeScrollTopFlag=l>=0&&o<=l,this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,r=this.props.columnCount,a=this.props;r>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn((0,o.default)({},a,{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow((0,o.default)({},a,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.getScrollbarSize,r=e.height,o=e.scrollLeft,a=e.scrollToColumn,i=e.scrollTop,l=e.scrollToRow,s=e.width,u=this.state.instanceProps;this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),u.scrollbarSizeMeasured||this.setState(function(e){return e.instanceProps.scrollbarSize=n(),e.instanceProps.scrollbarSizeMeasured=!0,e.needToResetStyleCache=!1,e}),("number"==typeof o&&o>=0||"number"==typeof i&&i>=0)&&this.setState(function(e){var n=t._getScrollToPositionStateUpdate({prevState:e,scrollLeft:o,scrollTop:i});return n?(n.needToResetStyleCache=!1,n):null}),this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop);var c=r>0&&s>0;a>=0&&c&&this._updateScrollLeftForScrollToColumn(),l>=0&&c&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:i||0,totalColumnsWidth:u.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:u.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,o=r.autoHeight,a=r.autoWidth,i=r.columnCount,l=r.height,s=r.rowCount,u=r.scrollToAlignment,c=r.scrollToColumn,p=r.scrollToRow,d=r.width,f=this.state,h=f.scrollLeft,b=f.scrollPositionChangeReason,m=f.scrollTop,y=f.instanceProps;this._handleInvalidatedGridSize();var v=i>0&&0===e.columnCount||s>0&&0===e.rowCount;b===x&&(!a&&h>=0&&(h!==this._scrollingContainer.scrollLeft||v)&&(this._scrollingContainer.scrollLeft=h),!o&&m>=0&&(m!==this._scrollingContainer.scrollTop||v)&&(this._scrollingContainer.scrollTop=m));var _=(0===e.width||0===e.height)&&l>0&&d>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):(0,g.default)({cellSizeAndPositionManager:y.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:h,scrollToAlignment:u,scrollToIndex:c,size:d,sizeJustIncreasedFromZero:_,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):(0,g.default)({cellSizeAndPositionManager:y.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:m,scrollToAlignment:u,scrollToIndex:p,size:l,sizeJustIncreasedFromZero:_,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),h!==t.scrollLeft||m!==t.scrollTop){var O=y.rowSizeAndPositionManager.getTotalSize(),S=y.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:m,totalColumnsWidth:S,totalRowsHeight:O})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&(0,O.cancelAnimationTimeout)(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,r=e.autoWidth,a=e.className,i=e.containerProps,l=e.containerRole,s=e.containerStyle,u=e.height,d=e.id,f=e.noContentRenderer,h=e.role,b=e.style,m=e.tabIndex,g=e.width,y=this.state,v=y.instanceProps,_=y.needToResetStyleCache,O=this._isScrolling(),S={boxSizing:"border-box",direction:"ltr",height:n?"auto":u,position:"relative",width:r?"auto":g,WebkitOverflowScrolling:"touch",willChange:"transform"};_&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var w=v.columnSizeAndPositionManager.getTotalSize(),C=v.rowSizeAndPositionManager.getTotalSize(),x=C>u?v.scrollbarSize:0,E=w>g?v.scrollbarSize:0;E===this._horizontalScrollBarSize&&x===this._verticalScrollBarSize||(this._horizontalScrollBarSize=E,this._verticalScrollBarSize=x,this._scrollbarPresenceChanged=!0),S.overflowX=w+x<=g?"hidden":"auto",S.overflowY=C+E<=u?"hidden":"auto";var j=this._childrenToDisplay,k=0===j.length&&u>0&&g>0;return c.createElement("div",(0,o.default)({ref:this._setScrollingContainerRef},i,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:(0,p.default)("ReactVirtualized__Grid",a),id:d,onScroll:this._onScroll,role:h,style:(0,o.default)({},S,b),tabIndex:m}),j.length>0&&c.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:l,style:(0,o.default)({width:t?"auto":w,height:C,maxWidth:w,maxHeight:C,overflow:"hidden",pointerEvents:O?"none":"",position:"relative"},s)},j),k&&f())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,r=e.cellRangeRenderer,o=e.columnCount,a=e.deferredMeasurementCache,i=e.height,l=e.overscanColumnCount,s=e.overscanIndicesGetter,u=e.overscanRowCount,c=e.rowCount,p=e.width,d=t.scrollDirectionHorizontal,f=t.scrollDirectionVertical,h=t.instanceProps,b=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,m=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,g=this._isScrolling(e,t);if(this._childrenToDisplay=[],i>0&&p>0){var y=h.columnSizeAndPositionManager.getVisibleCellRange({containerSize:p,offset:m}),v=h.rowSizeAndPositionManager.getVisibleCellRange({containerSize:i,offset:b}),_=h.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:p,offset:m}),O=h.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:i,offset:b});this._renderedColumnStartIndex=y.start,this._renderedColumnStopIndex=y.stop,this._renderedRowStartIndex=v.start,this._renderedRowStopIndex=v.stop;var S=s({direction:"horizontal",cellCount:o,overscanCellsCount:l,scrollDirection:d,startIndex:"number"==typeof y.start?y.start:0,stopIndex:"number"==typeof y.stop?y.stop:-1}),w=s({direction:"vertical",cellCount:c,overscanCellsCount:u,scrollDirection:f,startIndex:"number"==typeof v.start?v.start:0,stopIndex:"number"==typeof v.stop?v.stop:-1}),C=S.overscanStartIndex,x=S.overscanStopIndex,E=w.overscanStartIndex,j=w.overscanStopIndex;if(a){if(!a.hasFixedHeight())for(var k=E;k<=j;k++)if(!a.has(k,0)){C=0,x=o-1;break}if(!a.hasFixedWidth())for(var T=C;T<=x;T++)if(!a.has(0,T)){E=0,j=c-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:h.columnSizeAndPositionManager,columnStartIndex:C,columnStopIndex:x,deferredMeasurementCache:a,horizontalOffsetAdjustment:_,isScrolling:g,parent:this,rowSizeAndPositionManager:h.rowSizeAndPositionManager,rowStartIndex:E,rowStopIndex:j,scrollLeft:m,scrollTop:b,styleCache:this._styleCache,verticalOffsetAdjustment:O,visibleColumnIndices:y,visibleRowIndices:v}),this._columnStartIndex=C,this._columnStopIndex=x,this._rowStartIndex=E,this._rowStopIndex=j}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&(0,O.cancelAnimationTimeout)(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=(0,O.requestAnimationTimeout)(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,o=e.totalColumnsWidth,a=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,i=t.props,l=i.height;(0,i.onScroll)({clientHeight:l,clientWidth:i.width,scrollHeight:a,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var n=e.scrollLeft,r=e.scrollTop;this.setState(function(e){var o=t._getScrollToPositionStateUpdate({prevState:e,scrollLeft:n,scrollTop:r});return o?(o.needToResetStyleCache=!1,o):null})}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollLeftForScrollToColumnStateUpdate(e,n);r&&(r.needToResetStyleCache=!1),this.setState(r)}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache;this._cellCache={},this._styleCache={};for(var t=this._rowStartIndex;t<=this._rowStopIndex;t++)for(var n=this._columnStartIndex;n<=this._columnStopIndex;n++){var r=t+"-"+n;this._styleCache[r]=e[r]}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollTopForScrollToRowStateUpdate(e,n);r&&(r.needToResetStyleCache=!1),this.setState(r)}}],[{key:"getDerivedStateFromProps",value:function(e,n){var a={};0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(a.scrollLeft=0,a.scrollTop=0):e.scrollLeft===n.scrollLeft&&e.scrollTop===n.scrollTop||e.scrollToColumn>0&&n.scrollLeft&&0===e.scrollLeft||e.scrollToRow>0&&n.scrollTop&&0===e.scrollTop||(0,r.default)(a,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var i=n.instanceProps;a.needToResetStyleCache=!1,e.columnWidth===i.prevColumnWidth&&e.rowHeight===i.prevRowHeight||(a.needToResetStyleCache=!0),i.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),i.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==i.prevColumnCount&&0!==i.prevRowCount||(i.prevColumnCount=0,i.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===i.prevIsScrolling&&(0,r.default)(a,{isScrolling:!1});var l=void 0,s=void 0;return(0,d.default)({cellCount:i.prevColumnCount,cellSize:"number"==typeof i.prevColumnWidth?i.prevColumnWidth:null,computeMetadataCallback:function(){return i.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:i.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){l=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),(0,d.default)({cellCount:i.prevRowCount,cellSize:"number"==typeof i.prevRowHeight?i.prevRowHeight:null,computeMetadataCallback:function(){return i.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:i.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){s=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),i.prevColumnCount=e.columnCount,i.prevColumnWidth=e.columnWidth,i.prevIsScrolling=!0===e.isScrolling,i.prevRowCount=e.rowCount,i.prevRowHeight=e.rowHeight,i.prevScrollToColumn=e.scrollToColumn,i.prevScrollToRow=e.scrollToRow,i.scrollbarSize=e.getScrollbarSize(),void 0===i.scrollbarSize?(i.scrollbarSizeMeasured=!1,i.scrollbarSize=0):i.scrollbarSizeMeasured=!0,a.instanceProps=i,(0,o.default)({},a,l,s)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,r=e.scrollTop,o={scrollPositionChangeReason:x};return"number"==typeof n&&n>=0&&(o.scrollDirectionHorizontal=n>t.scrollLeft?b.SCROLL_DIRECTION_FORWARD:b.SCROLL_DIRECTION_BACKWARD,o.scrollLeft=n),"number"==typeof r&&r>=0&&(o.scrollDirectionVertical=r>t.scrollTop?b.SCROLL_DIRECTION_FORWARD:b.SCROLL_DIRECTION_BACKWARD,o.scrollTop=r),"number"==typeof n&&n>=0&&n!==t.scrollLeft||"number"==typeof r&&r>=0&&r!==t.scrollTop?o:null}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,r=e.height,o=e.scrollToAlignment,a=e.scrollToColumn,i=e.width,l=t.scrollLeft,s=t.instanceProps;if(n>0){var u=n-1,c=a<0?u:Math.min(u,a),p=s.rowSizeAndPositionManager.getTotalSize(),d=s.scrollbarSizeMeasured&&p>r?s.scrollbarSize:0;return s.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:i-d,currentOffset:l,targetIndex:c})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var r=n.scrollLeft,o=t._getCalculatedScrollLeft(e,n);return"number"==typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:o,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,r=e.rowCount,o=e.scrollToAlignment,a=e.scrollToRow,i=e.width,l=t.scrollTop,s=t.instanceProps;if(r>0){var u=r-1,c=a<0?u:Math.min(u,a),p=s.columnSizeAndPositionManager.getTotalSize(),d=s.scrollbarSizeMeasured&&p>i?s.scrollbarSize:0;return s.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n-d,currentOffset:l,targetIndex:c})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var r=n.scrollTop,o=t._getCalculatedScrollTop(e,n);return"number"==typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:o}):null}}]),t}(c.PureComponent);E.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:y.default,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:v.default,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:m.default,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:w,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0},E.propTypes=null,(0,_.polyfill)(E),t.default=E},1124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.cellCount,n=e.cellSize,r=e.computeMetadataCallback,o=e.computeMetadataCallbackProps,a=e.nextCellsCount,i=e.nextCellSize,l=e.nextScrollToIndex,s=e.scrollToIndex,u=e.updateScrollOffsetForScrollToIndex;t===a&&("number"!=typeof n&&"number"!=typeof i||n===i)||(r(o),s>=0&&s===l&&u())}},1125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(4)),o=a(n(123));n(212);function a(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(t){var n=t.cellCount,o=t.cellSizeGetter,a=t.estimatedCellSize;(0,r.default)(this,e),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=o,this._cellCount=n,this._estimatedCellSize=a}return(0,o.default)(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index "+e+" is outside of range 0.."+this._cellCount);if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell "+r+" of value "+o);null===o?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:n,size:o},n+=o,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,a=e.targetIndex;if(r<=0)return 0;var i=this.getSizeAndPositionOfCell(a),l=i.offset,s=l-r+i.size,u=void 0;switch(n){case"start":u=l;break;case"end":u=s;break;case"center":u=l-(r-i.size)/2;break;default:u=Math.max(s,Math.min(l,o))}var c=this.getTotalSize();return Math.max(0,Math.min(c-r,u))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};var r=n+t,o=this._findNearestCell(n),a=this.getSizeAndPositionOfCell(o);n=a.offset+a.size;for(var i=o;n<r&&i<this._cellCount-1;)i++,n+=this.getSizeAndPositionOfCell(i).size;return{start:o,stop:i}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var r=t+Math.floor((e-t)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===n)return r;o<n?t=r+1:o>n&&(e=r-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}]),e}();t.default=i},1126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getMaxElementSize=function(){return"undefined"!=typeof window&&window.chrome&&window.chrome.webstore?16777100:15e5}},1127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(441),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var r=n.callback,o=n.indices,i=(0,a.default)(o),l=!e||i.every(function(e){var t=o[e];return Array.isArray(t)?t.length>0:t>=0}),s=i.length!==(0,a.default)(t).length||i.some(function(e){var n=t[e],r=o[e];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r});t=o,l&&s&&r(o)}}},1128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,r=e.previousCellsCount,o=e.previousCellSize,a=e.previousScrollToAlignment,i=e.previousScrollToIndex,l=e.previousSize,s=e.scrollOffset,u=e.scrollToAlignment,c=e.scrollToIndex,p=e.size,d=e.sizeJustIncreasedFromZero,f=e.updateScrollIndexCallback,h=n.getCellCount(),b=c>=0&&c<h,m=p!==l||d||!o||"number"==typeof t&&t!==o;b&&(m||u!==a||c!==i)?f(c):!b&&h>0&&(p<l||h<r)&&s>n.getTotalSize()-p&&f(h-1)};var r,o=n(450);(r=o)&&r.__esModule,n(212)},1129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_AnimationTimeoutId=t.requestAnimationTimeout=t.cancelAnimationTimeout=void 0;var r,o=n(1130),a=n(0);(r=a)&&r.__esModule;t.cancelAnimationTimeout=function(e){return(0,o.caf)(e.id)},t.requestAnimationTimeout=function(e,t){var n=Date.now(),r={id:(0,o.raf)(function a(){Date.now()-n>=t?e.call():r.id=(0,o.raf)(a)})};return r};t.bpfrpt_proptype_AnimationTimeoutId=null},1130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=void 0,o=(r="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame||function(e){return r.setTimeout(e,1e3/60)},a=r.cancelAnimationFrame||r.webkitCancelAnimationFrame||r.mozCancelAnimationFrame||r.oCancelAnimationFrame||r.msCancelAnimationFrame||function(e){r.clearTimeout(e)};t.raf=o,t.caf=a},1131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCROLL_DIRECTION_VERTICAL=t.SCROLL_DIRECTION_HORIZONTAL=t.SCROLL_DIRECTION_FORWARD=t.SCROLL_DIRECTION_BACKWARD=void 0,t.default=function(e){var t=e.cellCount,n=e.overscanCellsCount,o=e.scrollDirection,a=e.startIndex,i=e.stopIndex;return n=Math.max(1,n),o===r?{overscanStartIndex:Math.max(0,a-1),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,a-n),overscanStopIndex:Math.min(t-1,i+1)}};n(212),t.SCROLL_DIRECTION_BACKWARD=-1;var r=t.SCROLL_DIRECTION_FORWARD=1;t.SCROLL_DIRECTION_HORIZONTAL="horizontal",t.SCROLL_DIRECTION_VERTICAL="vertical"},1132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(398)),i=n(1),l=p(i),s=p(n(0)),u=p(n(959)),c=n(960);function p(e){return e&&e.__esModule?e:{default:e}}var d=a.default.acequire("ace/range").Range,f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c.editorEvents.forEach(function(e){n[e]=n[e].bind(n)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,o=t.onValidate,i=t.mode,l=t.focus,s=t.theme,u=t.fontSize,p=t.value,d=t.defaultValue,f=t.cursorStart,h=t.showGutter,b=t.wrapEnabled,m=t.showPrintMargin,g=t.scrollMargin,y=void 0===g?[0,0,0,0]:g,v=t.keyboardHandler,_=t.onLoad,O=t.commands,S=t.annotations,w=t.markers;this.editor=a.default.edit(this.refEditor),r&&r(a.default);for(var C=Object.keys(this.props.editorProps),x=0;x<C.length;x++)this.editor[C[x]]=this.props.editorProps[C[x]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(y[0],y[1],y[2],y[3]),this.editor.getSession().setMode("ace/mode/"+i),this.editor.setTheme("ace/theme/"+s),this.editor.setFontSize(u),this.editor.getSession().setValue(d||p,f),this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(h),this.editor.getSession().setUseWrapMode(b),this.editor.setShowPrintMargin(m),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),o&&this.editor.getSession().on("changeAnnotation",function(){var t=e.editor.getSession().getAnnotations();e.props.onValidate(t)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(S||[]),w&&w.length>0&&this.handleMarkers(w);for(var E=this.editor.$options,j=0;j<c.editorOptions.length;j++){var k=c.editorOptions[j];E.hasOwnProperty(k)?this.editor.setOption(k,this.props[k]):this.props[k]&&console.warn("ReaceAce: editor option "+k+" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?")}this.handleOptions(this.props),Array.isArray(O)&&O.forEach(function(t){"string"==typeof t.exec?e.editor.commands.bindKey(t.bindKey,t.exec):e.editor.commands.addCommand(t)}),v&&this.editor.setKeyboardHandler("ace/keyboard/"+v),n&&(this.refEditor.className+=" "+n),l&&this.editor.focus(),_&&_(this.editor),this.editor.resize()}},{key:"debounce",value:function(e,t){var n=null;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,o)},t)}}},{key:"componentWillReceiveProps",value:function(e){for(var t=this.props,n=0;n<c.editorOptions.length;n++){var r=c.editorOptions[n];e[r]!==t[r]&&this.editor.setOption(r,e[r])}if(e.className!==t.className){var o=this.refEditor.className.trim().split(" ");t.className.trim().split(" ").forEach(function(e){var t=o.indexOf(e);o.splice(t,1)}),this.refEditor.className=" "+e.className+" "+o.join(" ")}if(e.mode!==t.mode&&this.editor.getSession().setMode("ace/mode/"+e.mode),e.theme!==t.theme&&this.editor.setTheme("ace/theme/"+e.theme),e.keyboardHandler!==t.keyboardHandler&&(e.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+e.keyboardHandler):this.editor.setKeyboardHandler(null)),e.fontSize!==t.fontSize&&this.editor.setFontSize(e.fontSize),e.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(e.wrapEnabled),e.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(e.showPrintMargin),e.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(e.showGutter),(0,u.default)(e.setOptions,t.setOptions)||this.handleOptions(e),(0,u.default)(e.annotations,t.annotations)||this.editor.getSession().setAnnotations(e.annotations||[]),!(0,u.default)(e.markers,t.markers)&&Array.isArray(e.markers)&&this.handleMarkers(e.markers),(0,u.default)(e.scrollMargin,t.scrollMargin)||this.handleScrollMargins(e.scrollMargin),this.editor&&this.editor.getValue()!==e.value){this.silent=!0;var a=this.editor.session.selection.toJSON();this.editor.setValue(e.value,e.cursorStart),this.editor.session.selection.fromJSON(a),this.silent=!1}e.focus&&!t.focus&&this.editor.focus()}},{key:"componentDidUpdate",value:function(e){e.height===this.props.height&&e.width===this.props.width||this.editor.resize()}},{key:"handleScrollMargins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0];this.editor.renderer.setScrollMargins(e[0],e[1],e[2],e[3])}},{key:"componentWillUnmount",value:function(){this.editor.destroy(),this.editor=null}},{key:"onChange",value:function(e){if(this.props.onChange&&!this.silent){var t=this.editor.getValue();this.props.onChange(t,e)}}},{key:"onSelectionChange",value:function(e){if(this.props.onSelectionChange){var t=this.editor.getSelection();this.props.onSelectionChange(t,e)}}},{key:"onCursorChange",value:function(e){if(this.props.onCursorChange){var t=this.editor.getSelection();this.props.onCursorChange(t,e)}}},{key:"onInput",value:function(e){this.props.onInput&&this.props.onInput(e)}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e,this.editor)}},{key:"onCopy",value:function(e){this.props.onCopy&&this.props.onCopy(e)}},{key:"onPaste",value:function(e){this.props.onPaste&&this.props.onPaste(e)}},{key:"onScroll",value:function(){this.props.onScroll&&this.props.onScroll(this.editor)}},{key:"handleOptions",value:function(e){for(var t=Object.keys(e.setOptions),n=0;n<t.length;n++)this.editor.setOption(t[n],e.setOptions[t[n]])}},{key:"handleMarkers",value:function(e){var t=this,n=this.editor.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&this.editor.getSession().removeMarker(n[r].id);for(var o in n=this.editor.getSession().getMarkers(!1))n.hasOwnProperty(o)&&this.editor.getSession().removeMarker(n[o].id);e.forEach(function(e){var n=e.startRow,r=e.startCol,o=e.endRow,a=e.endCol,i=e.className,l=e.type,s=e.inFront,u=void 0!==s&&s,c=new d(n,r,o,a);t.editor.getSession().addMarker(c,i,l,u)})}},{key:"updateRef",value:function(e){this.refEditor=e}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.width,o=e.height,a=e.style,i=r({width:n,height:o},a);return l.default.createElement("div",{ref:this.updateRef,id:t,style:i})}}]),t}();t.default=f,f.propTypes={mode:s.default.string,focus:s.default.bool,theme:s.default.string,name:s.default.string,className:s.default.string,height:s.default.string,width:s.default.string,fontSize:s.default.oneOfType([s.default.number,s.default.string]),showGutter:s.default.bool,onChange:s.default.func,onCopy:s.default.func,onPaste:s.default.func,onFocus:s.default.func,onInput:s.default.func,onBlur:s.default.func,onScroll:s.default.func,value:s.default.string,defaultValue:s.default.string,onLoad:s.default.func,onSelectionChange:s.default.func,onCursorChange:s.default.func,onBeforeLoad:s.default.func,onValidate:s.default.func,minLines:s.default.number,maxLines:s.default.number,readOnly:s.default.bool,highlightActiveLine:s.default.bool,tabSize:s.default.number,showPrintMargin:s.default.bool,cursorStart:s.default.number,debounceChangePeriod:s.default.number,editorProps:s.default.object,setOptions:s.default.object,style:s.default.object,scrollMargin:s.default.array,annotations:s.default.array,markers:s.default.array,keyboardHandler:s.default.string,wrapEnabled:s.default.bool,enableBasicAutocompletion:s.default.oneOfType([s.default.bool,s.default.array]),enableLiveAutocompletion:s.default.oneOfType([s.default.bool,s.default.array]),commands:s.default.array},f.defaultProps={name:"brace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",value:"",fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1}},1133:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(398),i=f(a),l=n(1),s=f(l),u=f(n(0)),c=f(n(959)),p=f(n(1134)),d=n(960);function f(e){return e&&e.__esModule?e:{default:e}}n(1271);var h=i.default.acequire("ace/range").Range,b=i.default.acequire("ace/split").Split,m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return d.editorEvents.forEach(function(e){n[e]=n[e].bind(n)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),o(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,o=t.mode,l=t.focus,s=t.theme,u=t.fontSize,c=t.value,f=t.defaultValue,h=t.cursorStart,m=t.showGutter,g=t.wrapEnabled,y=t.showPrintMargin,v=t.scrollMargin,_=void 0===v?[0,0,0,0]:v,O=t.keyboardHandler,S=t.onLoad,w=t.commands,C=t.annotations,x=t.markers,E=t.splits;this.editor=i.default.edit(this.refEditor),r&&r(i.default);var j=Object.keys(this.props.editorProps),k=new b(this.editor.container,"ace/theme/"+s,E);this.editor.env.split=k,this.splitEditor=k.getEditor(0),this.split=k,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var T=this.splitEditor.$options;k.forEach(function(t,n){for(var r=0;r<j.length;r++)t[j[r]]=e.props.editorProps[j[r]];var i=(0,p.default)(f,n),l=(0,p.default)(c,n,"");t.session.setUndoManager(new a.UndoManager),t.setTheme("ace/theme/"+s),t.renderer.setScrollMargin(_[0],_[1],_[2],_[3]),t.getSession().setMode("ace/mode/"+o),t.setFontSize(u),t.renderer.setShowGutter(m),t.getSession().setUseWrapMode(g),t.setShowPrintMargin(y),t.on("focus",e.onFocus),t.on("blur",e.onBlur),t.on("input",e.onInput),t.on("copy",e.onCopy),t.on("paste",e.onPaste),t.on("change",e.onChange),t.getSession().selection.on("changeSelection",e.onSelectionChange),t.getSession().selection.on("changeCursor",e.onCursorChange),t.session.on("changeScrollTop",e.onScroll),t.setValue(void 0===i?l:i,h);var b=(0,p.default)(C,n,[]),v=(0,p.default)(x,n,[]);t.getSession().setAnnotations(b),v&&v.length>0&&e.handleMarkers(v,t);for(var S=0;S<d.editorOptions.length;S++){var E=d.editorOptions[S];T.hasOwnProperty(E)?t.setOption(E,e.props[E]):e.props[E]&&console.warn("ReaceAce: editor option "+E+" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?")}e.handleOptions(e.props,t),Array.isArray(w)&&w.forEach(function(e){"string"==typeof e.exec?t.commands.bindKey(e.bindKey,e.exec):t.commands.addCommand(e)}),O&&t.setKeyboardHandler("ace/keyboard/"+O)}),n&&(this.refEditor.className+=" "+n),l&&this.splitEditor.focus();var P=this.editor.env.split;P.setOrientation("below"===this.props.orientation?P.BELOW:P.BESIDE),P.resize(!0),S&&S(P)}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,r=this.editor.env.split;if(e.splits!==n.splits&&r.setSplits(e.splits),e.orientation!==n.orientation&&r.setOrientation("below"===e.orientation?r.BELOW:r.BESIDE),r.forEach(function(r,o){e.mode!==n.mode&&r.getSession().setMode("ace/mode/"+e.mode),e.keyboardHandler!==n.keyboardHandler&&(e.keyboardHandler?r.setKeyboardHandler("ace/keyboard/"+e.keyboardHandler):r.setKeyboardHandler(null)),e.fontSize!==n.fontSize&&r.setFontSize(e.fontSize),e.wrapEnabled!==n.wrapEnabled&&r.getSession().setUseWrapMode(e.wrapEnabled),e.showPrintMargin!==n.showPrintMargin&&r.setShowPrintMargin(e.showPrintMargin),e.showGutter!==n.showGutter&&r.renderer.setShowGutter(e.showGutter);for(var a=0;a<d.editorOptions.length;a++){var i=d.editorOptions[a];e[i]!==n[i]&&r.setOption(i,e[i])}(0,c.default)(e.setOptions,n.setOptions)||t.handleOptions(e,r);var l=(0,p.default)(e.value,o,"");if(r.getValue()!==l){t.silent=!0;var s=r.session.selection.toJSON();r.setValue(l,e.cursorStart),r.session.selection.fromJSON(s),t.silent=!1}var u=(0,p.default)(e.annotations,o,[]),f=(0,p.default)(n.annotations,o,[]);(0,c.default)(u,f)||r.getSession().setAnnotations(u);var h=(0,p.default)(e.markers,o,[]),b=(0,p.default)(n.markers,o,[]);!(0,c.default)(h,b)&&Array.isArray(h)&&t.handleMarkers(h,r)}),e.className!==n.className){var o=this.refEditor.className.trim().split(" ");n.className.trim().split(" ").forEach(function(e){var t=o.indexOf(e);o.splice(t,1)}),this.refEditor.className=" "+e.className+" "+o.join(" ")}e.theme!==n.theme&&r.setTheme("ace/theme/"+e.theme),e.focus&&!n.focus&&this.splitEditor.focus(),e.height===this.props.height&&e.width===this.props.width||this.editor.resize()}},{key:"componentWillUnmount",value:function(){this.editor.destroy(),this.editor=null}},{key:"onChange",value:function(e){if(this.props.onChange&&!this.silent){var t=[];this.editor.env.split.forEach(function(e){t.push(e.getValue())}),this.props.onChange(t,e)}}},{key:"onSelectionChange",value:function(e){if(this.props.onSelectionChange){var t=[];this.editor.env.split.forEach(function(e){t.push(e.getSelection())}),this.props.onSelectionChange(t,e)}}},{key:"onCursorChange",value:function(e){if(this.props.onCursorChange){var t=[];this.editor.env.split.forEach(function(e){t.push(e.getSelection())}),this.props.onCursorChange(t,e)}}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onInput",value:function(e){this.props.onInput&&this.props.onInput(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e)}},{key:"onCopy",value:function(e){this.props.onCopy&&this.props.onCopy(e)}},{key:"onPaste",value:function(e){this.props.onPaste&&this.props.onPaste(e)}},{key:"onScroll",value:function(){this.props.onScroll&&this.props.onScroll(this.editor)}},{key:"handleOptions",value:function(e,t){for(var n=Object.keys(e.setOptions),r=0;r<n.length;r++)t.setOption(n[r],e.setOptions[n[r]])}},{key:"handleMarkers",value:function(e,t){var n=t.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&t.getSession().removeMarker(n[r].id);for(var o in n=t.getSession().getMarkers(!1))n.hasOwnProperty(o)&&t.getSession().removeMarker(n[o].id);e.forEach(function(e){var n=e.startRow,r=e.startCol,o=e.endRow,a=e.endCol,i=e.className,l=e.type,s=e.inFront,u=void 0!==s&&s,c=new h(n,r,o,a);t.getSession().addMarker(c,i,l,u)})}},{key:"updateRef",value:function(e){this.refEditor=e}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.width,o=e.height,a=e.style,i=r({width:n,height:o},a);return s.default.createElement("div",{ref:this.updateRef,id:t,style:i})}}]),t}();t.default=m,m.propTypes={mode:u.default.string,splits:u.default.number,orientation:u.default.string,focus:u.default.bool,theme:u.default.string,name:u.default.string,className:u.default.string,height:u.default.string,width:u.default.string,fontSize:u.default.oneOfType([u.default.number,u.default.string]),showGutter:u.default.bool,onChange:u.default.func,onCopy:u.default.func,onPaste:u.default.func,onFocus:u.default.func,onInput:u.default.func,onBlur:u.default.func,onScroll:u.default.func,value:u.default.arrayOf(u.default.string),defaultValue:u.default.arrayOf(u.default.string),onLoad:u.default.func,onSelectionChange:u.default.func,onCursorChange:u.default.func,onBeforeLoad:u.default.func,minLines:u.default.number,maxLines:u.default.number,readOnly:u.default.bool,highlightActiveLine:u.default.bool,tabSize:u.default.number,showPrintMargin:u.default.bool,cursorStart:u.default.number,editorProps:u.default.object,setOptions:u.default.object,style:u.default.object,scrollMargin:u.default.array,annotations:u.default.array,markers:u.default.array,keyboardHandler:u.default.string,wrapEnabled:u.default.bool,enableBasicAutocompletion:u.default.oneOfType([u.default.bool,u.default.array]),enableLiveAutocompletion:u.default.oneOfType([u.default.bool,u.default.array]),commands:u.default.array},m.defaultProps={name:"brace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1}},1134:function(e,t,n){(function(t){var n="Expected a function",r="__lodash_hash_undefined__",o=1/0,a="[object Function]",i="[object GeneratorFunction]",l="[object Symbol]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,c=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,h="object"==typeof t&&t&&t.Object===Object&&t,b="object"==typeof self&&self&&self.Object===Object&&self,m=h||b||Function("return this")();var g,y=Array.prototype,v=Function.prototype,_=Object.prototype,O=m["__core-js_shared__"],S=(g=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",w=v.toString,C=_.hasOwnProperty,x=_.toString,E=RegExp("^"+w.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=m.Symbol,k=y.splice,T=B(m,"Map"),P=B(Object,"create"),M=j?j.prototype:void 0,R=M?M.toString:void 0;function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function I(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function N(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!=n&&r!=r)return o;return-1}function L(e,t){for(var n,r=0,o=(t=function(e,t){if(W(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||V(e))return!0;return u.test(e)||!s.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:W(n=t)?n:H(n)).length;null!=e&&r<o;)e=e[q(t[r++])];return r&&r==o?e:void 0}function z(e){return!(!G(e)||(t=e,S&&S in t))&&(function(e){var t=G(e)?x.call(e):"";return t==a||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?E:f).test(function(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function F(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function B(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return z(n)?n:void 0}A.prototype.clear=function(){this.__data__=P?P(null):{}},A.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},A.prototype.get=function(e){var t=this.__data__;if(P){var n=t[e];return n===r?void 0:n}return C.call(t,e)?t[e]:void 0},A.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:C.call(t,e)},A.prototype.set=function(e,t){return this.__data__[e]=P&&void 0===t?r:t,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(e){var t=this.__data__,n=N(t,e);return!(n<0||(n==t.length-1?t.pop():k.call(t,n,1),0))},I.prototype.get=function(e){var t=this.__data__,n=N(t,e);return n<0?void 0:t[n][1]},I.prototype.has=function(e){return N(this.__data__,e)>-1},I.prototype.set=function(e,t){var n=this.__data__,r=N(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},D.prototype.clear=function(){this.__data__={hash:new A,map:new(T||I),string:new A}},D.prototype.delete=function(e){return F(this,e).delete(e)},D.prototype.get=function(e){return F(this,e).get(e)},D.prototype.has=function(e){return F(this,e).has(e)},D.prototype.set=function(e,t){return F(this,e).set(e,t),this};var H=U(function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(V(e))return R?R.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(t);var n=[];return c.test(e)&&n.push(""),e.replace(p,function(e,t,r,o){n.push(r?o.replace(d,"$1"):t||e)}),n});function q(e){if("string"==typeof e||V(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function U(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return r.cache=a.set(o,i),i};return r.cache=new(U.Cache||D),r}U.Cache=D;var W=Array.isArray;function G(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function V(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&x.call(e)==l}e.exports=function(e,t,n){var r=null==e?void 0:L(e,t);return void 0===r?n:r}}).call(this,n(71))},117:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(267),o=n.n(r),a=n(1),i=n.n(a),l=n(0),s=n.n(l),u=n(9),c={tooltip:s.a.node,placement:s.a.string},p={display:"inline-block",cursor:"not-allowed"};function d(e){var t=Object.assign({},e),n=e.tooltip,r=e.placement;delete t.tooltip,delete t.placement;var a=i.a.createElement(u.Button,t,e.children);return n?(e.disabled&&(t.style={pointerEvents:"none"},a=i.a.createElement("div",{style:p},i.a.createElement(u.Button,t,e.children))),i.a.createElement(u.OverlayTrigger,{placement:r,overlay:i.a.createElement(u.Tooltip,{id:"".concat(o()(n),"-tooltip")},n)},a)):a}d.propTypes=c,d.defaultProps={bsSize:"sm",placement:"top"}},1178:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(9),s=n(33),u=n(377),c=n(120);n(1251);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m={description:i.a.string,label:i.a.string,name:i.a.string.isRequired,onChange:i.a.func,value:i.a.string.isRequired},g=Object(u.a)(),y={cursor:"pointer"},v=["line","big_number","table","filter_box","dist_bar","area","bar","deck_polygon","pie","time_table","pivot_table","histogram","big_number_total","deck_scatter","deck_hex","time_pivot","deck_arc","heatmap","deck_grid","dual_line","deck_screengrid","line_multi","treemap","box_plot","separator","sunburst","sankey","word_cloud","mapbox","kepler","cal_heatmap","rose","bubble","deck_geojson","horizon","markup","deck_multi","compare","partition","event_flow","deck_path","directed_force","world_map","paired_ttest","para","iframe","country_map"],_=new Set(v),O=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=f(t).call(this,e))||"object"!==p(o)&&"function"!=typeof o?b(r):o).state={showModal:!1,filter:""},n.toggleModal=n.toggleModal.bind(b(b(n))),n.changeSearch=n.changeSearch.bind(b(b(n))),n.setSearchRef=n.setSearchRef.bind(b(b(n))),n.focusSearch=n.focusSearch.bind(b(b(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"onChange",value:function(e){this.props.onChange(e),this.setState({showModal:!1})}},{key:"setSearchRef",value:function(e){this.searchRef=e}},{key:"toggleModal",value:function(){this.setState({showModal:!this.state.showModal})}},{key:"changeSearch",value:function(e){this.setState({filter:e.target.value})}},{key:"focusSearch",value:function(){this.searchRef&&this.searchRef.focus()}},{key:"renderItem",value:function(e){var t=this.props.value,n=e.key,r=e.value,a=n===t;return o.a.createElement("div",{className:"viztype-selector-container ".concat(a?"selected":""),onClick:this.onChange.bind(this,n)},o.a.createElement("img",{alt:r.name,width:"100%",className:"viztype-selector ".concat(a?"selected":""),src:r.thumbnail}),o.a.createElement("div",{className:"viztype-label"},r.name))}},{key:"render",value:function(){for(var e=this,t=this.state,n=t.filter,r=t.showModal,a=this.props.value,i=n.toLowerCase(),u=v.filter(function(e){return g.has(e)}).map(function(e){return{key:e,value:g.get(e)}}).concat(g.entries().filter(function(e){var t=e.key;return!_.has(t)})).filter(function(e){return e.value.name.toLowerCase().includes(i)}),p=[],d=0;d<=u.length;d+=6)p.push(o.a.createElement(l.Row,{key:"row-".concat(d)},u.slice(d,d+6).map(function(t){return o.a.createElement(l.Col,{md:2,key:"grid-col-".concat(t.key)},e.renderItem(t))})));return o.a.createElement("div",null,o.a.createElement(c.a,this.props),o.a.createElement(l.OverlayTrigger,{placement:"right",overlay:o.a.createElement(l.Tooltip,{id:"error-tooltip"},Object(s.b)("Click to change visualization type"))},o.a.createElement(o.a.Fragment,null,o.a.createElement(l.Label,{onClick:this.toggleModal,style:y},g.has(a)?g.get(a).name:"".concat(a)),!g.has(a)&&o.a.createElement("div",{className:"text-danger"},o.a.createElement("i",{className:"fa fa-exclamation-circle text-danger"})," ",o.a.createElement("small",null,Object(s.b)("This visualization type is not supported."))))),o.a.createElement(l.Modal,{show:r,onHide:this.toggleModal,onEnter:this.focusSearch,onExit:this.setSearchRef,bsSize:"lg"},o.a.createElement(l.Modal.Header,{closeButton:!0},o.a.createElement(l.Modal.Title,null,Object(s.b)("Select a visualization type"))),o.a.createElement(l.Modal.Body,null,o.a.createElement("div",{className:"viztype-control-search-box"},o.a.createElement(l.FormControl,{inputRef:this.setSearchRef,type:"text",value:n,placeholder:Object(s.b)("Search"),onChange:this.changeSearch})),p)))}}])&&d(n.prototype,r),a&&d(n,a),t}();O.propTypes=m,O.defaultProps={onChange:function(){}}},1181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.indexes,n=e.indexStrategy,o=e.labelKey,a=void 0===o?"label":o,i=e.options,l=void 0===i?[]:i,s=e.sanitizer,u=e.searchIndex,c=e.tokenizer,p=e.valueKey,d=void 0===p?"value":p,f=new r.Search(d);f.searchIndex=u||new r.UnorderedSearchIndex,f.indexStrategy=n||new r.AllSubstringsIndexStrategy,s&&(f.sanitizer=s);c&&(f.tokenizer=c);t?t.forEach(function(e){f.addIndex(e)}):f.addIndex(a);return f.addDocuments(l),function(e,t,n){var r=t?f.search(t):e;if(Array.isArray(n)&&n.length){var o=n.map(function(e){return e[d]});return r.filter(function(e){return!o.includes(e[d])})}return r}};var r=n(1255)},1183:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(218),s=n.n(l),u=n(1181),c=n.n(u),p=n(9),d=n(33),f=n(144),h=n(934),b=n(215);n(1268);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O={onClick:i.a.func,tooltipContent:i.a.string.isRequired},S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,v(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){return o.a.createElement(b.a,{tooltip:this.props.tooltipContent,label:"cache-desc"},o.a.createElement("i",{className:"RefreshLabel fa fa-refresh pointer",onClick:this.props.onClick}))}}])&&g(n.prototype,r),a&&g(n,a),t}();S.propTypes=O;var w=S;n(1269);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return R});var M={dbId:i.a.number.isRequired,schema:i.a.string,onSchemaChange:i.a.func,onDbChange:i.a.func,getDbList:i.a.func,onTableChange:i.a.func,tableNameSticky:i.a.bool,tableName:i.a.string,database:i.a.object,sqlLabMode:i.a.bool,onChange:i.a.func,clearable:i.a.bool,handleError:i.a.func.isRequired},R=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=k(t).call(this,e))||"object"!==C(o)&&"function"!=typeof o?P(r):o).state={schemaLoading:!1,schemaOptions:[],tableLoading:!1,tableOptions:[],dbId:e.dbId,schema:e.schema,tableName:e.tableName,filterOptions:null},n.changeSchema=n.changeSchema.bind(P(P(n))),n.changeTable=n.changeTable.bind(P(P(n))),n.dbMutator=n.dbMutator.bind(P(P(n))),n.getTableNamesBySubStr=n.getTableNamesBySubStr.bind(P(P(n))),n.onChange=n.onChange.bind(P(P(n))),n.onDatabaseChange=n.onDatabaseChange.bind(P(P(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){this.fetchSchemas(this.state.dbId),this.fetchTables()}},{key:"onDatabaseChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e?e.id:null;this.setState({schemaOptions:[]}),this.props.onSchemaChange(null),this.props.onDbChange(e),this.fetchSchemas(n,t),this.setState({dbId:n,schema:null,tableOptions:[]},this.onChange)}},{key:"onChange",value:function(){this.props.onChange({dbId:this.state.dbId,shema:this.state.schema,tableName:this.state.tableName})}},{key:"getTableNamesBySubStr",value:function(e){var t=this,n=this.state.tableName;if(!this.props.dbId||!e){var r=this.addOptionIfMissing([],n);return Promise.resolve({options:r})}return f.a.get({endpoint:"/superset/tables/".concat(this.props.dbId,"/")+"".concat(this.props.schema,"/").concat(e)}).then(function(e){var r=e.json;return{options:t.addOptionIfMissing(r.options,n)}})}},{key:"dbMutator",value:function(e){return this.props.getDbList(e.result),0===e.result.length&&this.props.handleError(Object(d.b)("It seems you don't have access to any database")),e.result.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){E(e,t,n[t])})}return e}({},e,{label:"".concat(e.backend," ").concat(e.database_name)})})}},{key:"fetchTables",value:function(e,t){var n=this,r=e||!1,o=this.props,a=o.dbId,i=o.schema;if(a&&i){this.setState(function(){return{tableLoading:!0,tableOptions:[]}});var l="/superset/tables/".concat(a,"/").concat(i,"/").concat(t,"/").concat(r,"/");return f.a.get({endpoint:l}).then(function(e){var t=e.json,r=c()({options:t.options});n.setState(function(){return{filterOptions:r,tableLoading:!1,tableOptions:t.options.map(function(e){return{value:e.value,label:e.label,title:e.label}})}})}).catch(function(){n.setState(function(){return{tableLoading:!1,tableOptions:[]}}),n.props.handleError(Object(d.b)("Error while fetching table list"))})}return this.setState(function(){return{tableLoading:!1,tableOptions:[],filterOptions:null}}),Promise.resolve()}},{key:"fetchSchemas",value:function(e,t){var n=this,r=e||this.props.dbId,o=t||!1;if(r){this.setState({schemaLoading:!0});var a="/superset/schemas/".concat(r,"/").concat(o,"/");return f.a.get({endpoint:a}).then(function(e){var t=e.json.schemas.map(function(e){return{value:e,label:e,title:e}});n.setState({schemaOptions:t,schemaLoading:!1})}).catch(function(){n.setState({schemaLoading:!1,schemaOptions:[]}),n.props.handleError(Object(d.b)("Error while fetching schema list"))})}return Promise.resolve()}},{key:"changeTable",value:function(e){if(e){var t=e.value.split("."),n=t[0],r=this.props.schema;t.length>1&&(r=t[0],n=t[1]),this.props.tableNameSticky&&this.setState({tableName:n},this.onChange),this.props.onTableChange(n,r)}else this.setState({tableName:""})}},{key:"changeSchema",value:function(e){var t=this,n=e?e.value:null;this.props.onSchemaChange(n),this.setState({schema:n},function(){t.fetchTables(),t.onChange()})}},{key:"addOptionIfMissing",value:function(e,t){var n=this;return 0===e.filter(function(e){return e.value===n.state.tableName}).length&&t?[].concat(x(e),[{value:t,label:t}]):e}},{key:"renderDatabaseOption",value:function(e){return o.a.createElement("span",null,o.a.createElement(p.Label,{bsStyle:"default",className:"m-r-5"},e.backend),e.database_name)}},{key:"renderSelectRow",value:function(e,t){return o.a.createElement("div",{className:"section"},o.a.createElement("span",{className:"select"},e),o.a.createElement("span",{className:"refresh-col"},t))}},{key:"renderDatabaseSelect",value:function(){var e=this;return this.renderSelectRow(o.a.createElement(h.a,{dataEndpoint:"/databaseasync/api/read?_flt_0_expose_in_sqllab=1&_oc_DatabaseAsync=database_name&_od_DatabaseAsync=asc",onChange:this.onDatabaseChange,onAsyncError:function(){return e.props.handleError(Object(d.b)("Error while fetching database list"))},clearable:!1,value:this.state.dbId,valueKey:"id",valueRenderer:function(t){return o.a.createElement("div",null,o.a.createElement("span",{className:"text-muted m-r-5"},Object(d.b)("Database:")),e.renderDatabaseOption(t))},optionRenderer:this.renderDatabaseOption,mutator:this.dbMutator,placeholder:Object(d.b)("Select a database"),autoSelect:!0}))}},{key:"renderSchema",value:function(){var e=this;return this.renderSelectRow(o.a.createElement(s.a,{name:"select-schema",placeholder:Object(d.b)("Select a schema (%s)",this.state.schemaOptions.length),options:this.state.schemaOptions,value:this.props.schema,valueRenderer:function(e){return o.a.createElement("div",null,o.a.createElement("span",{className:"text-muted"},Object(d.b)("Schema:"))," ",e.label)},isLoading:this.state.schemaLoading,autosize:!1,onChange:this.changeSchema}),o.a.createElement(w,{onClick:function(){return e.onDatabaseChange({id:e.props.dbId},!0)},tooltipContent:Object(d.b)("Force refresh schema list")}))}},{key:"renderTable",value:function(){var e,t=this,n=!1;this.props.database&&this.props.database.allow_multi_schema_metadata_fetch?e=Object(d.b)("Type to search ..."):(e=Object(d.b)("Select table "),n=!0);var r=this.addOptionIfMissing(this.state.tableOptions,this.state.tableName),a=this.props.schema?o.a.createElement(s.a,{name:"select-table",ref:"selectTable",isLoading:this.state.tableLoading,placeholder:Object(d.b)("Select table or type table name"),autosize:!1,onChange:this.changeTable,filterOptions:this.state.filterOptions,options:r,value:this.state.tableName}):o.a.createElement(s.a,{async:!0,name:"async-select-table",ref:"selectTable",placeholder:e,disabled:n,autosize:!1,onChange:this.changeTable,value:this.state.tableName,loadOptions:this.getTableNamesBySubStr});return this.renderSelectRow(a,o.a.createElement(w,{onClick:function(){return t.changeSchema({value:t.props.schema},!0)},tooltipContent:Object(d.b)("Force refresh table list")}))}},{key:"renderSeeTableLabel",value:function(){return o.a.createElement("div",{className:"section"},o.a.createElement(p.ControlLabel,null,Object(d.b)("See table schema")," ",o.a.createElement("small",null,"(",this.state.tableOptions.length," ",Object(d.b)("in")," ",o.a.createElement("i",null,this.props.schema),")")))}},{key:"render",value:function(){return o.a.createElement("div",{className:"TableSelector"},this.renderDatabaseSelect(),this.renderSchema(),o.a.createElement("div",{className:"divider"}),this.props.sqlLabMode&&this.renderSeeTableLabel(),this.renderTable())}}])&&j(n.prototype,r),a&&j(n,a),t}();R.propTypes=M,R.defaultProps={onDbChange:function(){},onSchemaChange:function(){},getDbList:function(){},onTableChange:function(){},onChange:function(){},tableNameSticky:!0,sqlLabMode:!0,clearable:!0}},1188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=t.sortableHandle=t.sortableElement=t.sortableContainer=t.SortableHandle=t.SortableElement=t.SortableContainer=void 0;var r=n(1210);Object.defineProperty(t,"arrayMove",{enumerable:!0,get:function(){return r.arrayMove}});var o=l(n(1904)),a=l(n(1906)),i=l(n(1907));function l(e){return e&&e.__esModule?e:{default:e}}t.SortableContainer=o.default,t.SortableElement=a.default,t.SortableHandle=i.default,t.sortableContainer=o.default,t.sortableElement=a.default,t.sortableHandle=i.default},1197:function(e,t,n){var r=n(1303),o=n(1056);e.exports=function(e,t,n,a){var i=!n;n||(n={});for(var l=-1,s=t.length;++l<s;){var u=t[l],c=a?a(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),i?o(n,u,c):r(n,u,c)}return n}},120:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(33),s=n(9),u=n(115);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b={name:i.a.string,label:i.a.string,description:i.a.string,validationErrors:i.a.array,renderTrigger:i.a.bool,rightNode:i.a.node,leftNode:i.a.node,onClick:i.a.func,hovered:i.a.bool,tooltipOnClick:i.a.func,warning:i.a.string,danger:i.a.string},m={validationErrors:[],renderTrigger:!1,hovered:!1,name:void 0},g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.Component),n=t,(r=[{key:"renderOptionalIcons",value:function(){return this.props.hovered?o.a.createElement("span",null,this.props.description&&o.a.createElement("span",null,o.a.createElement(u.a,{label:Object(l.b)("description"),tooltip:this.props.description,placement:"top",onClick:this.props.tooltipOnClick})," "),this.props.renderTrigger&&o.a.createElement("span",null,o.a.createElement(u.a,{label:Object(l.b)("bolt"),tooltip:Object(l.b)("Changing this control takes effect instantly"),placement:"top",icon:"bolt"})," ")):null}},{key:"render",value:function(){if(!this.props.label)return null;var e=this.props.validationErrors.length>0?"text-danger":"";return o.a.createElement("div",{className:"ControlHeader","data-test":"".concat(this.props.name,"-header")},o.a.createElement("div",{className:"pull-left"},o.a.createElement(s.ControlLabel,null,this.props.leftNode&&o.a.createElement("span",null,this.props.leftNode),o.a.createElement("span",{onClick:this.props.onClick,className:e,style:{cursor:this.props.onClick?"pointer":""}},this.props.label)," ",this.props.warning&&o.a.createElement("span",null,o.a.createElement(s.OverlayTrigger,{placement:"top",overlay:o.a.createElement(s.Tooltip,{id:"error-tooltip"},this.props.warning)},o.a.createElement("i",{className:"fa fa-exclamation-circle text-warning"}))," "),this.props.danger&&o.a.createElement("span",null,o.a.createElement(s.OverlayTrigger,{placement:"top",overlay:o.a.createElement(s.Tooltip,{id:"error-tooltip"},this.props.danger)},o.a.createElement("i",{className:"fa fa-exclamation-circle text-danger"}))," "),this.props.validationErrors.length>0&&o.a.createElement("span",null,o.a.createElement(s.OverlayTrigger,{placement:"top",overlay:o.a.createElement(s.Tooltip,{id:"error-tooltip"},this.props.validationErrors.join(" "))},o.a.createElement("i",{className:"fa fa-exclamation-circle text-danger"}))," "),this.renderOptionalIcons())),this.props.rightNode&&o.a.createElement("div",{className:"pull-right"},this.props.rightNode),o.a.createElement("div",{className:"clearfix"}))}}])&&p(n.prototype,r),a&&p(n,a),t}();g.propTypes=b,g.defaultProps=m},1210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vendorPrefix=t.events=void 0,t.arrayMove=function(e,t,n){var r=e.slice(0);if(n>=r.length)for(var o=n-r.length;1+o--;)r.push(void 0);return r.splice(n,0,r.splice(t,1)[0]),r},t.omit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.keys(e).reduce(function(t,r){return-1===n.indexOf(r)&&(t[r]=e[r]),t},{})},t.closest=function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}},t.limit=function(e,t,n){if(n<e)return e;if(n>t)return t;return n},t.getElementMargin=function(e){var t=window.getComputedStyle(e);return{top:i(t.marginTop),right:i(t.marginRight),bottom:i(t.marginBottom),left:i(t.marginLeft)}},t.provideDisplayName=function(e,t){var n=t.displayName||t.name;return n?e+"("+n+")":e},t.getPosition=function(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}},t.isTouchEvent=function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length},t.getEdgeOffset=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,left:0};if(t){var o={top:r.top+t.offsetTop,left:r.left+t.offsetLeft};return t.parentNode!==n?e(t.parentNode,n,o):o}},t.getLockPixelOffset=function(e){var t=e.lockOffset,n=e.width,r=e.height,o=t,i=t,l="px";if("string"==typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);(0,a.default)(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),o=i=parseFloat(t),l=s[1]}(0,a.default)(isFinite(o)&&isFinite(i),"lockOffset value should be a finite. Given %s",t),"%"===l&&(o=o*n/100,i=i*r/100);return{x:o,y:i}};var r,o=n(46),a=(r=o)&&r.__esModule?r:{default:r};t.events={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},t.vendorPrefix=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function i(e){return"px"===e.substr(-2)?parseFloat(e):0}},1211:function(e,t,n){var r=n(422),o=n(1252),a=n(299);e.exports=function(e){return a(e)?r(e,!0):o(e)}},1213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var r=n(1426);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return y(r).default}});var o=n(1472);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return y(o).default}});var a=n(1474);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return y(a).default}});var i=n(1476);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return y(i).default}});var l=n(1480);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return y(l).default}});var s=n(1483);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return y(s).default}});var u=n(1485);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return y(u).default}});var c=n(1487);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return y(c).default}});var p=n(1488);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return y(p).default}});var d=n(1494);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return y(d).default}});var f=n(1497);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return y(f).default}});var h=n(1501);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return y(h).default}});var b=n(1504);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return y(b).default}});var m=n(1306);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return y(m).default}});var g=y(i);function y(e){return e&&e.__esModule?e:{default:e}}t.default=g.default},1214:function(e,t,n){var r=n(955),o=n(163),a="Expected a function";e.exports=function(e,t,n){var i=!0,l=!0;if("function"!=typeof e)throw new TypeError(a);return o(n)&&(i="leading"in n?!!n.leading:i,l="trailing"in n?!!n.trailing:l),r(e,t,{leading:i,maxWait:t,trailing:l})}},1215:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1227:function(e,t,n){var r=n(72);e.exports=function(){return r.Date.now()}},1228:function(e,t,n){var r=n(163),o=n(386),a=NaN,i=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):l.test(e)?a:+e}},1229:function(e,t,n){var r=n(1057),o=n(1300);e.exports=function(e,t){return e&&r(e,o(t))}},1230:function(e,t,n){var r=n(427);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=u(n(1427)),o=u(n(1431)),a=u(n(1453)),i=u(n(1454)),l=u(n(1455)),s=u(n(1456));function u(e){return e&&e.__esModule?e:{default:e}}t.hover=i.default,t.handleHover=i.default,t.handleActive=l.default,t.loop=s.default;var c=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var l=(0,r.default)(n),s=(0,o.default)(e,l);return(0,a.default)(s)};t.default=c},125:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return s}),n.d(t,"i",function(){return u}),n.d(t,"j",function(){return c}),n.d(t,"h",function(){return p}),n.d(t,"c",function(){return d});var r={AVG:"AVG",COUNT:"COUNT ",COUNT_DISTINCT:"COUNT_DISTINCT",MAX:"MAX",MIN:"MIN",SUM:"SUM"},o={"==":"==","!=":"!=",">":">","<":"<",">=":">=","<=":"<=",in:"in","not in":"not in",LIKE:"LIKE",regex:"regex","IS NOT NULL":"IS NOT NULL","IS NULL":"IS NULL"},a=[o.LIKE],i=[o.regex],l=[o["=="],o["!="],o[">"],o["<"],o[">="],o["<="]],s=[o.in,o["not in"]],u=/^(sum|min|max|avg|count|count_distinct)__.*$/i,c=/^(LONG|DOUBLE|FLOAT)?(SUM|AVG|MAX|MIN|COUNT)\([A-Z0-9_."]*\)$/i,p=/^(LONG|DOUBLE|FLOAT)?(SUM|MAX|MIN|COUNT)\([A-Z0-9_."]*\)$/i,d=["separator","markup"]},1251:function(e,t,n){},1252:function(e,t,n){var r=n(163),o=n(388),a=n(1253),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=o(e),n=[];for(var l in e)("constructor"!=l||!t&&i.call(e,l))&&n.push(l);return n}},1253:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(172)),o=c(n(4)),a=c(n(123)),i=c(n(5)),l=c(n(6)),s=c(n(1)),u=n(1109);function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e)),a=e.prompt,l=a.initialValue,s=a.placeholder;return n.state={value:l||"",initialValue:l,placeholder:s},n.inputElement=null,n.onSubmit=n.onSubmit.bind(n),n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({value:this.state.initialValue||""},function(){e.inputElement.select()})}},{key:"onSubmit",value:function(e){return e.preventDefault(),this.props.onSubmit&&this.props.onSubmit(),!1}},{key:"render",value:function(){var e=this,t=this.props.prompt,n=this.state,r=n.value,o=n.placeholder,a=t instanceof u.PasswordPrompt?"password":"text";return s.default.createElement("form",{onSubmit:this.onSubmit},s.default.createElement("input",{ref:function(t){e.inputElement=t},type:a,className:"form-control",value:r,placeholder:o,onChange:function(t){return e.setState({value:t.target.value})},autoFocus:!0}))}},{key:"value",get:function(){return this.state.value}}]),t}(s.default.Component);t.default=p},1255:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1053);Object.defineProperty(t,"AllSubstringsIndexStrategy",{enumerable:!0,get:function(){return r.AllSubstringsIndexStrategy}}),Object.defineProperty(t,"ExactWordIndexStrategy",{enumerable:!0,get:function(){return r.ExactWordIndexStrategy}}),Object.defineProperty(t,"PrefixIndexStrategy",{enumerable:!0,get:function(){return r.PrefixIndexStrategy}});var o=n(1054);Object.defineProperty(t,"CaseSensitiveSanitizer",{enumerable:!0,get:function(){return o.CaseSensitiveSanitizer}}),Object.defineProperty(t,"LowerCaseSanitizer",{enumerable:!0,get:function(){return o.LowerCaseSanitizer}});var a=n(1110);Object.defineProperty(t,"TfIdfSearchIndex",{enumerable:!0,get:function(){return a.TfIdfSearchIndex}}),Object.defineProperty(t,"UnorderedSearchIndex",{enumerable:!0,get:function(){return a.UnorderedSearchIndex}});var i=n(1112);Object.defineProperty(t,"SimpleTokenizer",{enumerable:!0,get:function(){return i.SimpleTokenizer}}),Object.defineProperty(t,"StemmingTokenizer",{enumerable:!0,get:function(){return i.StemmingTokenizer}}),Object.defineProperty(t,"StopWordsTokenizer",{enumerable:!0,get:function(){return i.StopWordsTokenizer}});var l=n(1266);Object.defineProperty(t,"Search",{enumerable:!0,get:function(){return l.Search}});var s=n(1113);Object.defineProperty(t,"StopWordsMap",{enumerable:!0,get:function(){return s.StopWordsMap}});var u=n(1267);Object.defineProperty(t,"TokenHighlighter",{enumerable:!0,get:function(){return u.TokenHighlighter}})},1256:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.AllSubstringsIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"expandToken",value:function(e){for(var t,n=[],r=0,o=e.length;r<o;++r){t="";for(var a=r;a<o;++a)t+=e.charAt(a),n.push(t)}return n}}]),e}()},1257:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.ExactWordIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"expandToken",value:function(e){return e?[e]:[]}}]),e}()},1258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.PrefixIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"expandToken",value:function(e){for(var t=[],n="",r=0,o=e.length;r<o;++r)n+=e.charAt(r),t.push(n);return t}}]),e}()},1259:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.CaseSensitiveSanitizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"sanitize",value:function(e){return e?e.trim():""}}]),e}()},1260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.LowerCaseSanitizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"sanitize",value:function(e){return e?e.toLocaleLowerCase().trim():""}}]),e}()},1261:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TfIdfSearchIndex=void 0;var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1111),l=(r=i)&&r.__esModule?r:{default:r};t.TfIdfSearchIndex=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uidFieldName=t,this._tokenToIdfCache={},this._tokenMap={}}return a(e,[{key:"indexDocument",value:function(e,t,n){this._tokenToIdfCache={};var r,a=this._tokenMap;"object"!==o(a[e])?a[e]=r={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}:(r=a[e]).$totalNumOccurrences++;var i=r.$uidMap;"object"!==o(i[t])?(r.$numDocumentOccurrences++,i[t]={$document:n,$numTokenOccurrences:1}):i[t].$numTokenOccurrences++}},{key:"search",value:function(e,t){for(var n={},r=0,a=e.length;r<a;r++){var i=e[r],l=this._tokenMap[i];if(!l)return[];if(0===r)for(var s=0,u=(c=Object.keys(l.$uidMap)).length;s<u;s++){n[p=c[s]]=l.$uidMap[p].$document}else{var c;for(s=0,u=(c=Object.keys(n)).length;s<u;s++){var p=c[s];"object"!==o(l.$uidMap[p])&&delete n[p]}}}var d=[];for(var p in n)d.push(n[p]);var f=this._createCalculateTfIdf();return d.sort(function(n,r){return f(e,r,t)-f(e,n,t)})}},{key:"_createCalculateIdf",value:function(){var e=this._tokenMap,t=this._tokenToIdfCache;return function(n,r){if(!t[n]){var o=void 0!==e[n]?e[n].$numDocumentOccurrences:0;t[n]=1+Math.log(r.length/(1+o))}return t[n]}}},{key:"_createCalculateTfIdf",value:function(){var e=this._tokenMap,t=this._uidFieldName,n=this._createCalculateIdf();return function(r,o,a){for(var i=0,s=0,u=r.length;s<u;++s){var c,p=r[s],d=n(p,a);d===1/0&&(d=0),c=t instanceof Array?o&&(0,l.default)(o,t):o&&o[t],i+=(void 0!==e[p]&&void 0!==e[p].$uidMap[c]?e[p].$uidMap[c].$numTokenOccurrences:0)*d}return i}}}]),e}()},1262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.UnorderedSearchIndex=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokenToUidToDocumentMap={}}return o(e,[{key:"indexDocument",value:function(e,t,n){"object"!==r(this._tokenToUidToDocumentMap[e])&&(this._tokenToUidToDocumentMap[e]={}),this._tokenToUidToDocumentMap[e][t]=n}},{key:"search",value:function(e,t){for(var n={},o=this._tokenToUidToDocumentMap,a=0,i=e.length;a<i;a++){var l=o[e[a]];if(!l)return[];if(0===a)for(var s=0,u=(p=Object.keys(l)).length;s<u;s++){n[c=p[s]]=l[c]}else for(s=0,u=(p=Object.keys(n)).length;s<u;s++){var c=p[s];"object"!==r(l[c])&&delete n[c]}}var p,d=[];for(a=0,u=(p=Object.keys(n)).length;a<u;a++){c=p[a];d.push(n[c])}return d}}]),e}()},1263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=/[^a-z-0-9\-']+/i;t.SimpleTokenizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"tokenize",value:function(e){return e.split(o).filter(function(e){return e})}}]),e}()},1264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.StemmingTokenizer=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stemmingFunction=t,this._tokenizer=n}return r(e,[{key:"tokenize",value:function(e){return this._tokenizer.tokenize(e).map(this._stemmingFunction)}}]),e}()},1265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopWordsTokenizer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1113);t.StopWordsTokenizer=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokenizer=t}return r(e,[{key:"tokenize",value:function(e){return this._tokenizer.tokenize(e).filter(function(e){return!o.StopWordsMap[e]})}}]),e}()},1266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Search=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1111),i=(r=a)&&r.__esModule?r:{default:r},l=n(1053),s=n(1054),u=n(1110),c=n(1112);t.Search=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw Error("js-search requires a uid field name constructor parameter");this._uidFieldName=t,this._indexStrategy=new l.PrefixIndexStrategy,this._searchIndex=new u.TfIdfSearchIndex(t),this._sanitizer=new s.LowerCaseSanitizer,this._tokenizer=new c.SimpleTokenizer,this._documents=[],this._searchableFields=[]}return o(e,[{key:"addDocument",value:function(e){this.addDocuments([e])}},{key:"addDocuments",value:function(e){this._documents=this._documents.concat(e),this.indexDocuments_(e,this._searchableFields)}},{key:"addIndex",value:function(e){this._searchableFields.push(e),this.indexDocuments_(this._documents,[e])}},{key:"search",value:function(e){var t=this._tokenizer.tokenize(this._sanitizer.sanitize(e));return this._searchIndex.search(t,this._documents)}},{key:"indexDocuments_",value:function(e,t){this._initialized=!0;for(var n=this._indexStrategy,r=this._sanitizer,o=this._searchIndex,a=this._tokenizer,l=this._uidFieldName,s=0,u=e.length;s<u;s++){var c,p=e[s];c=l instanceof Array?(0,i.default)(p,l):p[l];for(var d=0,f=t.length;d<f;d++){var h,b=t[d];if(null!=(h=b instanceof Array?(0,i.default)(p,b):p[b])&&"string"!=typeof h&&h.toString&&(h=h.toString()),"string"==typeof h)for(var m=a.tokenize(r.sanitize(h)),g=0,y=m.length;g<y;g++)for(var v=m[g],_=n.expandToken(v),O=0,S=_.length;O<S;O++){var w=_[O];o.indexDocument(w,c,p)}}}}},{key:"indexStrategy",set:function(e){if(this._initialized)throw Error("IIndexStrategy cannot be set after initialization");this._indexStrategy=e},get:function(){return this._indexStrategy}},{key:"sanitizer",set:function(e){if(this._initialized)throw Error("ISanitizer cannot be set after initialization");this._sanitizer=e},get:function(){return this._sanitizer}},{key:"searchIndex",set:function(e){if(this._initialized)throw Error("ISearchIndex cannot be set after initialization");this._searchIndex=e},get:function(){return this._searchIndex}},{key:"tokenizer",set:function(e){if(this._initialized)throw Error("ITokenizer cannot be set after initialization");this._tokenizer=e},get:function(){return this._tokenizer}}]),e}()},1267:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenHighlighter=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1053),a=n(1054);t.TokenHighlighter=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._indexStrategy=t||new o.PrefixIndexStrategy,this._sanitizer=n||new a.LowerCaseSanitizer,this._wrapperTagName=r||"mark"}return r(e,[{key:"highlight",value:function(e,t){for(var n=this._wrapText("").length,r={},o=0,a=t.length;o<a;o++)for(var i=this._sanitizer.sanitize(t[o]),l=this._indexStrategy.expandToken(i),s=0,u=l.length;s<u;s++){var c=l[s];r[c]?r[c].push(i):r[c]=[i]}for(var p="",d="",f=0,h=(o=0,e.length);o<h;o++){var b=e.charAt(o);" "===b?(p="",d="",f=o+1):(p+=b,d+=this._sanitizer.sanitize(b)),r[d]&&r[d].indexOf(d)>=0&&(p=this._wrapText(p),e=e.substring(0,f)+p+e.substring(o+1),o+=n,h+=n)}return e}},{key:"_wrapText",value:function(e){var t=this._wrapperTagName;return"<"+t+">"+e+"</"+t+">"}}]),e}()},1268:function(e,t,n){},1269:function(e,t,n){},1282:function(e,t,n){"use strict";var r=n(1368),o=n(0),a=n(1090),i=n(20),l=n(1),s=n(1915),u=n(1920).default,c=Object.freeze({YEARS:"years",MONTHS:"months",DAYS:"days",TIME:"time"}),p=o,d=a({displayName:"DateTime",propTypes:{onFocus:p.func,onBlur:p.func,onChange:p.func,onViewModeChange:p.func,onNavigateBack:p.func,onNavigateForward:p.func,locale:p.string,utc:p.bool,displayTimeZone:p.string,input:p.bool,inputProps:p.object,timeConstraints:p.object,viewMode:p.oneOf([c.YEARS,c.MONTHS,c.DAYS,c.TIME]),isValidDate:p.func,open:p.bool,strictParsing:p.bool,closeOnSelect:p.bool,closeOnTab:p.bool},getInitialState:function(){this.checkTZ(this.props);var e=this.getStateFromProps(this.props);return void 0===e.open&&(e.open=!this.props.input),e.currentView=this.props.dateFormat?this.props.viewMode||e.updateOn||c.DAYS:c.TIME,e},parseDate:function(e,t){var n;return e&&"string"==typeof e?n=this.localMoment(e,t.datetime):e&&(n=this.localMoment(e)),n&&!n.isValid()&&(n=null),n},getStateFromProps:function(e){var t,n,r,o,a=this.getFormats(e),i=e.value||e.defaultValue;return t=this.parseDate(i,a),n=this.parseDate(e.viewDate,a),n=t?t.clone().startOf("month"):n?n.clone().startOf("month"):this.localMoment().startOf("month"),r=this.getUpdateOn(a),o=t?t.format(a.datetime):i.isValid&&!i.isValid()?"":i||"",{updateOn:r,inputFormat:a.datetime,viewDate:n,selectedDate:t,inputValue:o,open:e.open}},getUpdateOn:function(e){return e.date.match(/[lLD]/)?c.DAYS:-1!==e.date.indexOf("M")?c.MONTHS:-1!==e.date.indexOf("Y")?c.YEARS:c.DAYS},getFormats:function(e){var t={date:e.dateFormat||"",time:e.timeFormat||""},n=this.localMoment(e.date,null,e).localeData();return!0===t.date?t.date=n.longDateFormat("L"):this.getUpdateOn(t)!==c.DAYS&&(t.time=""),!0===t.time&&(t.time=n.longDateFormat("LT")),t.datetime=t.date&&t.time?t.date+" "+t.time:t.date||t.time,t},componentWillReceiveProps:function(e){var t=this.getFormats(e),n={};if(e.value===this.props.value&&t.datetime===this.getFormats(this.props).datetime||(n=this.getStateFromProps(e)),void 0===n.open&&(void 0!==e.open?n.open=e.open:this.props.closeOnSelect&&this.state.currentView!==c.TIME?n.open=!1:n.open=this.state.open),e.viewMode!==this.props.viewMode&&(n.currentView=e.viewMode),e.locale!==this.props.locale){if(this.state.viewDate){var r=this.state.viewDate.clone().locale(e.locale);n.viewDate=r}if(this.state.selectedDate){var o=this.state.selectedDate.clone().locale(e.locale);n.selectedDate=o,n.inputValue=o.format(t.datetime)}}e.utc===this.props.utc&&e.displayTimeZone===this.props.displayTimeZone||(e.utc?(this.state.viewDate&&(n.viewDate=this.state.viewDate.clone().utc()),this.state.selectedDate&&(n.selectedDate=this.state.selectedDate.clone().utc(),n.inputValue=n.selectedDate.format(t.datetime))):e.displayTimeZone?(this.state.viewDate&&(n.viewDate=this.state.viewDate.clone().tz(e.displayTimeZone)),this.state.selectedDate&&(n.selectedDate=this.state.selectedDate.clone().tz(e.displayTimeZone),n.inputValue=n.selectedDate.tz(e.displayTimeZone).format(t.datetime))):(this.state.viewDate&&(n.viewDate=this.state.viewDate.clone().local()),this.state.selectedDate&&(n.selectedDate=this.state.selectedDate.clone().local(),n.inputValue=n.selectedDate.format(t.datetime)))),e.viewDate!==this.props.viewDate&&(n.viewDate=i(e.viewDate)),this.checkTZ(e),this.setState(n)},onInputChange:function(e){var t=null===e.target?e:e.target.value,n=this.localMoment(t,this.state.inputFormat),r={inputValue:t};return n.isValid()&&!this.props.value?(r.selectedDate=n,r.viewDate=n.clone().startOf("month")):r.selectedDate=null,this.setState(r,function(){return this.props.onChange(n.isValid()?n:this.state.inputValue)})},onInputKey:function(e){9===e.which&&this.props.closeOnTab&&this.closeCalendar()},showView:function(e){var t=this;return function(){t.state.currentView!==e&&t.props.onViewModeChange(e),t.setState({currentView:e})}},setDate:function(e){var t=this,n={month:c.DAYS,year:c.MONTHS};return function(r){t.setState({viewDate:t.state.viewDate.clone()[e](parseInt(r.target.getAttribute("data-value"),10)).startOf(e),currentView:n[e]}),t.props.onViewModeChange(n[e])}},subtractTime:function(e,t,n){var r=this;return function(){r.props.onNavigateBack(e,t),r.updateTime("subtract",e,t,n)}},addTime:function(e,t,n){var r=this;return function(){r.props.onNavigateForward(e,t),r.updateTime("add",e,t,n)}},updateTime:function(e,t,n,r){var o={},a=r?"selectedDate":"viewDate";o[a]=this.state[a].clone()[e](t,n),this.setState(o)},allowedSetTime:["hours","minutes","seconds","milliseconds"],setTime:function(e,t){var n,r=this.allowedSetTime.indexOf(e)+1,o=this.state,a=(o.selectedDate||o.viewDate).clone();for(a[e](t);r<this.allowedSetTime.length;r++)a[n=this.allowedSetTime[r]](a[n]());this.props.value||this.setState({selectedDate:a,inputValue:a.format(o.inputFormat)}),this.props.onChange(a)},updateSelectedDate:function(e,t){var n,r=e.currentTarget,o=0,a=this.state.viewDate,i=this.state.selectedDate||a;if(-1!==r.className.indexOf("rdtDay")?(-1!==r.className.indexOf("rdtNew")?o=1:-1!==r.className.indexOf("rdtOld")&&(o=-1),n=a.clone().month(a.month()+o).date(parseInt(r.getAttribute("data-value"),10))):-1!==r.className.indexOf("rdtMonth")?n=a.clone().month(parseInt(r.getAttribute("data-value"),10)).date(i.date()):-1!==r.className.indexOf("rdtYear")&&(n=a.clone().month(i.month()).date(i.date()).year(parseInt(r.getAttribute("data-value"),10))),n.hours(i.hours()).minutes(i.minutes()).seconds(i.seconds()).milliseconds(i.milliseconds()),this.props.value)this.props.closeOnSelect&&t&&this.closeCalendar();else{var l=!(this.props.closeOnSelect&&t);l||this.props.onBlur(n),this.setState({selectedDate:n,viewDate:n.clone().startOf("month"),inputValue:n.format(this.state.inputFormat),open:l})}this.props.onChange(n)},openCalendar:function(e){this.state.open||this.setState({open:!0},function(){this.props.onFocus(e)})},closeCalendar:function(){this.setState({open:!1},function(){this.props.onBlur(this.state.selectedDate||this.state.inputValue)})},handleClickOutside:function(){this.props.input&&this.state.open&&void 0===this.props.open&&!this.props.disableCloseOnClickOutside&&this.setState({open:!1},function(){this.props.onBlur(this.state.selectedDate||this.state.inputValue)})},localMoment:function(e,t,n){var r=null;return r=(n=n||this.props).utc?i.utc(e,t,n.strictParsing):n.displayTimeZone?i.tz(e,t,n.displayTimeZone):i(e,t,n.strictParsing),n.locale&&r.locale(n.locale),r},checkTZ:function(e){var t=console;!e.displayTimeZone||this.tzWarning||i.tz||(this.tzWarning=!0,t&&t.error('react-datetime: displayTimeZone prop with value "'+e.displayTimeZone+'" is used but moment.js timezone is not loaded.'))},componentProps:{fromProps:["value","isValidDate","renderDay","renderMonth","renderYear","timeConstraints"],fromState:["viewDate","selectedDate","updateOn"],fromThis:["setDate","setTime","showView","addTime","subtractTime","updateSelectedDate","localMoment","handleClickOutside"]},getComponentProps:function(){var e=this,t=this.getFormats(this.props),n={dateFormat:t.date,timeFormat:t.time};return this.componentProps.fromProps.forEach(function(t){n[t]=e.props[t]}),this.componentProps.fromState.forEach(function(t){n[t]=e.state[t]}),this.componentProps.fromThis.forEach(function(t){n[t]=e[t]}),n},overrideEvent:function(e,t){if(this.overridenEvents||(this.overridenEvents={}),!this.overridenEvents[e]){var n=this;this.overridenEvents[e]=function(r){var o;n.props.inputProps&&n.props.inputProps[e]&&(o=n.props.inputProps[e](r)),!1!==o&&t(r)}}return this.overridenEvents[e]},render:function(){var e="rdt"+(this.props.className?Array.isArray(this.props.className)?" "+this.props.className.join(" "):" "+this.props.className:""),t=[];if(this.props.input){var n=r({type:"text",className:"form-control",value:this.state.inputValue},this.props.inputProps,{onClick:this.overrideEvent("onClick",this.openCalendar),onFocus:this.overrideEvent("onFocus",this.openCalendar),onChange:this.overrideEvent("onChange",this.onInputChange),onKeyDown:this.overrideEvent("onKeyDown",this.onInputKey)});t=this.props.renderInput?[l.createElement("div",{key:"i"},this.props.renderInput(n,this.openCalendar,this.closeCalendar))]:[l.createElement("input",r({key:"i"},n))]}else e+=" rdtStatic";return(this.props.open||void 0===this.props.open&&this.state.open)&&(e+=" rdtOpen"),l.createElement(f,{className:e,onClickOut:this.handleClickOutside},t.concat(l.createElement("div",{key:"dt",className:"rdtPicker"},l.createElement(s,{view:this.state.currentView,viewProps:this.getComponentProps()}))))}}),f=u(a({render:function(){return l.createElement("div",{className:this.props.className},this.props.children)},handleClickOutside:function(e){this.props.onClickOut(e)}}));d.defaultProps={className:"",defaultValue:"",inputProps:{},input:!0,onFocus:function(){},onBlur:function(){},onChange:function(){},onViewModeChange:function(){},onNavigateBack:function(){},onNavigateForward:function(){},timeFormat:!0,timeConstraints:{},dateFormat:!0,strictParsing:!0,closeOnSelect:!1,closeOnTab:!0,utc:!1},d.moment=i,e.exports=d},1283:function(e,t,n){var r;!function(n,o){"use strict";function a(){}a.TO_RAD=Math.PI/180,a.TO_DEG=180/Math.PI,a.PI_X2=2*Math.PI,a.PI_DIV4=Math.PI/4;var i=Object.create(a.prototype,{version:{value:"2.0.23"},radius:{value:6378137},minLat:{value:-90},maxLat:{value:90},minLon:{value:-180},maxLon:{value:180},sexagesimalPattern:{value:/^([0-9]{1,3})\s*([0-9]{1,3}(?:\.(?:[0-9]{1,2}))?)'\s*(([0-9]{1,3}(\.([0-9]{1,4}))?)"\s*)?([NEOSW]?)$/},measures:{value:Object.create(Object.prototype,{m:{value:1},km:{value:.001},cm:{value:100},mm:{value:1e3},mi:{value:1/1609.344},sm:{value:1/1852.216},ft:{value:100/30.48},in:{value:100/2.54},yd:{value:1/.9144}})},prototype:{value:a.prototype},extend:{value:function(e,t){for(var n in e)void 0!==i.prototype[n]&&!0!==t||("function"==typeof e[n]&&"function"==typeof e[n].bind?i.prototype[n]=e[n].bind(i):i.prototype[n]=e[n])}}});void 0===Number.prototype.toRad&&(Number.prototype.toRad=function(){return this*a.TO_RAD}),void 0===Number.prototype.toDeg&&(Number.prototype.toDeg=function(){return this*a.TO_DEG}),i.extend({decimal:{},sexagesimal:{},distance:null,getKeys:function(e){if("[object Array]"==Object.prototype.toString.call(e))return{longitude:e.length>=1?0:void 0,latitude:e.length>=2?1:void 0,elevation:e.length>=3?2:void 0};var t=function(t){var n;return t.every(function(t){return"object"!=typeof e||(!e.hasOwnProperty(t)||(n=t,!1))}),n},n=t(["lng","lon","longitude"]),r=t(["lat","latitude"]),o=t(["alt","altitude","elevation","elev"]);return void 0!==r||void 0!==n||void 0!==o?{latitude:r,longitude:n,elevation:o}:void 0},getLat:function(e,t){return!0===t?e[this.getKeys(e).latitude]:this.useDecimal(e[this.getKeys(e).latitude])},latitude:function(e){return this.getLat.call(this,e)},getLon:function(e,t){return!0===t?e[this.getKeys(e).longitude]:this.useDecimal(e[this.getKeys(e).longitude])},longitude:function(e){return this.getLon.call(this,e)},getElev:function(e){return e[this.getKeys(e).elevation]},elevation:function(e){return this.getElev.call(this,e)},coords:function(e,t){var n={latitude:!0===t?e[this.getKeys(e).latitude]:this.useDecimal(e[this.getKeys(e).latitude]),longitude:!0===t?e[this.getKeys(e).longitude]:this.useDecimal(e[this.getKeys(e).longitude])},r=e[this.getKeys(e).elevation];return void 0!==r&&(n.elevation=r),n},ll:function(e,t){return this.coords.call(this,e,t)},validate:function(e){var t=this.getKeys(e);if(void 0===t||void 0===t.latitude||"undefined"===t.longitude)return!1;var n=e[t.latitude],r=e[t.longitude];return!(void 0===n||!this.isDecimal(n)&&!this.isSexagesimal(n))&&(!(void 0===r||!this.isDecimal(r)&&!this.isSexagesimal(r))&&(n=this.useDecimal(n),r=this.useDecimal(r),!(n<this.minLat||n>this.maxLat||r<this.minLon||r>this.maxLon)))},getDistance:function(e,t,n,r){n=Math.floor(n)||1,r=Math.floor(r)||0;var o,a,l,s,u,c,p,d=this.coords(e),f=this.coords(t),h=6378137,b=6356752.314245,m=1/298.257223563,g=(f.longitude-d.longitude).toRad(),y=Math.atan((1-m)*Math.tan(parseFloat(d.latitude).toRad())),v=Math.atan((1-m)*Math.tan(parseFloat(f.latitude).toRad())),_=Math.sin(y),O=Math.cos(y),S=Math.sin(v),w=Math.cos(v),C=g,x=100;do{var E=Math.sin(C),j=Math.cos(C);if(0===(c=Math.sqrt(w*E*(w*E)+(O*S-_*w*j)*(O*S-_*w*j))))return i.distance=0;o=_*S+O*w*j,a=Math.atan2(c,o),u=o-2*_*S/(s=1-(l=O*w*E/c)*l),isNaN(u)&&(u=0);var k=m/16*s*(4+m*(4-3*s));p=C,C=g+(1-k)*m*l*(a+k*c*(u+k*o*(2*u*u-1)))}while(Math.abs(C-p)>1e-12&&--x>0);if(0===x)return NaN;var T=s*(h*h-b*b)/(b*b),P=T/1024*(256+T*(T*(74-47*T)-128)),M=b*(1+T/16384*(4096+T*(T*(320-175*T)-768)))*(a-P*c*(u+P/4*(o*(2*u*u-1)-P/6*u*(4*c*c-3)*(4*u*u-3))));if(M=M.toFixed(r),void 0!==this.elevation(e)&&void 0!==this.elevation(t)){var R=Math.abs(this.elevation(e)-this.elevation(t));M=Math.sqrt(M*M+R*R)}return this.distance=Math.round(M*Math.pow(10,r)/n)*n/Math.pow(10,r)},getDistanceSimple:function(e,t,n){n=Math.floor(n)||1;var r=Math.round(Math.acos(Math.sin(this.latitude(t).toRad())*Math.sin(this.latitude(e).toRad())+Math.cos(this.latitude(t).toRad())*Math.cos(this.latitude(e).toRad())*Math.cos(this.longitude(e).toRad()-this.longitude(t).toRad()))*this.radius);return i.distance=Math.floor(Math.round(r/n)*n)},getCenter:function(e){var t=e;if("object"==typeof e&&!(e instanceof Array))for(var n in t=[],e)t.push(this.coords(e[n]));if(!t.length)return!1;var r,o,i,l=0,s=0,u=0;t.forEach(function(e){r=this.latitude(e).toRad(),o=this.longitude(e).toRad(),l+=Math.cos(r)*Math.cos(o),s+=Math.cos(r)*Math.sin(o),u+=Math.sin(r)},this);var c=t.length;return l/=c,s/=c,u/=c,o=Math.atan2(s,l),i=Math.sqrt(l*l+s*s),{latitude:((r=Math.atan2(u,i))*a.TO_DEG).toFixed(6),longitude:(o*a.TO_DEG).toFixed(6)}},getBounds:function(e){if(!e.length)return!1;var t=this.elevation(e[0]),n={maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0};void 0!==t&&(n.maxElev=0,n.minElev=1/0);for(var r=0,o=e.length;r<o;++r)n.maxLat=Math.max(this.latitude(e[r]),n.maxLat),n.minLat=Math.min(this.latitude(e[r]),n.minLat),n.maxLng=Math.max(this.longitude(e[r]),n.maxLng),n.minLng=Math.min(this.longitude(e[r]),n.minLng),t&&(n.maxElev=Math.max(this.elevation(e[r]),n.maxElev),n.minElev=Math.min(this.elevation(e[r]),n.minElev));return n},getCenterOfBounds:function(e){var t=this.getBounds(e),n=t.minLat+(t.maxLat-t.minLat)/2,r=t.minLng+(t.maxLng-t.minLng)/2;return{latitude:parseFloat(n.toFixed(6)),longitude:parseFloat(r.toFixed(6))}},getBoundsOfDistance:function(e,t){var n,r,o=this.latitude(e),i=this.longitude(e),l=o.toRad(),s=i.toRad(),u=t/this.radius,c=l-u,p=l+u,d=this.maxLat.toRad(),f=this.minLat.toRad(),h=this.maxLon.toRad(),b=this.minLon.toRad();if(c>f&&p<d){var m=Math.asin(Math.sin(u)/Math.cos(l));(n=s-m)<b&&(n+=a.PI_X2),(r=s+m)>h&&(r-=a.PI_X2)}else c=Math.max(c,f),p=Math.min(p,d),n=b,r=h;return[{latitude:c.toDeg(),longitude:n.toDeg()},{latitude:p.toDeg(),longitude:r.toDeg()}]},isPointInside:function(e,t){for(var n=!1,r=-1,o=t.length,a=o-1;++r<o;a=r)(this.longitude(t[r])<=this.longitude(e)&&this.longitude(e)<this.longitude(t[a])||this.longitude(t[a])<=this.longitude(e)&&this.longitude(e)<this.longitude(t[r]))&&this.latitude(e)<(this.latitude(t[a])-this.latitude(t[r]))*(this.longitude(e)-this.longitude(t[r]))/(this.longitude(t[a])-this.longitude(t[r]))+this.latitude(t[r])&&(n=!n);return n},preparePolygonForIsPointInsideOptimized:function(e){for(var t=0,n=e.length-1;t<e.length;t++)this.longitude(e[n])===this.longitude(e[t])?(e[t].constant=this.latitude(e[t]),e[t].multiple=0):(e[t].constant=this.latitude(e[t])-this.longitude(e[t])*this.latitude(e[n])/(this.longitude(e[n])-this.longitude(e[t]))+this.longitude(e[t])*this.latitude(e[t])/(this.longitude(e[n])-this.longitude(e[t])),e[t].multiple=(this.latitude(e[n])-this.latitude(e[t]))/(this.longitude(e[n])-this.longitude(e[t]))),n=t},isPointInsideWithPreparedPolygon:function(e,t){for(var n=!1,r=this.longitude(e),o=this.latitude(e),a=0,i=t.length-1;a<t.length;a++)(this.longitude(t[a])<r&&this.longitude(t[i])>=r||this.longitude(t[i])<r&&this.longitude(t[a])>=r)&&(n^=r*t[a].multiple+t[a].constant<o),i=a;return n},isInside:function(){return this.isPointInside.apply(this,arguments)},isPointInCircle:function(e,t,n){return this.getDistance(e,t)<n},withinRadius:function(){return this.isPointInCircle.apply(this,arguments)},getRhumbLineBearing:function(e,t){var n=this.longitude(t).toRad()-this.longitude(e).toRad(),r=Math.log(Math.tan(this.latitude(t).toRad()/2+a.PI_DIV4)/Math.tan(this.latitude(e).toRad()/2+a.PI_DIV4));return Math.abs(n)>Math.PI&&(n=n>0?-1*(a.PI_X2-n):a.PI_X2+n),(Math.atan2(n,r).toDeg()+360)%360},getBearing:function(e,t){return t.latitude=this.latitude(t),t.longitude=this.longitude(t),e.latitude=this.latitude(e),e.longitude=this.longitude(e),(Math.atan2(Math.sin(t.longitude.toRad()-e.longitude.toRad())*Math.cos(t.latitude.toRad()),Math.cos(e.latitude.toRad())*Math.sin(t.latitude.toRad())-Math.sin(e.latitude.toRad())*Math.cos(t.latitude.toRad())*Math.cos(t.longitude.toRad()-e.longitude.toRad())).toDeg()+360)%360},getCompassDirection:function(e,t,n){var r,o;switch(o="circle"==n?this.getBearing(e,t):this.getRhumbLineBearing(e,t),Math.round(o/22.5)){case 1:r={exact:"NNE",rough:"N"};break;case 2:r={exact:"NE",rough:"N"};break;case 3:r={exact:"ENE",rough:"E"};break;case 4:r={exact:"E",rough:"E"};break;case 5:r={exact:"ESE",rough:"E"};break;case 6:r={exact:"SE",rough:"E"};break;case 7:r={exact:"SSE",rough:"S"};break;case 8:r={exact:"S",rough:"S"};break;case 9:r={exact:"SSW",rough:"S"};break;case 10:r={exact:"SW",rough:"S"};break;case 11:r={exact:"WSW",rough:"W"};break;case 12:r={exact:"W",rough:"W"};break;case 13:r={exact:"WNW",rough:"W"};break;case 14:r={exact:"NW",rough:"W"};break;case 15:r={exact:"NNW",rough:"N"};break;default:r={exact:"N",rough:"N"}}return r.bearing=o,r},getDirection:function(e,t,n){return this.getCompassDirection.apply(this,arguments)},orderByDistance:function(e,t){return Object.keys(t).map(function(n){var r=this.getDistance(e,t[n]),o=Object.create(t[n]);return o.distance=r,o.key=n,o},this).sort(function(e,t){return e.distance-t.distance})},isPointInLine:function(e,t,n){return(this.getDistance(t,e,1,3)+this.getDistance(e,n,1,3)).toFixed(3)==this.getDistance(t,n,1,3)},isPointNearLine:function(e,t,n,r){return this.getDistanceFromLine(e,t,n)<r},getDistanceFromLine:function(e,t,n){var r=this.getDistance(t,e,1,3),o=this.getDistance(e,n,1,3),a=this.getDistance(t,n,1,3),i=Math.acos((r*r+a*a-o*o)/(2*r*a)),l=Math.acos((o*o+a*a-r*r)/(2*o*a));return i>Math.PI/2?r:l>Math.PI/2?o:Math.sin(i)*r},findNearest:function(e,t,n,r){n=n||0,r=r||1;var o=this.orderByDistance(e,t);return 1===r?o[n]:o.splice(n,r)},getPathLength:function(e){for(var t,n=0,r=0,o=e.length;r<o;++r)t&&(n+=this.getDistance(this.coords(e[r]),t)),t=this.coords(e[r]);return n},getSpeed:function(e,t,n){var r=n&&n.unit||"km";"mph"==r?r="mi":"kmh"==r&&(r="km");var o=i.getDistance(e,t)/(1*t.time/1e3-1*e.time/1e3)*3600;return Math.round(o*this.measures[r]*1e4)/1e4},computeDestinationPoint:function(e,t,n,r){var o=this.latitude(e),a=this.longitude(e);r=void 0===r?this.radius:Number(r);var i=Number(t)/r,l=Number(n).toRad(),s=Number(o).toRad(),u=Number(a).toRad(),c=Math.asin(Math.sin(s)*Math.cos(i)+Math.cos(s)*Math.sin(i)*Math.cos(l)),p=u+Math.atan2(Math.sin(l)*Math.sin(i)*Math.cos(s),Math.cos(i)-Math.sin(s)*Math.sin(c));return p=(p+3*Math.PI)%(2*Math.PI)-Math.PI,{latitude:c.toDeg(),longitude:p.toDeg()}},convertUnit:function(e,t,n){if(0===t)return 0;if(void 0===t){if(null===this.distance)throw new Error("No distance was given");if(0===this.distance)return 0;t=this.distance}if(e=e||"m",n=null==n?4:n,void 0!==this.measures[e])return this.round(t*this.measures[e],n);throw new Error("Unknown unit for conversion.")},useDecimal:function(e){if("[object Array]"===Object.prototype.toString.call(e)){var t=this;return e=e.map(function(e){if(t.isDecimal(e))return t.useDecimal(e);if("object"==typeof e){if(t.validate(e))return t.coords(e);for(var n in e)e[n]=t.useDecimal(e[n]);return e}return t.isSexagesimal(e)?t.sexagesimal2decimal(e):e})}if("object"==typeof e&&this.validate(e))return this.coords(e);if("object"==typeof e){for(var n in e)e[n]=this.useDecimal(e[n]);return e}if(this.isDecimal(e))return parseFloat(e);if(!0===this.isSexagesimal(e))return parseFloat(this.sexagesimal2decimal(e));throw new Error("Unknown format.")},decimal2sexagesimal:function(e){if(e in this.sexagesimal)return this.sexagesimal[e];var t=e.toString().split("."),n=Math.abs(t[0]),r=60*("0."+(t[1]||0)),o=r.toString().split(".");return r=Math.floor(r),o=(60*("0."+(o[1]||0))).toFixed(2),this.sexagesimal[e]=n+" "+r+"' "+o+'"',this.sexagesimal[e]},sexagesimal2decimal:function(e){if(e in this.decimal)return this.decimal[e];var t=new RegExp(this.sexagesimalPattern).exec(e),n=0,r=0;t&&(n=parseFloat(t[2]/60),r=parseFloat(t[4]/3600)||0);var o=(parseFloat(t[1])+n+r).toFixed(8);return o="S"==t[7]||"W"==t[7]?parseFloat(-o):parseFloat(o),this.decimal[e]=o,o},isDecimal:function(e){return e=e.toString().replace(/\s*/,""),!isNaN(parseFloat(e))&&parseFloat(e)==e},isSexagesimal:function(e){return e=e.toString().replace(/\s*/,""),this.sexagesimalPattern.test(e)},round:function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}}),void 0!==e.exports?(e.exports=i,"object"==typeof n&&(n.geolib=i)):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}(this)},1298:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),o=n.n(r),a=n(1299),i=n.n(a);n(1424),n(1423);function l(e){return o.a.createElement("span",{className:"BootstrapSliderWrapper"},o.a.createElement(i.a,e))}},1300:function(e,t,n){var r=n(961);e.exports=function(e){return"function"==typeof e?e:r}},1301:function(e,t,n){var r=n(1057),o=n(1430)(r);e.exports=o},1302:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},1303:function(e,t,n){var r=n(1056),o=n(277),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];a.call(e,t)&&o(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},1304:function(e,t,n){var r=n(423),o=n(1055),a=n(420),i=n(430),l=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=o(e);return t}:i;e.exports=l},1305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=i(n(1)),o=i(n(124)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1459));function i(e){return e&&e.__esModule?e:{default:e}}var l=t.Checkboard=function(e){var t=e.white,n=e.grey,i=e.size,l=e.renderers,s=e.borderRadius,u=e.boxShadow,c=(0,o.default)({default:{grid:{borderRadius:s,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+a.get(t,n,i,l.canvas)+") center left"}}});return r.default.createElement("div",{style:c.grid})};l.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=l},1306:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=u(a),l=u(n(955)),s=u(n(443));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(s.default.simpleCheckForValidColor(e)){var r=s.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(s.default.simpleCheckForValidColor(e)){var r=s.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r({},s.default.toState(e.color,0)),t.debounce=(0,l.default)(function(e,t,n){e(t,n)},100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.PureComponent||a.Component),o(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(r({},s.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),i.default.createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}();return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=c},1307:function(e,t,n){"use strict";n.r(t),n.d(t,"red",function(){return r}),n.d(t,"pink",function(){return o}),n.d(t,"purple",function(){return a}),n.d(t,"deepPurple",function(){return i}),n.d(t,"indigo",function(){return l}),n.d(t,"blue",function(){return s}),n.d(t,"lightBlue",function(){return u}),n.d(t,"cyan",function(){return c}),n.d(t,"teal",function(){return p}),n.d(t,"green",function(){return d}),n.d(t,"lightGreen",function(){return f}),n.d(t,"lime",function(){return h}),n.d(t,"yellow",function(){return b}),n.d(t,"amber",function(){return m}),n.d(t,"orange",function(){return g}),n.d(t,"deepOrange",function(){return y}),n.d(t,"brown",function(){return v}),n.d(t,"grey",function(){return _}),n.d(t,"blueGrey",function(){return O}),n.d(t,"darkText",function(){return S}),n.d(t,"lightText",function(){return w}),n.d(t,"darkIcons",function(){return C}),n.d(t,"lightIcons",function(){return x}),n.d(t,"white",function(){return E}),n.d(t,"black",function(){return j});var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},o={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},a={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},i={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},l={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},s={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},u={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},c={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},p={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},d={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},f={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},h={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},b={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},m={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},y={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},v={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},O={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},S={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},w={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},C={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},x={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},E="#ffffff",j="#000000";t.default={red:r,pink:o,purple:a,deepPurple:i,indigo:l,blue:s,lightBlue:u,cyan:c,teal:p,green:d,lightGreen:f,lime:h,yellow:b,amber:m,orange:g,deepOrange:y,brown:v,grey:_,blueGrey:O,darkText:S,lightText:w,darkIcons:C,lightIcons:x,white:E,black:j}},1368:function(e,t,n){"use strict";var r=Object.prototype.propertyIsEnumerable;function o(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter(function(t){return r.call(e,t)})}e.exports=Object.assign||function(e,t){for(var n,r,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){n=arguments[i],r=o(Object(n));for(var l=0;l<r.length;l++)a[r[l]]=n[r[l]]}return a}},1370:function(e,t,n){"use strict";n.d(t,"a",function(){return F});var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(9),s=n(1282),u=n.n(s),c=(n(1921),n(20)),p=n.n(c),d=n(33),f=(n(1922),n(120)),h=n(413);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){y(e,t,n[t])})}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var C=Object.freeze({DEFAULTS:"defaults",CUSTOM_START_END:"custom_start_end",CUSTOM_RANGE:"custom_range"}),x=Object.freeze({DEFAULTS:"defaults",CUSTOM:"custom"}),E=Object.freeze({LAST:"Last",NEXT:"Next"}),j=["Last day","Last week","Last month","Last quarter","Last year","No filter"],k=["seconds","minutes","hours","days","weeks","months","years"],T="YYYY-MM-DD[T]HH:mm:ss",P=p()().startOf("day").subtract(7,"days").format(T),M=p()().startOf("day").format(T),R=" : ",A=Object(d.b)("Superset supports smart date parsing. Strings like `last sunday` or `last october` can be used."),I={animation:i.a.bool,name:i.a.string.isRequired,label:i.a.string,description:i.a.string,onChange:i.a.func,value:i.a.string,height:i.a.number},D={animation:!0,onChange:function(){},value:"Last week"};function N(e){return e===p()(e,T).format(T)}function L(e){var t=e.split(" ")[1]+"s";return{tab:x.DEFAULTS,type:C.DEFAULTS,common:e,since:p()().startOf("day").subtract(1,t).format(T),until:p()().startOf("day").format(T)}}function z(e){var t,n,r=w(e.split(" ",3),3),o=r[0],a=r[1],i=r[2];return o===E.LAST?(n=p()().startOf("day").format(T),t=p()().startOf("day").subtract(a,i).format(T)):(n=p()().startOf("day").add(a,i).format(T),t=p()().startOf("day").format(T)),{tab:x.CUSTOM,type:C.CUSTOM_RANGE,common:null,rel:o,num:a,grain:i,since:t,until:n}}var F=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=_(t).call(this,e))||"object"!==b(o)&&"function"!=typeof o?S(r):o).state={type:C.DEFAULTS,tab:x.DEFAULTS,common:j[0],rel:E.LAST,num:"7",grain:k[3],since:P,until:M,showSinceCalendar:!1,showUntilCalendar:!1,sinceViewMode:"days",untilViewMode:"days"};var a=e.value;return a.indexOf(R)>=0?n.state=g({},n.state,function(e){var t=w(e.split(R,2),2);return{since:t[0],until:t[1],type:C.CUSTOM_START_END,tab:x.CUSTOM}}(a)):j.indexOf(a)>=0?n.state=g({},n.state,L(a)):n.state=g({},n.state,z(a)),n.close=n.close.bind(S(S(n))),n.handleClick=n.handleClick.bind(S(S(n))),n.isValidSince=n.isValidSince.bind(S(S(n))),n.isValidUntil=n.isValidUntil.bind(S(S(n))),n.onEnter=n.onEnter.bind(S(S(n))),n.renderInput=n.renderInput.bind(S(S(n))),n.setCustomRange=n.setCustomRange.bind(S(S(n))),n.setCustomStartEnd=n.setCustomStartEnd.bind(S(S(n))),n.setTypeCustomRange=n.setTypeCustomRange.bind(S(S(n))),n.setTypeCustomStartEnd=n.setTypeCustomStartEnd.bind(S(S(n))),n.toggleCalendar=n.toggleCalendar.bind(S(S(n))),n.changeTab=n.changeTab.bind(S(S(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"onEnter",value:function(e){"Enter"===e.key&&this.close()}},{key:"setCustomRange",value:function(e,t){var n=g({},this.state,y({},e,t)),r=[n.rel,n.num,n.grain].join(" ");this.setState(z(r))}},{key:"setCustomStartEnd",value:function(e,t){var n,r="since"===e&&"days"===this.state.sinceViewMode||"until"===e&&"days"===this.state.untilViewMode;this.setState((y(n={type:C.CUSTOM_START_END},e,"string"==typeof t?t:t.format(T)),y(n,"showSinceCalendar",this.state.showSinceCalendar&&!r),y(n,"showUntilCalendar",this.state.showUntilCalendar&&!r),y(n,"sinceViewMode",r?"days":this.state.sinceViewMode),y(n,"untilViewMode",r?"days":this.state.untilViewMode),n))}},{key:"setTypeCustomRange",value:function(){this.setState({type:C.CUSTOM_RANGE})}},{key:"setTypeCustomStartEnd",value:function(){this.setState({type:C.CUSTOM_START_END})}},{key:"changeTab",value:function(){var e=this.state.tab;e===x.CUSTOM?this.setState({tab:x.DEFAULTS}):e===x.DEFAULTS&&this.setState({tab:x.CUSTOM})}},{key:"handleClick",value:function(e){this.startEndSectionRef&&this.startEndSectionRef.contains(e.target)&&this.setTypeCustomStartEnd()}},{key:"close",value:function(){var e;e=this.state.type===C.DEFAULTS||this.state.tab===x.DEFAULTS?this.state.common:this.state.type===C.CUSTOM_RANGE?"".concat(this.state.rel," ").concat(this.state.num," ").concat(this.state.grain):[this.state.since,this.state.until].join(R),this.props.onChange(e),this.refs.trigger.hide(),this.setState({showSinceCalendar:!1,showUntilCalendar:!1})}},{key:"isValidSince",value:function(e){return!N(this.state.until)||e<=p()(this.state.until,T)}},{key:"isValidUntil",value:function(e){return!N(this.state.since)||e>=p()(this.state.since,T)}},{key:"toggleCalendar",value:function(e){var t={};"showSinceCalendar"===e?(t.showSinceCalendar=!this.state.showSinceCalendar,this.state.showSinceCalendar||(t.showUntilCalendar=!1)):"showUntilCalendar"===e&&(t.showUntilCalendar=!this.state.showUntilCalendar,this.state.showUntilCalendar||(t.showSinceCalendar=!1)),this.setState(t)}},{key:"renderInput",value:function(e,t){var n=this;return o.a.createElement(l.FormGroup,null,o.a.createElement(l.InputGroup,null,o.a.createElement(l.FormControl,m({},e,{type:"text",onKeyPress:this.onEnter,onFocus:this.setTypeCustomStartEnd,onClick:function(){}})),o.a.createElement(l.InputGroup.Button,{onClick:function(){return n.toggleCalendar(t)}},o.a.createElement(l.Button,null,o.a.createElement(l.Glyphicon,{glyph:"calendar",style:{padding:3}})))))}},{key:"renderPopover",value:function(){var e=this,t=k.map(function(t){return o.a.createElement(l.MenuItem,{onSelect:function(t){return e.setCustomRange("grain",t)},key:t,eventKey:t,active:t===e.state.grain},t)}),n=j.map(function(t){return o.a.createElement(l.Radio,{key:t.replace(" ","").toLowerCase(),checked:e.state.common===t,onChange:function(){return e.setState(L(t))}},t)});return o.a.createElement(l.Popover,{id:"filter-popover",placement:"top",positionTop:0},o.a.createElement("div",{style:{width:"250px"}},o.a.createElement(l.Tabs,{defaultActiveKey:this.state.tab===x.DEFAULTS?1:2,id:"type",className:"time-filter-tabs",onSelect:this.changeTab},o.a.createElement(l.Tab,{eventKey:1,title:"Defaults"},o.a.createElement(l.FormGroup,null,n)),o.a.createElement(l.Tab,{eventKey:2,title:"Custom"},o.a.createElement(l.FormGroup,null,o.a.createElement(h.a,{title:"Relative to today",isSelected:this.state.type===C.CUSTOM_RANGE,onSelect:this.setTypeCustomRange},o.a.createElement("div",{className:"clearfix centered",style:{marginTop:"12px"}},o.a.createElement("div",{style:{width:"60px",marginTop:"-4px"},className:"input-inline"},o.a.createElement(l.DropdownButton,{bsSize:"small",componentClass:l.InputGroup.Button,id:"input-dropdown-rel",title:this.state.rel,onFocus:this.setTypeCustomRange},o.a.createElement(l.MenuItem,{onSelect:function(t){return e.setCustomRange("rel",t)},key:E.LAST,eventKey:E.LAST,active:this.state.rel===E.LAST},"Last"),o.a.createElement(l.MenuItem,{onSelect:function(t){return e.setCustomRange("rel",t)},key:E.NEXT,eventKey:E.NEXT,active:this.state.rel===E.NEXT},"Next"))),o.a.createElement("div",{style:{width:"60px",marginTop:"-4px"},className:"input-inline"},o.a.createElement(l.FormControl,{bsSize:"small",type:"text",onChange:function(t){return e.setCustomRange("num",t.target.value)},onFocus:this.setTypeCustomRange,onKeyPress:this.onEnter,value:this.state.num,style:{height:"30px"}})),o.a.createElement("div",{style:{width:"90px",marginTop:"-4px"},className:"input-inline"},o.a.createElement(l.DropdownButton,{bsSize:"small",componentClass:l.InputGroup.Button,id:"input-dropdown-grain",title:this.state.grain,onFocus:this.setTypeCustomRange},t)))),o.a.createElement(h.a,{title:"Start / end",isSelected:this.state.type===C.CUSTOM_START_END,onSelect:this.setTypeCustomStartEnd,info:A},o.a.createElement("div",{ref:function(t){e.startEndSectionRef=t}},o.a.createElement(l.InputGroup,null,o.a.createElement("div",{style:{margin:"5px 0"}},o.a.createElement(u.a,{value:this.state.since,defaultValue:this.state.since,viewDate:this.state.since,onChange:function(t){return e.setCustomStartEnd("since",t)},isValidDate:this.isValidSince,onClick:this.setTypeCustomStartEnd,renderInput:function(t){return e.renderInput(t,"showSinceCalendar")},open:this.state.showSinceCalendar,viewMode:this.state.sinceViewMode,onViewModeChange:function(t){return e.setState({sinceViewMode:t})}})),o.a.createElement("div",{style:{margin:"5px 0"}},o.a.createElement(u.a,{value:this.state.until,defaultValue:this.state.until,viewDate:this.state.until,onChange:function(t){return e.setCustomStartEnd("until",t)},isValidDate:this.isValidUntil,onClick:this.setTypeCustomStartEnd,renderInput:function(t){return e.renderInput(t,"showUntilCalendar")},open:this.state.showUntilCalendar,viewMode:this.state.untilViewMode,onViewModeChange:function(t){return e.setState({untilViewMode:t})}})))))))),o.a.createElement("div",{className:"clearfix"},o.a.createElement(l.Button,{bsSize:"small",className:"float-right ok",bsStyle:"primary",onClick:this.close},"Ok"))))}},{key:"render",value:function(){var e=this.props.value||D.value;return e=e.split(R).map(function(e,t){return e.replace("T00:00:00","")||(0===t?"-":"")}).join(R),o.a.createElement("div",null,o.a.createElement(f.a,this.props),o.a.createElement(l.OverlayTrigger,{animation:this.props.animation,container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},o.a.createElement(l.Label,{style:{cursor:"pointer"}},e)))}}])&&v(n.prototype,r),a&&v(n,a),t}();F.propTypes=I,F.defaultProps=D},1372:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=12,s={controls:i.a.arrayOf(i.a.object).isRequired};function u(e){var t=l/e.controls.length;return o.a.createElement("div",{className:"row space-1"},e.controls.map(function(e,n){return o.a.createElement("div",{className:"col-lg-".concat(t," col-xs-12"),key:n},e)}))}u.propTypes=s,t.a=u},1375:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.default=function(){return r.createElement("div",null,"test filter")}},1377:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=(n(1425),n(9)),s=n(62),u=n(33),c=n(165),p=n(95),d=n(115),f=n(1213),h=n(1369),b=n.n(h),m=n(144),g=n(282),y=n(377),v=n(218),_=n.n(v),O=n(173),S=n(120),w=n(403),C=n(404);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var M={choices:i.a.array,clearable:i.a.bool,description:i.a.string,disabled:i.a.bool,freeForm:i.a.bool,isLoading:i.a.bool,label:i.a.string,multi:i.a.bool,allowAll:i.a.bool,name:i.a.string.isRequired,onChange:i.a.func,onFocus:i.a.func,value:i.a.oneOfType([i.a.string,i.a.number,i.a.array]),showHeader:i.a.bool,optionRenderer:i.a.func,valueRenderer:i.a.func,valueKey:i.a.string,options:i.a.array,placeholder:i.a.string,noResultsText:i.a.string,refFunc:i.a.func,filterOption:i.a.func,promptTextCreator:i.a.func,commaChoosesOption:i.a.bool},R={choices:[],clearable:!0,description:null,disabled:!1,freeForm:!1,isLoading:!1,label:null,multi:!1,onChange:function(){},onFocus:function(){},showHeader:!0,optionRenderer:function(e){return e.label},valueRenderer:function(e){return e.label},valueKey:"value",noResultsText:Object(u.b)("No results found"),promptTextCreator:function(e){return"Create Option ".concat(e)},commaChoosesOption:!0,allowAll:!1},A=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=k(t).call(this,e))||"object"!==x(o)&&"function"!=typeof o?P(r):o).state={options:n.getOptions(e)},n.onChange=n.onChange.bind(P(P(n))),n.createMetaSelectAllOption=n.createMetaSelectAllOption.bind(P(P(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){if(e.choices!==this.props.choices||e.options!==this.props.options){var t=this.getOptions(e);this.setState({options:t})}}},{key:"onChange",value:function(e){var t=this,n=null;if(e)if(this.props.multi){n=[];var r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value;if(!0===s.meta){n=this.getOptions(this.props).filter(function(e){return!e.meta}).map(function(e){return e[t.props.valueKey]});break}n.push(s[this.props.valueKey])}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}else{if(!0===e.meta)return;n=e[this.props.valueKey]}this.props.onChange(n)}},{key:"getOptions",value:function(e){var t=this,n=[];if(n=e.options?e.options.map(function(e){return e}):e.choices.map(function(t){var n;Array.isArray(t)?(n={label:t.length>1?t[1]:t[0]})[e.valueKey]=t[0]:Object.is(t)?n=t:(n={label:t})[e.valueKey]=t;return n}),e.freeForm){var r=n.map(function(t){return t[e.valueKey]});if(e.value){var o=e.value;Array.isArray(o)||(o=[o]),o.forEach(function(t){if(r.indexOf(t)<0){var o={label:t};o[e.valueKey]=t,n.push(o)}})}}return!0===e.allowAll&&!0===e.multi?n.findIndex(function(e){return t.isMetaSelectAllOption(e)})<0&&n.unshift(this.createMetaSelectAllOption()):n=n.filter(function(e){return!t.isMetaSelectAllOption(e)}),n}},{key:"isMetaSelectAllOption",value:function(e){return e.meta&&!0===e.meta&&"Select All"===e.label}},{key:"createMetaSelectAllOption",value:function(){var e={label:"Select All",meta:!0};return e[this.props.valueKey]="Select All",e}},{key:"render",value:function(){var e=this,t=this.props.placeholder||Object(u.b)("%s option(s)",this.state.options.length),n={multi:this.props.multi,name:"select-".concat(this.props.name),placeholder:t,options:this.state.options,value:this.props.value,labelKey:"label",valueKey:this.props.valueKey,autosize:!1,clearable:this.props.clearable,isLoading:this.props.isLoading,onChange:this.onChange,onFocus:this.props.onFocus,optionRenderer:Object(w.a)(this.props.optionRenderer),valueRenderer:this.props.valueRenderer,noResultsText:this.props.noResultsText,disabled:this.props.disabled,refFunc:this.props.refFunc,filterOption:this.props.filterOption,promptTextCreator:this.props.promptTextCreator};return this.props.freeForm?(n.selectComponent=O.Creatable,n.shouldKeyDownEventCreateNewOption=function(t){var n=t.keyCode;return!(!e.props.commaChoosesOption||188!==n)||(9===n||13===n)}):n.selectComponent=O.default,o.a.createElement("div",null,this.props.showHeader&&o.a.createElement(S.a,this.props),o.a.createElement(C.a,E({},n,{selectWrap:_.a})))}}])&&j(n.prototype,r),a&&j(n,a),t}();A.propTypes=M,A.defaultProps=R;var I=n(37);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var B={onChange:i.a.func,onFocus:i.a.func,value:i.a.oneOfType([i.a.string,i.a.number]),isFloat:i.a.bool,isInt:i.a.bool,disabled:i.a.bool},H=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=L(t).call(this,e))||"object"!==D(o)&&"function"!=typeof o?F(r):o).onChange=n.onChange.bind(F(F(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,o.a.Component),n=t,(r=[{key:"onChange",value:function(e){var t=e.target.value,n=[];if(""!==t&&this.props.isFloat){var r=I.c(t);r?n.push(r):t=parseFloat(t)}if(""!==t&&this.props.isInt){var o=I.a(t);o?n.push(o):t=parseInt(t,10)}this.props.onChange(t,n)}},{key:"render",value:function(){var e=this.props.value,t=null!=e?e.toString():"";return o.a.createElement("div",null,o.a.createElement(S.a,this.props),o.a.createElement(l.FormGroup,{controlId:"formInlineName",bsSize:"small"},o.a.createElement(l.FormControl,{type:"text",placeholder:"",onChange:this.onChange,onFocus:this.props.onFocus,value:t,disabled:this.props.disabled})))}}])&&N(n.prototype,r),a&&N(n,a),t}();H.propTypes=B,H.defaultProps={onChange:function(){},onFocus:function(){},value:"",isInt:!1,isFloat:!1,disabled:!1};var q=n(1076);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y={value:i.a.bool,label:i.a.string,onChange:i.a.func},$={paddingRight:"5px"},X=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),V(this,K(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,o.a.Component),n=t,(r=[{key:"onChange",value:function(){this.props.onChange(!this.props.value)}},{key:"renderCheckbox",value:function(){return o.a.createElement(q.a,{onChange:this.onChange.bind(this),style:$,checked:!!this.props.value})}},{key:"render",value:function(){return this.props.label?o.a.createElement(S.a,W({},this.props,{leftNode:this.renderCheckbox()})):this.renderCheckbox()}}])&&G(n.prototype,r),a&&G(n,a),t}();X.propTypes=Y,X.defaultProps={value:!1,onChange:function(){}};var Z=n(170),J=n(413);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ne(e,t,n[t])})}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var le="",se={name:i.a.string,annotationType:i.a.string,sourceType:i.a.string,color:i.a.string,opacity:i.a.string,style:i.a.string,width:i.a.number,showMarkers:i.a.bool,hideLine:i.a.bool,value:i.a.oneOfType([i.a.string,i.a.number]),overrides:i.a.object,show:i.a.bool,titleColumn:i.a.string,descriptionColumns:i.a.arrayOf(i.a.string),timeColumn:i.a.string,intervalEndColumn:i.a.string,vizType:i.a.string,error:i.a.string,colorScheme:i.a.string,addAnnotationLayer:i.a.func,removeAnnotationLayer:i.a.func,close:i.a.func},ue={name:"",annotationType:Z.d,sourceType:"",color:le,opacity:"",style:"solid",width:1,showMarkers:!1,hideLine:!1,overrides:{},colorScheme:"d3Category10",show:!0,titleColumn:"",descriptionColumns:[],timeColumn:"",intervalEndColumn:"",addAnnotationLayer:function(){},removeAnnotationLayer:function(){},close:function(){}},ce=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=oe(t).call(this,e))||"object"!==ee(o)&&"function"!=typeof o?ie(r):o;var a=e.name,i=e.annotationType,l=e.sourceType,s=e.color,u=e.opacity,c=e.style,p=e.width,d=e.showMarkers,f=e.hideLine,h=e.value,b=e.overrides,m=e.show,g=e.titleColumn,y=e.descriptionColumns,v=e.timeColumn,_=e.intervalEndColumn,O=Object.keys(b);return(O.includes("since")||O.includes("until"))&&(b.time_range=null,delete b.since,delete b.until),n.state={name:a,oldName:n.props.name?a:null,annotationType:i,sourceType:l,value:h,overrides:b,show:m,titleColumn:g,descriptionColumns:y,timeColumn:v,intervalEndColumn:_,color:s||le,opacity:u,style:c,width:p,showMarkers:d,hideLine:f,isNew:!n.props.name,isLoadingOptions:!0,valueOptions:[],validationErrors:{}},n.submitAnnotation=n.submitAnnotation.bind(ie(ie(n))),n.deleteAnnotation=n.deleteAnnotation.bind(ie(ie(n))),n.applyAnnotation=n.applyAnnotation.bind(ie(ie(n))),n.fetchOptions=n.fetchOptions.bind(ie(ie(n))),n.handleAnnotationType=n.handleAnnotationType.bind(ie(ie(n))),n.handleAnnotationSourceType=n.handleAnnotationSourceType.bind(ie(ie(n))),n.handleValue=n.handleValue.bind(ie(ie(n))),n.isValidForm=n.isValidForm.bind(ie(ie(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.state,t=e.annotationType,n=e.sourceType,r=e.isLoadingOptions;this.fetchOptions(t,n,r)}},{key:"componentDidUpdate",value:function(e,t){t.sourceType!==this.state.sourceType&&this.fetchOptions(this.state.annotationType,this.state.sourceType,!0)}},{key:"getSupportedSourceTypes",value:function(e){var t=Object(y.a)().entries().filter(function(t){return t.value.canBeAnnotationType(e)}).map(function(e){return{value:e.key,label:e.value.name}});return Z.c[e].supportNativeSource&&t.unshift(Z.b.NATIVE),t}},{key:"isValidFormula",value:function(e,t){if(t===Z.e.FORMULA)try{b.a.parse(e).compile().eval({x:0})}catch(e){return!0}return!1}},{key:"isValidForm",value:function(){var e=this.state,t=e.name,n=e.annotationType,r=e.sourceType,o=e.value,a=e.timeColumn,i=e.intervalEndColumn,l=[Object(I.b)(t),Object(I.b)(n),Object(I.b)(o)];return r!==Z.a.NATIVE&&(n===Z.e.EVENT&&l.push(Object(I.b)(a)),n===Z.e.INTERVAL&&(l.push(Object(I.b)(a)),l.push(Object(I.b)(i)))),l.push(this.isValidFormula(o,n)),!l.filter(function(e){return e}).length}},{key:"handleAnnotationType",value:function(e){this.setState({annotationType:e,sourceType:null,validationErrors:{},value:null})}},{key:"handleAnnotationSourceType",value:function(e){this.setState({sourceType:e,isLoadingOptions:!0,validationErrors:{},value:null})}},{key:"handleValue",value:function(e){this.setState({value:e,descriptionColumns:null,intervalEndColumn:null,timeColumn:null,titleColumn:null,overrides:{time_range:null}})}},{key:"fetchOptions",value:function(e,t,n){var r=this;!0===n&&(t===Z.a.NATIVE?m.a.get({endpoint:"/annotationlayermodelview/api/read?"}).then(function(e){var t=e.json,n=t?t.result.map(function(e){return{value:e.id,label:e.name}}):[];r.setState({isLoadingOptions:!1,valueOptions:n})}):Object(Z.f)(t)?m.a.get({endpoint:"/superset/user_slices"}).then(function(t){var n=t.json,o=Object(y.a)();r.setState({isLoadingOptions:!1,valueOptions:n.filter(function(t){var n=o.get(t.viz_type);return n&&n.canBeAnnotationType(e)}).map(function(e){return{value:e.id,label:e.title,slice:e}})})}):this.setState({isLoadingOptions:!1,valueOptions:[]}))}},{key:"deleteAnnotation",value:function(){this.props.close(),this.state.isNew||this.props.removeAnnotationLayer(this.state)}},{key:"applyAnnotation",value:function(){var e=this;if(this.state.name.length){var t={};Object.keys(this.state).forEach(function(n){null!==e.state[n]&&(t[n]=e.state[n])}),delete t.isNew,delete t.valueOptions,delete t.isLoadingOptions,delete t.validationErrors,t.color=t.color===le?null:t.color,this.props.addAnnotationLayer(t),this.setState({isNew:!1,oldName:this.state.name})}}},{key:"submitAnnotation",value:function(){this.applyAnnotation(),this.props.close()}},{key:"renderValueConfiguration",value:function(){var e=this.state,t=e.annotationType,n=e.sourceType,r=e.value,a=e.valueOptions,i=e.isLoadingOptions,l="",s="";return Object(Z.f)(n)?n===Z.a.NATIVE?(l="Annotation Layer",s="Select the Annotation Layer you would like to use."):(l=l=Object(u.b)("Chart"),s="Use a pre defined Superset Chart as a source for annotations and overlays.\n        your chart must be one of these visualization types:\n        [".concat(this.getSupportedSourceTypes(t).map(function(e){return e.label}).join(", "),"]")):t===Z.e.FORMULA&&(l="Formula",s="Expects a formula with depending time parameter 'x'\n        in milliseconds since epoch. mathjs is used to evaluate the formulas.\n        Example: '2x+5'"),Object(Z.f)(n)?o.a.createElement(A,{name:"annotation-layer-value",showHeader:!0,hovered:!0,description:s,label:l,placeholder:"",options:a,isLoading:i,value:r,onChange:this.handleValue,validationErrors:r?[]:["Mandatory"]}):t===Z.e.FORMULA?o.a.createElement(H,{name:"annotation-layer-value",hovered:!0,showHeader:!0,description:s,label:l,placeholder:"",value:r,onChange:this.handleValue,validationErrors:this.isValidFormula(r,t)?["Bad formula."]:[]}):""}},{key:"renderSliceConfiguration",value:function(){var e=this,t=this.state,n=t.annotationType,r=t.sourceType,a=t.value,i=t.valueOptions,l=t.overrides,s=t.titleColumn,u=t.timeColumn,c=t.intervalEndColumn,p=t.descriptionColumns,d=(i.find(function(e){return e.value===a})||{}).slice;if(r!==Z.a.NATIVE&&d){var f=(d.data.groupby||[]).concat(d.data.all_columns||[]).map(function(e){return{value:e,label:e}}),h=d.data.include_time?[{value:"__timestamp",label:"__timestamp"}].concat(f):f;return o.a.createElement("div",{style:{marginRight:"2rem"}},o.a.createElement(J.a,{isSelected:!0,onSelect:function(){},title:"Annotation Slice Configuration",info:"This section allows you to configure how to use the slice\n               to generate annotations."},(n===Z.e.EVENT||n===Z.e.INTERVAL)&&o.a.createElement(A,{hovered:!0,name:"annotation-layer-time-column",label:n===Z.e.INTERVAL?"Interval Start column":"Event Time Column",description:"This column must contain date/time information.",validationErrors:u?[]:["Mandatory"],clearable:!1,options:h,value:u,onChange:function(t){return e.setState({timeColumn:t})}}),n===Z.e.INTERVAL&&o.a.createElement(A,{hovered:!0,name:"annotation-layer-intervalEnd",label:"Interval End column",description:"This column must contain date/time information.",validationErrors:c?[]:["Mandatory"],options:f,value:c,onChange:function(t){return e.setState({intervalEndColumn:t})}}),o.a.createElement(A,{hovered:!0,name:"annotation-layer-title",label:"Title Column",description:"Pick a title for you annotation.",options:[{value:"",label:"None"}].concat(f),value:s,onChange:function(t){return e.setState({titleColumn:t})}}),n!==Z.e.TIME_SERIES&&o.a.createElement(A,{hovered:!0,name:"annotation-layer-title",label:"Description Columns",description:"Pick one or more columns that should be shown in the\n                  annotation. If you don't select a column all of them will be shown.",multi:!0,options:f,value:p,onChange:function(t){return e.setState({descriptionColumns:t})}}),o.a.createElement("div",{style:{marginTop:"1rem"}},o.a.createElement(X,{hovered:!0,name:"annotation-override-time_range",label:"Override time range",description:'This controls whether the "time_range" field from the current\n                  view should be passed down to the chart containing the annotation data.',value:!!Object.keys(l).find(function(e){return"time_range"===e}),onChange:function(t){delete l.time_range,t?e.setState({overrides:te({},l,{time_range:null})}):e.setState({overrides:te({},l)})}}),o.a.createElement(X,{hovered:!0,name:"annotation-override-timegrain",label:"Override time grain",description:"This controls whether the time grain field from the current\n                  view should be passed down to the chart containing the annotation data.",value:!!Object.keys(l).find(function(e){return"time_grain_sqla"===e}),onChange:function(t){delete l.time_grain_sqla,delete l.granularity,t?e.setState({overrides:te({},l,{time_grain_sqla:null,granularity:null})}):e.setState({overrides:te({},l)})}}),o.a.createElement(H,{hovered:!0,name:"annotation-layer-timeshift",label:"Time Shift",description:"Time delta in natural language\n                  (example:  24 hours, 7 days, 56 weeks, 365 days)",placeholder:"",value:l.time_shift,onChange:function(t){return e.setState({overrides:te({},l,{time_shift:t})})}}))))}return""}},{key:"renderDisplayConfiguration",value:function(){var e=this,t=this.state,n=t.color,r=t.opacity,a=t.style,i=t.width,s=t.showMarkers,c=t.hideLine,p=t.annotationType,d=Object(g.a)().get(this.props.colorScheme).colors.concat();return n&&n!==le&&!d.find(function(e){return e.toLowerCase()===n.toLowerCase()})&&d.push(n),o.a.createElement(J.a,{isSelected:!0,onSelect:function(){},title:Object(u.b)("Display configuration"),info:Object(u.b)("Configure your how you overlay is displayed here.")},o.a.createElement(A,{name:"annotation-layer-stroke",label:Object(u.b)("Style"),options:[{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"},{value:"longDashed",label:"Long Dashed"},{value:"dotted",label:"Dotted"}],value:a,onChange:function(t){return e.setState({style:t})}}),o.a.createElement(A,{name:"annotation-layer-opacity",label:Object(u.b)("Opacity"),options:[{value:"",label:"Solid"},{value:"opacityLow",label:"0.2"},{value:"opacityMedium",label:"0.5"},{value:"opacityHigh",label:"0.8"}],value:r,onChange:function(t){return e.setState({opacity:t})}}),o.a.createElement("div",null,o.a.createElement(S.a,{label:Object(u.b)("Color")}),o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement(f.CompactPicker,{color:n,colors:d,onChangeComplete:function(t){return e.setState({color:t.hex})}}),o.a.createElement(l.Button,{style:{marginTop:"0.5rem",marginBottom:"0.5rem"},bsStyle:n===le?"success":"default",bsSize:"xsmall",onClick:function(){return e.setState({color:le})}},"Automatic Color"))),o.a.createElement(H,{name:"annotation-layer-stroke-width",label:Object(u.b)("Line Width"),isInt:!0,value:i,onChange:function(t){return e.setState({width:t})}}),p===Z.e.TIME_SERIES&&o.a.createElement(X,{hovered:!0,name:"annotation-layer-show-markers",label:"Show Markers",description:"Shows or hides markers for the time series",value:s,onChange:function(t){return e.setState({showMarkers:t})}}),p===Z.e.TIME_SERIES&&o.a.createElement(X,{hovered:!0,name:"annotation-layer-hide-line",label:"Hide Line",description:"Hides the Line for the time series",value:c,onChange:function(t){return e.setState({hideLine:t})}}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.isNew,r=t.name,a=t.annotationType,i=t.sourceType,s=t.show,c=this.isValidForm(),p=Object(y.a)().get(this.props.vizType),d=p?p.supportedAnnotationTypes.map(function(e){return Z.c[e]}):[],f=this.getSupportedSourceTypes(a);return o.a.createElement("div",null,this.props.error&&o.a.createElement("span",{style:{color:"red"}},"ERROR: ",this.props.error),o.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.a.createElement("div",{style:{marginRight:"2rem"}},o.a.createElement(J.a,{isSelected:!0,onSelect:function(){},title:Object(u.b)("Layer Configuration"),info:Object(u.b)("Configure the basics of your Annotation Layer.")},o.a.createElement(H,{name:"annotation-layer-name",label:Object(u.b)("Name"),placeholder:"",value:r,onChange:function(t){return e.setState({name:t})},validationErrors:r?[]:[Object(u.b)("Mandatory")]}),o.a.createElement(X,{name:"annotation-layer-hide",label:Object(u.b)("Hide Layer"),value:!s,onChange:function(t){return e.setState({show:!t})}}),o.a.createElement(A,{hovered:!0,description:Object(u.b)("Choose the Annotation Layer Type"),label:Object(u.b)("Annotation Layer Type"),name:"annotation-layer-type",options:d,value:a,onChange:this.handleAnnotationType}),!!f.length&&o.a.createElement(A,{hovered:!0,description:"Choose the source of your annotations",label:"Annotation Source",name:"annotation-source-type",options:f,value:i,onChange:this.handleAnnotationSourceType}),this.renderValueConfiguration())),this.renderSliceConfiguration(),this.renderDisplayConfiguration()),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement(l.Button,{bsSize:"sm",onClick:this.deleteAnnotation},n?Object(u.b)("Cancel"):Object(u.b)("Remove")),o.a.createElement("div",null,o.a.createElement(l.Button,{bsSize:"sm",disabled:!c,onClick:this.applyAnnotation},Object(u.b)("Apply")),o.a.createElement(l.Button,{bsSize:"sm",disabled:!c,onClick:this.submitAnnotation},Object(u.b)("OK")))))}}])&&re(n.prototype,r),a&&re(n,a),t}();function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}ce.propTypes=se,ce.defaultProps=ue;var ge={colorScheme:i.a.string.isRequired,annotationError:i.a.object,annotationQuery:i.a.object,vizType:i.a.string,validationErrors:i.a.array,name:i.a.string.isRequired,actions:i.a.object,value:i.a.arrayOf(i.a.object),onChange:i.a.func,refreshAnnotationData:i.a.func},ye=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=he(t).call(this,e))||"object"!==pe(o)&&"function"!=typeof o?me(r):o).addAnnotationLayer=n.addAnnotationLayer.bind(me(me(n))),n.removeAnnotationLayer=n.removeAnnotationLayer.bind(me(me(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=e.name,n=e.annotationError,r=e.validationErrors,o=e.value;Object.keys(n).length&&!r.length&&this.props.actions.setControlValue(t,o,Object.keys(n)),!Object.keys(n).length&&r.length&&this.props.actions.setControlValue(t,o,[])}},{key:"addAnnotationLayer",value:function(e){var t=e,n=this.props.value.slice(),r=n.findIndex(function(e){return e.name===(t.oldName||t.name)});delete t.oldName,r>-1?n[r]=t:n=n.concat(t),this.props.refreshAnnotationData(t),this.props.onChange(n)}},{key:"removeAnnotationLayer",value:function(e){var t=this.props.value.slice().filter(function(t){return t.name!==e.oldName});this.props.onChange(t)}},{key:"renderPopover",value:function(e,t,n){var r=this,a=t?t.name:"_new";return o.a.createElement(l.Popover,{style:{maxWidth:"none"},title:t?Object(u.b)("Edit Annotation Layer"):Object(u.b)("Add Annotation Layer"),id:"annotation-pop-".concat(a)},o.a.createElement(ce,de({},t,{error:n,colorScheme:this.props.colorScheme,vizType:this.props.vizType,addAnnotationLayer:this.addAnnotationLayer,removeAnnotationLayer:this.removeAnnotationLayer,close:function(){return r.refs[e].hide()}})))}},{key:"renderInfo",value:function(e){var t=this.props,n=t.annotationError;return t.annotationQuery[e.name]?o.a.createElement("i",{className:"fa fa-refresh",style:{color:"orange"},"aria-hidden":!0}):n[e.name]?o.a.createElement(d.a,{label:"validation-errors",bsStyle:"danger",tooltip:n[e.name]}):e.show?"":o.a.createElement("span",{style:{color:"red"}}," Hidden ")}},{key:"render",value:function(){var e=this,t=this.props.value.map(function(t,n){return o.a.createElement(l.OverlayTrigger,{key:n,trigger:"click",rootClose:!0,ref:"overlay-".concat(n),placement:"right",overlay:e.renderPopover("overlay-".concat(n),t,e.props.annotationError[t.name])},o.a.createElement(l.ListGroupItem,null,o.a.createElement("span",null,t.name),o.a.createElement("span",{style:{float:"right"}},e.renderInfo(t))))});return o.a.createElement("div",null,o.a.createElement(l.ListGroup,null,t,o.a.createElement(l.OverlayTrigger,{trigger:"click",rootClose:!0,ref:"overlay-new",placement:"right",overlay:this.renderPopover("overlay-new")},o.a.createElement(l.ListGroupItem,null,o.a.createElement("i",{className:"fa fa-plus"}),"  ",Object(u.b)("Add Annotation Layer")))))}}])&&fe(n.prototype,r),a&&fe(n,a),t}();ye.propTypes=ge,ye.defaultProps={vizType:"",value:[],annotationError:{},annotationQuery:{},onChange:function(){}};var ve=Object(s.b)(function(e){var t=e.charts,n=e.explore,r=t[Object(c.c)(n)]||t[0]||{};return{colorScheme:(n.controls||{}).color_scheme.value,annotationError:r.annotationError,annotationQuery:r.annotationQuery,vizType:n.controls.viz_type.value}},function(e){return{refreshAnnotationData:function(t){return e(Object(p.runAnnotationQuery)(t))}}})(ye);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var xe={onChange:i.a.func,value:i.a.array},Ee=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Se(t).call(this,e))||"object"!==_e(o)&&"function"!=typeof o?Ce(r):o).state={minMax:[null===e.value[0]?"":e.value[0],null===e.value[1]?"":e.value[1]]},n.onChange=n.onChange.bind(Ce(Ce(n))),n.onMinChange=n.onMinChange.bind(Ce(Ce(n))),n.onMaxChange=n.onMaxChange.bind(Ce(Ce(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,o.a.Component),n=t,(r=[{key:"onMinChange",value:function(e){this.setState({minMax:[e.target.value,this.state.minMax[1]]},this.onChange)}},{key:"onMaxChange",value:function(e){this.setState({minMax:[this.state.minMax[0],e.target.value]},this.onChange)}},{key:"onChange",value:function(){var e=this.state.minMax,t=[];e[0]&&isNaN(e[0])&&t.push(Object(u.b)("`Min` value should be numeric or empty")),e[1]&&isNaN(e[1])&&t.push(Object(u.b)("`Max` value should be numeric or empty")),0===t.length?this.props.onChange([parseFloat(e[0]),parseFloat(e[1])],t):this.props.onChange([null,null],t)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(S.a,this.props),o.a.createElement(l.FormGroup,{bsSize:"small"},o.a.createElement(l.Row,null,o.a.createElement(l.Col,{xs:6},o.a.createElement(l.FormControl,{type:"text",placeholder:Object(u.b)("Min"),onChange:this.onMinChange,value:this.state.minMax[0]})),o.a.createElement(l.Col,{xs:6},o.a.createElement(l.FormControl,{type:"text",placeholder:Object(u.b)("Max"),onChange:this.onMaxChange,value:this.state.minMax[1]})))))}}])&&Oe(n.prototype,r),a&&Oe(n,a),t}();Ee.propTypes=xe,Ee.defaultProps={onChange:function(){},value:[null,null]};var je=n(58),ke=n.n(je),Te=n(1188);n(1908);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ne={name:i.a.string.isRequired,label:i.a.string,description:i.a.string,placeholder:i.a.string,addTooltip:i.a.string,itemGenerator:i.a.func,keyAccessor:i.a.func,onChange:i.a.func,value:i.a.oneOfType([i.a.array]),isFloat:i.a.bool,isInt:i.a.bool,controlName:i.a.string.isRequired},Le={label:null,description:null,onChange:function(){},placeholder:"Empty collection",itemGenerator:function(){return{key:ke.a.generate()}},keyAccessor:function(e){return e.key},value:[],addTooltip:"Add an item"},ze=Object(Te.SortableElement)(l.ListGroupItem),Fe=Object(Te.SortableContainer)(l.ListGroup),Be=Object(Te.SortableHandle)(function(){return o.a.createElement("i",{className:"fa fa-bars text-primary",style:{cursor:"ns-resize"}})}),He=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ae(t).call(this,e))||"object"!==Pe(o)&&"function"!=typeof o?De(r):o).onAdd=n.onAdd.bind(De(De(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,o.a.Component),n=t,(r=[{key:"onChange",value:function(e,t){Object.assign(this.props.value[e],t),this.props.onChange(this.props.value)}},{key:"onAdd",value:function(){this.props.onChange(this.props.value.concat([this.props.itemGenerator()]))}},{key:"onSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex;this.props.onChange(Object(Te.arrayMove)(this.props.value,t,n))}},{key:"removeItem",value:function(e){this.props.onChange(this.props.value.filter(function(t,n){return e!==n}))}},{key:"renderList",value:function(){var e=this;if(0===this.props.value.length)return o.a.createElement("div",{className:"text-muted"},this.props.placeholder);var t=Si[this.props.controlName];return o.a.createElement(Fe,{useDragHandle:!0,lockAxis:"y",onSortEnd:this.onSortEnd.bind(this)},this.props.value.map(function(n,r){return o.a.createElement(ze,{className:"clearfix",key:e.props.keyAccessor(n),index:r},o.a.createElement("div",{className:"pull-left m-r-5"},o.a.createElement(Be,null)),o.a.createElement("div",{className:"pull-left"},o.a.createElement(t,Me({},e.props,n,{onChange:e.onChange.bind(e,r)}))),o.a.createElement("div",{className:"pull-right"},o.a.createElement(d.a,{icon:"times",label:"remove-item",tooltip:"remove item",bsStyle:"primary",onClick:e.removeItem.bind(e,r)})))}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"CollectionControl"},o.a.createElement(S.a,this.props),this.renderList(),o.a.createElement(d.a,{icon:"plus-circle",label:"add-item",tooltip:this.props.addTooltip,bsStyle:"primary",className:"fa-lg",onClick:this.onAdd}))}}])&&Re(n.prototype,r),a&&Re(n,a),t}();function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qe(e,t,n[t])})}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}He.propTypes=Ne,He.defaultProps=Le;var Ye={onChange:i.a.func,value:i.a.object},$e={position:"absolute",width:"50px",height:"20px",top:"0px",left:"0px",right:"0px",bottom:"0px"},Xe={swatch:{width:"50px",height:"20px",position:"relative",padding:"5px",borderRadius:"1px",display:"inline-block",cursor:"pointer",boxShadow:"rgba(0, 0, 0, 0.15) 0px 0px 0px 1px inset, rgba(0, 0, 0, 0.25) 0px 0px 4px inset"},color:Ke({},$e,{borderRadius:"2px"}),checkboard:Ke({},$e,{background:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==") left center'})},Ze=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=We(t).call(this,e))||"object"!==qe(o)&&"function"!=typeof o?Ve(r):o).onChange=n.onChange.bind(Ve(Ve(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(t,o.a.Component),n=t,(r=[{key:"onChange",value:function(e){this.props.onChange(e.rgb)}},{key:"renderPopover",value:function(){var e=Object(g.a)().get().colors.filter(function(e,t){return t<7});return o.a.createElement(l.Popover,{id:"filter-popover",className:"color-popover"},o.a.createElement(f.SketchPicker,{color:this.props.value,onChange:this.onChange,presetColors:e}))}},{key:"render",value:function(){var e=this.props.value||{r:0,g:0,b:0,a:0},t=Object.assign({},Xe.color,{background:"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")")});return o.a.createElement("div",null,o.a.createElement(S.a,this.props),o.a.createElement(l.OverlayTrigger,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},o.a.createElement("div",{style:Xe.swatch},o.a.createElement("div",{style:Xe.checkboard}),o.a.createElement("div",{style:t}))))}}])&&Ue(n.prototype,r),a&&Ue(n,a),t}();Ze.propTypes=Ye,Ze.defaultProps={onChange:function(){}};var Je=n(281),et=n.n(Je);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var it={description:i.a.string,label:i.a.string.isRequired,name:i.a.string.isRequired,onChange:i.a.func,value:i.a.string,default:i.a.string,choices:i.a.oneOfType([i.a.arrayOf(i.a.array),i.a.func]).isRequired,schemes:i.a.oneOfType([i.a.object,i.a.func]).isRequired,isLinear:i.a.bool},lt={choices:[],schemes:{},onChange:function(){}},st=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=rt(t).call(this,e))||"object"!==tt(o)&&"function"!=typeof o?at(r):o).state={scheme:n.props.value},n.onChange=n.onChange.bind(at(at(n))),n.renderOption=n.renderOption.bind(at(at(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"onChange",value:function(e){var t=e?e.value:null;this.props.onChange(t),this.setState({scheme:t})}},{key:"renderOption",value:function(e){var t=this.props,n=t.isLinear,r=t.schemes,a=(et()(r)?r():r)[e.value||lt.value],i=[];return a&&(i=n?a.getColors(10):a.colors),o.a.createElement("ul",{className:"color-scheme-container"},i.map(function(e,t){return o.a.createElement("li",{key:"".concat(a.name,"-").concat(t),style:{backgroundColor:e,border:"1px solid ".concat("white"===e?"black":e)}},"")}))}},{key:"render",value:function(){var e=this.props.choices,t=(et()(e)?e():e).map(function(e){return{value:e[0],label:e[1]}}),n={multi:!1,name:"select-".concat(this.props.name),placeholder:"Select (".concat(t.length,")"),default:this.props.default,options:t,value:this.props.value,autosize:!1,clearable:!1,onChange:this.onChange,optionRenderer:this.renderOption,valueRenderer:this.renderOption};return o.a.createElement("div",null,o.a.createElement(S.a,this.props),o.a.createElement(O.Creatable,n))}}])&&nt(n.prototype,r),a&&nt(n,a),t}();st.propTypes=it,st.defaultProps=lt;var ut=n(268),ct=n(1092),pt=n(803),dt=n.n(pt),ft=n(83),ht=n(117),bt=n(167),mt=n(1183),gt=n(301),yt=n.n(gt),vt=(n(1091),n(1373),n(1374),n(1272),n(1924),n(1273),n(174));function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function St(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xt={name:i.a.string,onChange:i.a.func,value:i.a.string,height:i.a.number,minLines:i.a.number,maxLines:i.a.number,offerEditInModal:i.a.bool,language:i.a.oneOf([null,"json","html","sql","markdown","javascript"]),aboveEditorSection:i.a.node,readOnly:i.a.bool},Et=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),St(this,wt(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(t,o.a.Component),n=t,(r=[{key:"onControlChange",value:function(e){this.props.onChange(e.target.value)}},{key:"onAceChange",value:function(e){this.props.onChange(e)}},{key:"renderEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.value||"";return this.props.language?o.a.createElement(yt.a,{mode:this.props.language,theme:"textmate",style:{border:"1px solid #CCC"},minLines:e?40:this.props.minLines,maxLines:e?1e3:this.props.maxLines,onChange:this.onAceChange.bind(this),width:"100%",editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,value:t,readOnly:this.props.readOnly}):o.a.createElement(l.FormGroup,{controlId:"formControlsTextarea"},o.a.createElement(l.FormControl,{componentClass:"textarea",placeholder:Object(u.b)("textarea"),onChange:this.onControlChange.bind(this),value:t,disabled:this.props.readOnly,style:{height:this.props.height}}))}},{key:"renderModalBody",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,this.props.aboveEditorSection),this.renderEditor(!0))}},{key:"render",value:function(){var e=o.a.createElement(S.a,this.props);return o.a.createElement("div",null,e,this.renderEditor(),this.props.offerEditInModal&&o.a.createElement(vt.a,{bsSize:"large",modalTitle:e,triggerNode:o.a.createElement(l.Button,{bsSize:"small",className:"m-t-5"},Object(u.b)("Edit")," ",o.a.createElement("strong",null,this.props.language)," ",Object(u.b)("in modal")),modalBody:this.renderModalBody(!0)}))}}])&&Ot(n.prototype,r),a&&Ot(n,a),t}();Et.propTypes=xt,Et.defaultProps={onChange:function(){},value:"",height:250,minLines:3,maxLines:10,offerEditInModal:!0,readOnly:!1};var jt=n(934),kt=n(214),Tt=void 0,Pt={dataEndpoint:i.a.string.isRequired,multi:i.a.bool,mutator:i.a.func,onAsyncErrorMessage:i.a.string,onChange:i.a.func,placeholder:i.a.string,value:i.a.oneOfType([i.a.string,i.a.number,i.a.arrayOf(i.a.string),i.a.arrayOf(i.a.number)]),addDangerToast:i.a.func.isRequired},Mt={multi:!0,onAsyncErrorMessage:Object(u.b)("Error while fetching data"),onChange:function(){},placeholder:Object(u.b)("Select ...")},Rt=function(e){var t=e.value,n=e.onChange,r=e.dataEndpoint,a=e.multi,i=e.mutator,l=e.placeholder,s=e.onAsyncErrorMessage;return o.a.createElement("div",null,o.a.createElement(S.a,e),o.a.createElement(jt.a,{dataEndpoint:r,onChange:function(e){var t;t=a?e.map(function(e){return e.value}):e?e.value:null,n(t)},onAsyncError:function(e){return Tt.props.addDangerToast(s+": "+e)},mutator:i,multi:a,value:t,placeholder:l,valueRenderer:function(e){return o.a.createElement("div",null,e.label)}}))};Rt.propTypes=Pt,Rt.defaultProps=Mt;var At=Object(kt.a)(Rt);function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ft={latlong:"latlong",delimited:"delimited",geohash:"geohash"},Bt={onChange:i.a.func,value:i.a.object,animation:i.a.bool,choices:i.a.array},Ht=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=Nt(t).call(this,e))||"object"!==It(o)&&"function"!=typeof o?zt(r):o;var a,i=e.value||{};return e.choices.length>0&&(a=e.choices[0][0]),n.state={type:i.type||Ft.latlong,delimiter:i.delimiter||",",latCol:i.latCol||a,lonCol:i.lonCol||a,lonlatCol:i.lonlatCol||a,reverseCheckbox:i.reverseCheckbox||!1,geohashCol:i.geohashCol||a,value:null,errors:[]},n.toggleCheckbox=n.toggleCheckbox.bind(zt(zt(n))),n.onChange=n.onChange.bind(zt(zt(n))),n.renderReverseCheckbox=n.renderReverseCheckbox.bind(zt(zt(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.onChange()}},{key:"onChange",value:function(){var e=this.state.type,t={type:e},n=[],r=Object(u.b)("Invalid lat/long configuration.");e===Ft.latlong?(t.latCol=this.state.latCol,t.lonCol=this.state.lonCol,t.lonCol&&t.latCol||n.push(r)):e===Ft.delimited?(t.lonlatCol=this.state.lonlatCol,t.delimiter=this.state.delimiter,t.reverseCheckbox=this.state.reverseCheckbox,t.lonlatCol&&t.delimiter||n.push(r)):e===Ft.geohash&&(t.geohashCol=this.state.geohashCol,t.reverseCheckbox=this.state.reverseCheckbox,t.geohashCol||n.push(r)),this.setState({value:t,errors:n}),this.props.onChange(t,n)}},{key:"setType",value:function(e){this.setState({type:e},this.onChange)}},{key:"close",value:function(){this.refs.trigger.hide()}},{key:"toggleCheckbox",value:function(){this.setState({reverseCheckbox:!this.state.reverseCheckbox},this.onChange)}},{key:"renderLabelContent",value:function(){return this.state.errors.length>0?"N/A":this.state.type===Ft.latlong?"".concat(this.state.lonCol," | ").concat(this.state.latCol):this.state.type===Ft.delimited?"".concat(this.state.lonlatCol):this.state.type===Ft.geohash?"".concat(this.state.geohashCol):null}},{key:"renderSelect",value:function(e,t){var n=this;return o.a.createElement(A,{name:e,choices:this.props.choices,value:this.state[e],clearable:!1,onFocus:function(){n.setType(t)},onChange:function(t){n.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t),n.onChange)}})}},{key:"renderReverseCheckbox",value:function(){return o.a.createElement("span",null,Object(u.b)("Reverse lat/long "),o.a.createElement(q.a,{checked:this.state.reverseCheckbox,onChange:this.toggleCheckbox}))}},{key:"renderPopover",value:function(){return o.a.createElement(l.Popover,{id:"filter-popover"},o.a.createElement("div",{style:{width:"300px"}},o.a.createElement(J.a,{title:Object(u.b)("Longitude & Latitude columns"),isSelected:this.state.type===Ft.latlong,onSelect:this.setType.bind(this,Ft.latlong)},o.a.createElement(l.Row,null,o.a.createElement(l.Col,{md:6},"Longitude",this.renderSelect("lonCol",Ft.latlong)),o.a.createElement(l.Col,{md:6},"Latitude",this.renderSelect("latCol",Ft.latlong)))),o.a.createElement(J.a,{title:Object(u.b)("Delimited long & lat single column"),info:Object(u.b)("Multiple formats accepted, look the geopy.points Python library for more details"),isSelected:this.state.type===Ft.delimited,onSelect:this.setType.bind(this,Ft.delimited)},o.a.createElement(l.Row,null,o.a.createElement(l.Col,{md:6},Object(u.b)("Column"),this.renderSelect("lonlatCol",Ft.delimited)),o.a.createElement(l.Col,{md:6},this.renderReverseCheckbox()))),o.a.createElement(J.a,{title:Object(u.b)("Geohash"),isSelected:this.state.type===Ft.geohash,onSelect:this.setType.bind(this,Ft.geohash)},o.a.createElement(l.Row,null,o.a.createElement(l.Col,{md:6},"Column",this.renderSelect("geohashCol",Ft.geohash)),o.a.createElement(l.Col,{md:6},this.renderReverseCheckbox()))),o.a.createElement("div",{className:"clearfix"},o.a.createElement(l.Button,{bsSize:"small",className:"float-left ok",bsStyle:"primary",onClick:this.close.bind(this)},"Ok"))))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(S.a,this.props),o.a.createElement(l.OverlayTrigger,{animation:this.props.animation,container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},o.a.createElement(l.Label,{style:{cursor:"pointer"}},this.renderLabelContent())))}}])&&Dt(n.prototype,r),a&&Dt(n,a),t}();function qt(e,t,n){return o.a.Children.map(e,function(e){var r=e;return e&&e.type.name===t.name&&(r=o.a.cloneElement(e,n(e))),r&&r.props.children&&(r=o.a.cloneElement(r,{children:qt(r.props.children,t,n)})),r})}Ht.propTypes=Bt,Ht.defaultProps={onChange:function(){},animation:!0,choices:[]};n(1909);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Qt={value:i.a.any.isRequired,label:i.a.string.isRequired,descr:i.a.node,fieldKey:i.a.string.isRequired,control:i.a.node.isRequired,onChange:i.a.func,compact:i.a.bool},Yt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Gt(t).call(this,e))||"object"!==Ut(o)&&"function"!=typeof o?Kt(r):o).onChange=n.onChange.bind(Kt(Kt(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"onChange",value:function(e){this.props.onChange(this.props.fieldKey,e)}},{key:"render",value:function(){var e=this.props,t=e.compact,n=e.value,r=e.label,a=e.control,i=e.descr,s=e.fieldKey,u=o.a.cloneElement(a,{value:n,onChange:this.onChange});return o.a.createElement(l.FormGroup,{controlId:s},o.a.createElement(l.ControlLabel,{className:"m-r-5"},r||s,t&&i&&o.a.createElement(l.OverlayTrigger,{placement:"right",overlay:o.a.createElement(l.Tooltip,{id:"field-descr",bsSize:"lg"},i)},o.a.createElement("i",{className:"fa fa-info-circle m-l-5"}))),u,o.a.createElement(l.FormControl.Feedback,null),!t&&i&&o.a.createElement(l.HelpBlock,null,i))}}])&&Wt(n.prototype,r),a&&Wt(n,a),t}();function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(e,t){return(en=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Yt.propTypes=Qt,Yt.defaultProps={controlProps:{},onChange:function(){},compact:!1,desc:null};var nn={children:i.a.node.isRequired,onChange:i.a.func.isRequired,item:i.a.object.isRequired,title:i.a.node,compact:i.a.bool},rn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Jt(t).call(this,e))||"object"!==$t(o)&&"function"!=typeof o?tn(r):o).onChange=n.onChange.bind(tn(tn(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&en(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"onChange",value:function(e,t){return this.props.onChange(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Xt(e,t,n[t])})}return e}({},this.props.item,Xt({},e,t)))}},{key:"render",value:function(){var e=this,t=this.props.title;return o.a.createElement(l.Form,{componentClass:"fieldset",className:"CRUD"},t&&o.a.createElement("legend",null,t),qt(this.props.children,Yt,function(t){return{onChange:e.onChange,value:e.props.item[t.props.fieldKey],compact:e.props.compact}}))}}])&&Zt(n.prototype,r),a&&Zt(n,a),t}();rn.propTypes=nn,rn.defaultProps={compact:!1,title:null};n(1910);function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sn(e,t){return(sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pn(e,t,n[t])})}return e}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dn={collection:i.a.arrayOf(i.a.object).isRequired,itemGenerator:i.a.func,columnLabels:i.a.object,tableColumns:i.a.array.isRequired,onChange:i.a.func,itemRenderers:i.a.object,allowDeletes:i.a.bool,expandFieldset:i.a.node,emptyMessage:i.a.node,extraButtons:i.a.node,allowAddItem:i.a.bool};function fn(e){var t=e.map(function(e){return cn({},e,{id:e.id||ke.a.generate()})}),n={};return t.forEach(function(e){n[e.id]=e}),n}i.a.node;var hn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ln(t).call(this,e))||"object"!==on(o)&&"function"!=typeof o?un(r):o).state={expandedColumns:{},collection:fn(e.collection)},n.renderItem=n.renderItem.bind(un(un(n))),n.onAddItem=n.onAddItem.bind(un(un(n))),n.renderExpandableSection=n.renderExpandableSection.bind(un(un(n))),n.getLabel=n.getLabel.bind(un(un(n))),n.onFieldsetChange=n.onFieldsetChange.bind(un(un(n))),n.renderTableBody=n.renderTableBody.bind(un(un(n))),n.changeCollection=n.changeCollection.bind(un(un(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sn(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){e.collection!==this.props.collection&&this.setState({collection:fn(e.collection)})}},{key:"onCellChange",value:function(e,t,n){this.changeCollection(cn({},this.state.collection,pn({},e,cn({},this.state.collection[e],pn({},t,n)))))}},{key:"onAddItem",value:function(){var e=this.props.itemGenerator();e.id||(e=cn({},e,{id:ke.a.generate()})),this.changeCollection(cn({},this.state.collection,pn({},e.id,e)))}},{key:"onFieldsetChange",value:function(e){this.changeCollection(cn({},this.state.collection,pn({},e.id,e)))}},{key:"getLabel",value:function(e){var t=this.props.columnLabels,n=t[e]?t[e]:e;return n.startsWith("__")&&(n=""),n}},{key:"changeCollection",value:function(e){this.setState({collection:e}),this.props.onChange(Object.keys(e).map(function(t){return e[t]}))}},{key:"deleteItem",value:function(e){var t=cn({},this.state.collection);delete t[e],this.changeCollection(t)}},{key:"effectiveTableColumns",value:function(){var e=this.props,t=e.tableColumns,n=e.allowDeletes,r=e.expandFieldset,o=n?t.concat(["__actions"]):t;return r?["__expand"].concat(o):o}},{key:"toggleExpand",value:function(e){this.onCellChange(e,"__expanded",!1),this.setState({expandedColumns:cn({},this.state.expandedColumns,pn({},e,!this.state.expandedColumns[e]))})}},{key:"renderHeaderRow",value:function(){var e=this,t=this.effectiveTableColumns();return o.a.createElement("thead",null,o.a.createElement("tr",null,this.props.expandFieldset&&o.a.createElement("th",{className:"tiny-cell"}),t.map(function(t){return o.a.createElement("th",{key:t},e.getLabel(t))}),this.props.allowDeletes&&o.a.createElement("th",{className:"tiny-cell"})))}},{key:"renderExpandableSection",value:function(e){var t=this;return qt(this.props.expandFieldset,rn,function(){return{item:e,onChange:t.onFieldsetChange}})}},{key:"renderCell",value:function(e,t){var n=this.props.itemRenderers[t],r=e[t],o=this.onCellChange.bind(this,e.id,t);return n?n(r,o,this.getLabel(t)):r}},{key:"renderItem",value:function(e){var t=this,n=this.props,r=n.tableColumns,a=n.allowDeletes,i=n.expandFieldset,l=!!this.state.expandedColumns[e.id]||e.__expanded,s=[];i&&s.push(o.a.createElement("td",{key:"__expand",className:"expand"},o.a.createElement("i",{className:"fa fa-caret-".concat(l?"down":"right"," text-primary pointer"),onClick:this.toggleExpand.bind(this,e.id)}))),s=s.concat(r.map(function(n){return o.a.createElement("td",{key:n},t.renderCell(e,n))})),a&&s.push(o.a.createElement("td",{key:"__actions"},o.a.createElement("i",{className:"fa fa-close text-primary pointer",onClick:this.deleteItem.bind(this,e.id)})));var u=[o.a.createElement("tr",{className:"row",key:e.id},s)];return l&&u.push(o.a.createElement("tr",{className:"exp",key:"exp__"+e.id},o.a.createElement("td",{colSpan:this.effectiveTableColumns().length,className:"expanded"},o.a.createElement("div",null,this.renderExpandableSection(e))))),u}},{key:"renderEmptyCell",value:function(){return o.a.createElement("tr",null,o.a.createElement("td",{className:"empty-collection"},this.props.emptyMessage))}},{key:"renderTableBody",value:function(){var e=this,t=Object.keys(this.state.collection).map(function(t){return e.state.collection[t]}),n=t.length?t.map(function(t){return e.renderItem(t)}):this.renderEmptyCell();return o.a.createElement("tbody",null,n)}},{key:"render",value:function(){return o.a.createElement("div",{className:"CRUD"},o.a.createElement("table",{className:"table"},this.renderHeaderRow(),this.renderTableBody()),o.a.createElement("div",null,this.props.allowAddItem&&o.a.createElement(ht.a,{bsStyle:"primary",onClick:this.onAddItem},o.a.createElement("i",{className:"fa fa-plus"})," ",Object(u.b)("Add Item")),this.props.extraButtons))}}])&&an(n.prototype,r),a&&an(n,a),t}();hn.defaultProps={onChange:function(){},itemRenderers:{},columnLabels:{},allowDeletes:!1,emptyMessage:"No entries",allowAddItem:!1,itemGenerator:function(){return{}},expandFieldset:null,extraButtons:null},hn.propTypes=dn;var bn=n(367);n(1911);function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vn(e,t,n[t])})}return e}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Cn=function(e,t){return o.a.createElement(X,{value:e,onChange:t})},xn=["STRING","NUMERIC","DATETIME"];function En(e){var t=e.title,n=e.collection;return o.a.createElement("div",null,t," ",o.a.createElement(l.Badge,null,n?n.length:0))}function jn(e){var t=e.columns,n=e.onChange,r=e.editableColumnName,a=e.showExpression,i=e.allowAddItem,s=e.allowEditDataType,c=e.itemGenerator;return o.a.createElement(hn,{collection:t,tableColumns:["column_name","type","is_dttm","filterable","groupby"],allowDeletes:!0,allowAddItem:i,itemGenerator:c,expandFieldset:o.a.createElement(Tn,null,o.a.createElement(rn,{compact:!0},a&&o.a.createElement(Yt,{fieldKey:"expression",label:Object(u.b)("SQL Expression"),control:o.a.createElement(H,null)}),o.a.createElement(Yt,{fieldKey:"verbose_name",label:Object(u.b)("Label"),control:o.a.createElement(H,null)}),o.a.createElement(Yt,{fieldKey:"description",label:Object(u.b)("Description"),control:o.a.createElement(H,null)}),s&&o.a.createElement(Yt,{fieldKey:"type",label:Object(u.b)("Data Type"),control:o.a.createElement(A,{choices:xn,name:"type",freeForm:!0})}),o.a.createElement(Yt,{fieldKey:"python_date_format",label:Object(u.b)("Datetime Format"),descr:o.a.createElement("div",null,Object(u.b)("The pattern of the timestamp format, use "),o.a.createElement("a",{href:"https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior"},Object(u.b)("python datetime string pattern")),Object(u.b)(" expression. If time is stored in epoch format, put `epoch_s` or\n                      `epoch_ms`. Leave `Database Expression`\n                      below empty if timestamp is stored in '\n                      String or Integer(epoch) type")),control:o.a.createElement(H,null)}),o.a.createElement(Yt,{fieldKey:"database_expression",label:Object(u.b)("Database Expression"),descr:o.a.createElement("div",null,Object(u.b)("\n                    The database expression to cast internal datetime\n                    constants to database date/timestamp type according to the DBAPI.\n                    The expression should follow the pattern of\n                    %Y-%m-%d %H:%M:%S, based on different DBAPI.\n                    The string should be a python string formatter\n                    `Ex: TO_DATE('{}', 'YYYY-MM-DD HH24:MI:SS')` for Oracle\n                    Superset uses default expression based on DB URI if this\n                    field is blank.\n                  ")),control:o.a.createElement(H,null)}))),columnLabels:{column_name:Object(u.b)("Column"),type:Object(u.b)("Data Type"),groupby:Object(u.b)("Is Dimension"),is_dttm:Object(u.b)("Is Temporal"),filterable:Object(u.b)("Is Filterable")},onChange:n,itemRenderers:{column_name:function(e,t){return r?o.a.createElement(bn.a,{canEdit:!0,title:e,onSaveTitle:t}):e},type:function(e){return o.a.createElement(l.Label,{style:{fontSize:"75%"}},e)},is_dttm:Cn,filterable:Cn,groupby:Cn}})}function kn(e){var t=e.label,n=e.formElement;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("strong",null,t)),o.a.createElement("div",null,n))}function Tn(e){var t=e.children;return o.a.createElement(l.Well,{style:{marginTop:20}},t)}En.propTypes={title:i.a.string,collection:i.a.array},jn.propTypes={columns:i.a.array.isRequired,onChange:i.a.func.isRequired,editableColumnName:i.a.bool,showExpression:i.a.bool,allowAddItem:i.a.bool,allowEditDataType:i.a.bool,itemGenerator:i.a.func},jn.defaultProps={editableColumnName:!1,showExpression:!1,allowAddItem:!1,allowEditDataType:!1,itemGenerator:function(){return{column_name:"<new column>",filterable:!0,groupby:!0}}},kn.propTypes={label:i.a.string,formElement:i.a.node},Tn.propTypes={children:i.a.node};var Pn={datasource:i.a.object.isRequired,onChange:i.a.func,addSuccessToast:i.a.func.isRequired,addDangerToast:i.a.func.isRequired},Mn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=On(t).call(this,e))||"object"!==mn(o)&&"function"!=typeof o?wn(r):o).state={datasource:e.datasource,errors:[],isDruid:"druid"===e.datasource.type,isSqla:"table"===e.datasource.type,databaseColumns:e.datasource.columns.filter(function(e){return!e.expression}),calculatedColumns:e.datasource.columns.filter(function(e){return!!e.expression}),metadataLoading:!1,activeTabKey:1},n.onChange=n.onChange.bind(wn(wn(n))),n.onDatasourcePropChange=n.onDatasourcePropChange.bind(wn(wn(n))),n.onDatasourceChange=n.onDatasourceChange.bind(wn(wn(n))),n.syncMetadata=n.syncMetadata.bind(wn(wn(n))),n.setColumns=n.setColumns.bind(wn(wn(n))),n.validateAndChange=n.validateAndChange.bind(wn(wn(n))),n.handleTabSelect=n.handleTabSelect.bind(wn(wn(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"onChange",value:function(){var e=yn({},this.state.datasource,{columns:[].concat(gn(this.state.databaseColumns),gn(this.state.calculatedColumns))});this.props.onChange(e,this.state.errors)}},{key:"onDatasourceChange",value:function(e){this.setState({datasource:e},this.validateAndChange)}},{key:"onDatasourcePropChange",value:function(e,t){var n=yn({},this.state.datasource,vn({},e,t));this.setState({datasource:n},this.onDatasourceChange(n))}},{key:"setColumns",value:function(e){this.setState(e,this.validateAndChange)}},{key:"validateAndChange",value:function(){this.validate(this.onChange)}},{key:"mergeColumns",value:function(e){var t,n=this.state.databaseColumns,r=n.map(function(e){return e.column_name});e.forEach(function(e){r.indexOf(e.name)<0&&(n=n.concat([{id:ke.a.generate(),column_name:e.name,type:e.type,groupby:!0,filterable:!0}]),t=!0)}),t&&this.setColumns({databaseColumns:n})}},{key:"syncMetadata",value:function(){var e=this,t=this.state.datasource,n="/datasource/external_metadata/".concat(t.type,"/").concat(t.id,"/")+"?db_id=".concat(t.database.id)+"&schema=".concat(t.schema)+"&table_name=".concat(t.datasource_name);this.setState({metadataLoading:!0}),m.a.get({endpoint:n}).then(function(t){var n=t.json;e.mergeColumns(n),e.props.addSuccessToast(Object(u.b)("Metadata has been synced")),e.setState({metadataLoading:!1})}).catch(function(t){return Object(ft.a)(t).then(function(t){var n=t.error,r=t.statusText;e.props.addDangerToast(n||r||Object(u.b)("An error has occurred")),e.setState({metadataLoading:!1})})})}},{key:"findDuplicates",value:function(e,t){var n={},r=[];return e.forEach(function(e){var o=t(e);o in n?r.push(o):n[o]=null}),r}},{key:"validate",value:function(e){var t,n=[],r=this.state.datasource;t=this.findDuplicates(r.columns,function(e){return e.column_name}),n=n.concat(t.map(function(e){return Object(u.b)("Column name [%s] is duplicated",e)})),t=this.findDuplicates(r.metrics,function(e){return e.metric_name}),n=n.concat(t.map(function(e){return Object(u.b)("Metric name [%s] is duplicated",e)}));var o=this.state.calculatedColumns.filter(function(e){return!e.expression&&!e.json});n=n.concat(o.map(function(e){return Object(u.b)("Calculated column [%s] requires an expression",e.column_name)})),this.setState({errors:n},e)}},{key:"handleTabSelect",value:function(e){this.setState({activeTabKey:e})}},{key:"renderSettingsFieldset",value:function(){var e=this,t=this.state.datasource;return o.a.createElement(rn,{title:Object(u.b)("Basic"),item:t,onChange:this.onDatasourceChange},this.state.isSqla&&o.a.createElement(Yt,{fieldKey:"tableSelector",label:Object(u.b)("Physical Table"),control:o.a.createElement(mt.a,{dbId:t.database.id,schema:t.schema,tableName:t.datasource_name,onSchemaChange:function(t){return e.onDatasourcePropChange("schema",t)},onDbChange:function(t){return e.onDatasourcePropChange("database",t)},onTableChange:function(t){return e.onDatasourcePropChange("datasource_name",t)},sqlLabMode:!1,clearable:!1,handleError:this.props.addDangerToast}),descr:Object(u.b)("The pointer to a physical table. Keep in mind that the chart is associated to this Superset logical table, and this logical table points the physical table referenced here.")}),o.a.createElement(Yt,{fieldKey:"description",label:Object(u.b)("Description"),control:o.a.createElement(Et,{language:"markdown",offerEditInModal:!1})}),o.a.createElement(Yt,{fieldKey:"default_endpoint",label:Object(u.b)("Default URL"),descr:Object(u.b)("Default URL to redirect to when accessing from the datasource list page"),control:o.a.createElement(H,null)}),o.a.createElement(Yt,{fieldKey:"filter_select_enabled",label:Object(u.b)("Autocomplete filters"),descr:Object(u.b)("Whether to populate autocomplete filters options"),control:o.a.createElement(X,null)}),this.state.isSqla&&o.a.createElement(Yt,{fieldKey:"fetch_values_predicate",label:Object(u.b)("Autocomplete Query Predicate"),descr:Object(u.b)('When using "Autocomplete filters", this can be used to improve performance of the query fetching the values. Use this option to apply a predicate (WHERE clause) to the query selecting the distinct values from the table. Typically the intent would be to limit the scan by applying a relative time filter on a partitioned or indexed time-related field.'),control:o.a.createElement(H,null)}),o.a.createElement(Yt,{fieldKey:"owners",label:Object(u.b)("Owners"),descr:Object(u.b)("Owners of the datasource"),control:o.a.createElement(At,{dataEndpoint:"/users/api/read",multi:!0,mutator:function(e){return e.pks.map(function(t,n){return{value:t,label:"".concat(e.result[n].first_name," ").concat(e.result[n].last_name)}})}}),controlProps:{}}))}},{key:"renderAdvancedFieldset",value:function(){var e=this.state.datasource;return o.a.createElement(rn,{title:Object(u.b)("Advanced"),item:e,onChange:this.onDatasourceChange},this.state.isSqla&&o.a.createElement(Yt,{fieldKey:"sql",label:Object(u.b)("SQL"),descr:Object(u.b)("When specifying SQL, the datasource acts as a view. Superset will use this statement as a subquery while grouping and filtering on the generated parent queries."),control:o.a.createElement(Et,{language:"sql",offerEditInModal:!1})}),this.state.isDruid&&o.a.createElement(Yt,{fieldKey:"json",label:Object(u.b)("JSON"),descr:o.a.createElement("div",null,Object(u.b)("The JSON metric or post aggregation definition.")),control:o.a.createElement(Et,{language:"json",offerEditInModal:!1})}),o.a.createElement(Yt,{fieldKey:"cache_timeout",label:Object(u.b)("Cache Timeout"),descr:Object(u.b)("The duration of time in seconds before the cache is invalidated"),control:o.a.createElement(H,null)}),o.a.createElement(Yt,{fieldKey:"offset",label:Object(u.b)("Hours offset"),control:o.a.createElement(H,null)}),this.state.isSqla&&o.a.createElement(Yt,{fieldKey:"template_params",label:Object(u.b)("Template parameters"),descr:Object(u.b)("A set of parameters that become available in the query using Jinja templating syntax"),control:o.a.createElement(H,null)}))}},{key:"renderSpatialTab",value:function(){var e=this.state.datasource,t=e.spatials,n=e.all_cols;return o.a.createElement(l.Tab,{title:o.a.createElement(En,{collection:t,title:Object(u.b)("Spatial")}),eventKey:4},o.a.createElement(hn,{tableColumns:["name","config"],onChange:this.onDatasourcePropChange.bind(this,"spatials"),itemGenerator:function(){return{name:"<new spatial>",type:"<no type>",config:null}},collection:t,allowDeletes:!0,itemRenderers:{name:function(e,t){return o.a.createElement(bn.a,{canEdit:!0,title:e,onSaveTitle:t})},config:function(e,t){return o.a.createElement(Ht,{value:e,onChange:t,choices:n})}}}))}},{key:"renderErrors",value:function(){return this.state.errors.length>0?o.a.createElement(l.Alert,{bsStyle:"danger"},this.state.errors.map(function(e){return o.a.createElement("div",{key:e},e)})):null}},{key:"renderMetricCollection",value:function(){return o.a.createElement(hn,{tableColumns:["metric_name","verbose_name","expression"],columnLabels:{metric_name:Object(u.b)("Metric"),verbose_name:Object(u.b)("Label"),expression:Object(u.b)("SQL Expression")},expandFieldset:o.a.createElement(Tn,null,o.a.createElement(rn,null,o.a.createElement(Yt,{fieldKey:"verbose_name",label:Object(u.b)("Label"),control:o.a.createElement(H,null)}),o.a.createElement(Yt,{fieldKey:"description",label:Object(u.b)("Description"),control:o.a.createElement(H,null)}),o.a.createElement(Yt,{fieldKey:"d3format",label:Object(u.b)("D3 Format"),control:o.a.createElement(H,null)}),o.a.createElement(Yt,{label:Object(u.b)("Warning Message"),fieldKey:"warning_text",description:Object(u.b)("Warning message to display in the metric selector"),control:o.a.createElement(H,null)}))),collection:this.state.datasource.metrics,allowAddItem:!0,onChange:this.onDatasourcePropChange.bind(this,"metrics"),itemGenerator:function(){return{metric_name:"<new metric>",verbose_name:"",expression:""}},itemRenderers:{metric_name:function(e,t){return o.a.createElement(bn.a,{canEdit:!0,title:e,onSaveTitle:t})},verbose_name:function(e,t){return o.a.createElement(bn.a,{canEdit:!0,title:e,onSaveTitle:t})},expression:function(e,t){return o.a.createElement(bn.a,{canEdit:!0,title:e,onSaveTitle:t,extraClasses:["datasource-sql-expression"],multiLine:!0})},description:function(e,t,n){return o.a.createElement(kn,{label:n,formElement:o.a.createElement(H,{value:e,onChange:t})})},d3format:function(e,t,n){return o.a.createElement(kn,{label:n,formElement:o.a.createElement(H,{value:e,onChange:t})})}},allowDeletes:!0})}},{key:"render",value:function(){var e=this,t=this.state.datasource;return o.a.createElement("div",{className:"Datasource"},this.renderErrors(),o.a.createElement(l.Tabs,{id:"table-tabs",onSelect:this.handleTabSelect,defaultActiveKey:1},o.a.createElement(l.Tab,{eventKey:1,title:Object(u.b)("Settings")},1===this.state.activeTabKey&&o.a.createElement("div",null,o.a.createElement(l.Col,{md:6},o.a.createElement(Tn,null,this.renderSettingsFieldset())),o.a.createElement(l.Col,{md:6},o.a.createElement(Tn,null,this.renderAdvancedFieldset())))),o.a.createElement(l.Tab,{title:o.a.createElement(En,{collection:this.state.databaseColumns,title:Object(u.b)("Columns")}),eventKey:2},2===this.state.activeTabKey&&o.a.createElement("div",null,o.a.createElement(jn,{columns:this.state.databaseColumns,onChange:function(t){return e.setColumns({databaseColumns:t})}}),o.a.createElement(ht.a,{bsStyle:"primary",onClick:this.syncMetadata,className:"sync-from-source",disabled:!!t.sql,tooltip:t.sql?Object(u.b)("This option is not yet available for views"):null},Object(u.b)("Sync columns from source")),this.state.metadataLoading&&o.a.createElement(bt.a,null))),o.a.createElement(l.Tab,{title:o.a.createElement(En,{collection:this.state.calculatedColumns,title:Object(u.b)("Calculated Columns")}),eventKey:3},3===this.state.activeTabKey&&o.a.createElement(jn,{columns:this.state.calculatedColumns,onChange:function(t){return e.setColumns({calculatedColumns:t})},editableColumnName:!0,showExpression:!0,allowAddItem:!0,allowEditDataType:!0,itemGenerator:function(){return{column_name:"<new column>",filterable:!0,groupby:!0,expression:"<enter SQL expression here>",__expanded:!0}}})),o.a.createElement(l.Tab,{title:o.a.createElement(En,{collection:t.metrics,title:Object(u.b)("Metrics")}),eventKey:4},4===this.state.activeTabKey&&this.renderMetricCollection())))}}])&&_n(n.prototype,r),a&&_n(n,a),t}();Mn.defaultProps={onChange:function(){}},Mn.propTypes=Pn;var Rn=Object(kt.a)(Mn);function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var zn={onChange:i.a.func,datasource:i.a.object.isRequired,show:i.a.bool.isRequired,onHide:i.a.func,onDatasourceSave:i.a.func,addSuccessToast:i.a.func.isRequired},Fn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Dn(t).call(this,e))||"object"!==An(o)&&"function"!=typeof o?Ln(r):o).state={errors:[],datasource:e.datasource},n.setSearchRef=n.setSearchRef.bind(Ln(Ln(n))),n.onDatasourceChange=n.onDatasourceChange.bind(Ln(Ln(n))),n.onClickSave=n.onClickSave.bind(Ln(Ln(n))),n.onConfirmSave=n.onConfirmSave.bind(Ln(Ln(n))),n.setDialogRef=n.setDialogRef.bind(Ln(Ln(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"onClickSave",value:function(){this.dialog.show({title:Object(u.b)("Confirm save"),bsSize:"medium",actions:[dt.a.CancelAction(),dt.a.OKAction(this.onConfirmSave)],body:this.renderSaveDialog()})}},{key:"onConfirmSave",value:function(){var e=this;m.a.post({endpoint:"/datasource/save/",postPayload:{data:this.state.datasource}}).then(function(t){var n=t.json;e.props.addSuccessToast(Object(u.b)("The datasource has been saved")),e.props.onDatasourceSave(n),e.props.onHide()}).catch(function(t){return Object(ft.a)(t).then(function(t){var n=t.error,r=t.statusText;e.dialog.show({title:"Error",bsSize:"medium",bsStyle:"danger",actions:[dt.a.DefaultAction("Ok",function(){},"btn-danger")],body:n||r||Object(u.b)("An error has occurred")})})})}},{key:"onDatasourceChange",value:function(e,t){this.setState({datasource:e,errors:t})}},{key:"setSearchRef",value:function(e){this.searchRef=e}},{key:"setDialogRef",value:function(e){this.dialog=e}},{key:"renderSaveDialog",value:function(){return o.a.createElement("div",null,o.a.createElement(l.Alert,{bsStyle:"warning",className:"pointer",onClick:this.hideAlert},o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-exclamation-triangle"})," ",Object(u.b)("The data source configuration exposed here\n                affects all the charts using this datasource.\n                Be mindful that changing settings\n                here may affect other charts\n                in undesirable ways."))),Object(u.b)("Are you sure you want to save and apply changes?"))}},{key:"render",value:function(){return o.a.createElement(l.Modal,{show:this.props.show,onHide:this.props.onHide,bsSize:"lg"},o.a.createElement(l.Modal.Header,{closeButton:!0},o.a.createElement(l.Modal.Title,null,o.a.createElement("div",null,o.a.createElement("span",{className:"float-left"},Object(u.b)("Datasource Editor for "),o.a.createElement("strong",null,this.props.datasource.name))))),o.a.createElement(l.Modal.Body,null,this.props.show&&o.a.createElement(Rn,{datasource:this.props.datasource,onChange:this.onDatasourceChange})),o.a.createElement(l.Modal.Footer,null,o.a.createElement("span",{className:"float-left"},o.a.createElement(l.Button,{bsSize:"sm",bsStyle:"default",target:"_blank",href:this.props.datasource.edit_url},Object(u.b)("Use Legacy Datasource Editor"))),o.a.createElement("span",{className:"float-right"},o.a.createElement(l.Button,{bsSize:"sm",bsStyle:"primary",className:"m-r-5",onClick:this.onClickSave,disabled:this.state.errors.length>0},Object(u.b)("Save")),o.a.createElement(l.Button,{bsSize:"sm",onClick:this.props.onHide},Object(u.b)("Cancel")),o.a.createElement(dt.a,{ref:this.setDialogRef}))))}}])&&In(n.prototype,r),a&&In(n,a),t}();Fn.propTypes=zn,Fn.defaultProps={onChange:function(){},onHide:function(){},onDatasourceSave:function(){},show:!1};var Bn=Object(kt.a)(Fn),Hn=n(146);function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Kn={addDangerToast:i.a.func.isRequired,onChange:i.a.func,onDatasourceSave:i.a.func,onHide:i.a.func,show:i.a.bool.isRequired},Qn=["name","type","schema","connection","creator"],Yn=["rawName","type","schema","connection","creator"],$n=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Wn(t).call(this,e))||"object"!==qn(o)&&"function"!=typeof o?Vn(r):o).state={loading:!0,datasources:null},n.setSearchRef=n.setSearchRef.bind(Vn(Vn(n))),n.onEnterModal=n.onEnterModal.bind(Vn(Vn(n))),n.selectDatasource=n.selectDatasource.bind(Vn(Vn(n))),n.changeSearch=n.changeSearch.bind(Vn(Vn(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"onEnterModal",value:function(){var e=this;this.searchRef&&this.searchRef.focus(),this.state.datasources||m.a.get({endpoint:"/superset/datasources/"}).then(function(t){var n=t.json.map(function(t){return{rawName:t.name,connection:t.connection,schema:t.schema,name:o.a.createElement("a",{href:"#",onClick:e.selectDatasource.bind(e,t),className:"datasource-link"},t.name),type:t.type}});e.setState({loading:!1,datasources:n})}).catch(function(t){e.setState({loading:!1}),Object(ft.a)(t).then(function(t){var n=t.error;e.props.addDangerToast(n.error||n.statusText||n)})})}},{key:"setSearchRef",value:function(e){this.searchRef=e}},{key:"changeSearch",value:function(e){this.setState({filter:e.target.value})}},{key:"selectDatasource",value:function(e){var t=this;m.a.get({endpoint:"/datasource/get/".concat(e.type,"/").concat(e.id)}).then(function(n){var r=n.json;t.props.onDatasourceSave(r),t.props.onChange(e.uid)}).catch(function(e){Object(ft.a)(e).then(function(e){var n=e.error,r=e.message,o=n?n.error||n.statusText||n:r;t.props.addDangerToast(o)})}),this.props.onHide()}},{key:"render",value:function(){var e=this,t=this.state,n=t.datasources,r=t.filter,a=t.loading,i=this.props,s=i.show,c=i.onHide;return o.a.createElement(l.Modal,{show:s,onHide:c,onEnter:this.onEnterModal,onExit:this.setSearchRef,bsSize:"lg"},o.a.createElement(l.Modal.Header,{closeButton:!0},o.a.createElement(l.Modal.Title,null,Object(u.b)("Select a datasource"))),o.a.createElement(l.Modal.Body,null,o.a.createElement("div",null,o.a.createElement(l.FormControl,{inputRef:function(t){e.setSearchRef(t)},type:"text",bsSize:"sm",value:r,placeholder:Object(u.b)("Search / Filter"),onChange:this.changeSearch})),a&&o.a.createElement(bt.a,null),n&&o.a.createElement(Hn.Table,{columns:Qn,className:"table table-condensed",data:n,itemsPerPage:20,filterable:Yn,filterBy:r,hideFilterInput:!0})))}}])&&Un(n.prototype,r),a&&Un(n,a),t}();$n.propTypes=Kn,$n.defaultProps={onChange:function(){},onDatasourceSave:function(){},onHide:function(){}};var Xn=Object(kt.a)($n);function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var rr={onChange:i.a.func,value:i.a.string,datasource:i.a.object.isRequired,onDatasourceSave:i.a.func},or=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=er(t).call(this,e))||"object"!==Zn(o)&&"function"!=typeof o?nr(r):o).state={showEditDatasourceModal:!1,showChangeDatasourceModal:!1,menuExpanded:!1},n.toggleChangeDatasourceModal=n.toggleChangeDatasourceModal.bind(nr(nr(n))),n.toggleEditDatasourceModal=n.toggleEditDatasourceModal.bind(nr(nr(n))),n.toggleShowDatasource=n.toggleShowDatasource.bind(nr(nr(n))),n.renderDatasource=n.renderDatasource.bind(nr(nr(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"toggleShowDatasource",value:function(){this.setState(function(e){return{showDatasource:!e.showDatasource}})}},{key:"toggleChangeDatasourceModal",value:function(){this.setState(function(e){return{showChangeDatasourceModal:!e.showChangeDatasourceModal}})}},{key:"toggleEditDatasourceModal",value:function(){this.setState(function(e){return{showEditDatasourceModal:!e.showEditDatasourceModal}})}},{key:"renderDatasource",value:function(){var e=this.props.datasource;return o.a.createElement("div",{className:"m-t-10"},o.a.createElement(l.Well,{className:"m-t-0"},o.a.createElement("div",{className:"m-b-10"},o.a.createElement(l.Label,null,o.a.createElement("i",{className:"fa fa-database"})," ",e.database.backend)," ".concat(e.database.name," ")),o.a.createElement(l.Row,{className:"datasource-container"},o.a.createElement(l.Col,{md:6},o.a.createElement("strong",null,"Columns"),e.columns.map(function(e){return o.a.createElement("div",{key:e.column_name},o.a.createElement(ut.a,{showType:!0,column:e}))})),o.a.createElement(l.Col,{md:6},o.a.createElement("strong",null,"Metrics"),e.metrics.map(function(e){return o.a.createElement("div",{key:e.metric_name},o.a.createElement(ct.a,{metric:e,showType:!0}))})))))}},{key:"render",value:function(){var e=this.state,t=e.menuExpanded,n=e.showChangeDatasourceModal,r=e.showEditDatasourceModal,a=this.props,i=a.datasource,s=a.onChange,c=a.onDatasourceSave,p=a.value;return o.a.createElement("div",null,o.a.createElement(S.a,this.props),o.a.createElement("div",{className:"btn-group label-dropdown"},o.a.createElement(l.OverlayTrigger,{placement:"right",overlay:o.a.createElement(l.Tooltip,{id:"error-tooltip"},Object(u.b)("Click to edit the datasource"))},o.a.createElement("div",{className:"btn-group"},o.a.createElement(l.Label,{onClick:this.toggleEditDatasourceModal,className:"label-btn-label"},i.name))),o.a.createElement(l.DropdownButton,{noCaret:!0,title:o.a.createElement("span",null,o.a.createElement("i",{className:"float-right expander fa fa-angle-".concat(t?"up":"down")})),className:"label label-btn m-r-5",bsSize:"sm",id:"datasource_menu"},o.a.createElement(l.MenuItem,{eventKey:"3",onClick:this.toggleEditDatasourceModal},Object(u.b)("Edit Datasource")),"table"===i.type&&o.a.createElement(l.MenuItem,{eventKey:"3",href:"/superset/sqllab?datasourceKey=".concat(p),target:"_blank",rel:"noopener noreferrer"},Object(u.b)("Explore in SQL Lab")),o.a.createElement(l.MenuItem,{eventKey:"3",onClick:this.toggleChangeDatasourceModal},Object(u.b)("Change Datasource"))),o.a.createElement(l.OverlayTrigger,{placement:"right",overlay:o.a.createElement(l.Tooltip,{id:"toggle-datasource-tooltip"},Object(u.b)("Expand/collapse datasource configuration"))},o.a.createElement("a",{href:"#"},o.a.createElement("i",{className:"fa fa-".concat(this.state.showDatasource?"minus":"plus","-square m-r-5 m-l-5 m-t-4"),onClick:this.toggleShowDatasource})))),o.a.createElement(l.Collapse,{in:this.state.showDatasource},this.renderDatasource()),o.a.createElement(Bn,{datasource:i,show:r,onDatasourceSave:c,onHide:this.toggleEditDatasourceModal}),o.a.createElement(Xn,{onDatasourceSave:c,onHide:this.toggleChangeDatasourceModal,show:n,onChange:s}))}}])&&Jn(n.prototype,r),a&&Jn(n,a),t}();or.propTypes=rr,or.defaultProps={onChange:function(){},onDatasourceSave:function(){},value:null};var ar=or,ir=n(1370),lr=n(276),sr=n.n(lr),ur=n(421),cr=i.a.shape({aggregate_name:i.a.string.isRequired}),pr={aggregate:cr,showType:i.a.bool};function dr(e){var t=e.aggregate,n=e.showType;return o.a.createElement("div",null,n&&o.a.createElement(ur.a,{type:"aggregate"}),o.a.createElement("span",{className:"m-r-5 option-label"},t.aggregate_name))}dr.propTypes=pr;var fr=i.a.shape({column_name:i.a.string.isRequired,type:i.a.string}),hr=i.a.shape({metric_name:i.a.string.isRequired,expression:i.a.string.isRequired}),br={option:i.a.oneOfType([fr,hr,cr]).isRequired,addWarningToast:i.a.func.isRequired};function mr(e){var t=e.option,n=e.addWarningToast;return t.metric_name?o.a.createElement(ct.a,{metric:t,showType:!0}):t.column_name?o.a.createElement(ut.a,{column:t,showType:!0}):t.aggregate_name?o.a.createElement(dr,{aggregate:t,showType:!0}):(n("You must supply either a saved metric, column or aggregate to MetricDefinitionOption"),null)}mr.propTypes=br;var gr=Object(kt.a)(mr),yr=n(398),vr=n.n(yr),_r=(n(1114),n(1212),n(125));function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wr={SIMPLE:"SIMPLE",SQL:"SQL"};function Cr(e){if(e.sqlExpression&&_r.j.test(e.sqlExpression)){var t=e.sqlExpression.indexOf(")"),n=e.sqlExpression.substring(0,t).lastIndexOf("(");if(t>0&&n>0)return e.sqlExpression.substring(n+1,t)}return null}function xr(e){if(e.sqlExpression&&_r.j.test(e.sqlExpression)){var t=e.sqlExpression.indexOf("(");if(t>0)return e.sqlExpression.substring(0,t)}return null}var Er=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.expressionType=t.expressionType||wr.SIMPLE,this.expressionType===wr.SIMPLE){var n=Cr(t);this.column=t.column||n&&{column_name:n},this.aggregate=t.aggregate||xr(t),this.sqlExpression=null}else this.expressionType===wr.SQL&&(this.sqlExpression=t.sqlExpression,this.column=null,this.aggregate=null);this.hasCustomLabel=!(!t.hasCustomLabel||!t.label),this.fromFormData=!!t.optionName,this.label=this.hasCustomLabel?t.label:this.getDefaultLabel(),this.optionName=t.optionName||"metric_".concat(Math.random().toString(36).substring(2,15),"_").concat(Math.random().toString(36).substring(2,15))}var t,n,r;return t=e,(n=[{key:"getDefaultLabel",value:function(){var e=this.translateToSql();return e.length<43?e:e.substring(0,40)+"..."}},{key:"translateToSql",value:function(){return this.expressionType===wr.SIMPLE?"".concat(this.aggregate||"","(").concat(this.column&&this.column.column_name||"",")"):this.expressionType===wr.SQL?this.sqlExpression:""}},{key:"duplicateWith",value:function(t){return new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Or(e,t,n[t])})}return e}({},this,t))}},{key:"equals",value:function(e){return e.label===this.label&&e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.aggregate===this.aggregate&&(e.column&&e.column.column_name)===(this.column&&this.column.column_name)}},{key:"isValid",value:function(){return this.expressionType===wr.SIMPLE?!(!this.column||!this.aggregate):this.expressionType===wr.SQL&&!!this.sqlExpression}},{key:"inferSqlExpressionAggregate",value:function(){return xr(this)}},{key:"inferSqlExpressionColumn",value:function(){return Cr(this)}}])&&Sr(t.prototype,n),r&&Sr(t,r),e}();function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e,t){return(Pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Rr={adhocMetric:i.a.instanceOf(Er),onChange:i.a.func.isRequired},Ar=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Tr(t).call(this,e))||"object"!==jr(o)&&"function"!=typeof o?Mr(r):o).onMouseOver=n.onMouseOver.bind(Mr(Mr(n))),n.onMouseOut=n.onMouseOut.bind(Mr(Mr(n))),n.onClick=n.onClick.bind(Mr(Mr(n))),n.onBlur=n.onBlur.bind(Mr(Mr(n))),n.state={isHovered:!1,isEditable:!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pr(e,t)}(t,o.a.Component),n=t,(r=[{key:"onMouseOver",value:function(){this.setState({isHovered:!0})}},{key:"onMouseOut",value:function(){this.setState({isHovered:!1})}},{key:"onClick",value:function(){this.setState({isEditable:!0})}},{key:"onBlur",value:function(){this.setState({isEditable:!1})}},{key:"refFunc",value:function(e){e&&e.focus()}},{key:"render",value:function(){var e=this.props,t=e.adhocMetric,n=e.onChange,r=o.a.createElement(l.Tooltip,{id:"edit-metric-label-tooltip"},"Click to edit label");return o.a.createElement(l.OverlayTrigger,{placement:"top",overlay:r,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onClick:this.onClick,onBlur:this.onBlur},this.state.isEditable?o.a.createElement(l.FormControl,{className:"metric-edit-popover-label-input",type:"text",placeholder:t.label,value:t.hasCustomLabel?t.label:"",onChange:n,inputRef:this.refFunc}):o.a.createElement("span",null,t.hasCustomLabel?t.label:"My Metric","",o.a.createElement("i",{className:"fa fa-pencil",style:{color:this.state.isHovered?"black":"grey"}})))}}])&&kr(n.prototype,r),a&&kr(n,a),t}();Ar.propTypes=Rr;var Ir=n(1077);function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nr(){return(Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fr(e){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var qr=vr.a.acequire("ace/ext/language_tools"),Ur={adhocMetric:i.a.instanceOf(Er).isRequired,onChange:i.a.func.isRequired,onClose:i.a.func.isRequired,onResize:i.a.func.isRequired,columns:i.a.arrayOf(fr),datasourceType:i.a.string},Wr=300,Gr=180,Vr=function(e){function t(e){var n,r,o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Fr(t).call(this,e))||"object"!==Dr(o)&&"function"!=typeof o?Hr(r):o).onSave=n.onSave.bind(Hr(Hr(n))),n.onColumnChange=n.onColumnChange.bind(Hr(Hr(n))),n.onAggregateChange=n.onAggregateChange.bind(Hr(Hr(n))),n.onSqlExpressionChange=n.onSqlExpressionChange.bind(Hr(Hr(n))),n.onLabelChange=n.onLabelChange.bind(Hr(Hr(n))),n.onDragDown=n.onDragDown.bind(Hr(Hr(n))),n.onMouseMove=n.onMouseMove.bind(Hr(Hr(n))),n.onMouseUp=n.onMouseUp.bind(Hr(Hr(n))),n.handleAceEditorRef=n.handleAceEditorRef.bind(Hr(Hr(n))),n.refreshAceEditor=n.refreshAceEditor.bind(Hr(Hr(n))),n.state={adhocMetric:n.props.adhocMetric,width:Wr,height:Gr},n.selectProps={multi:!1,name:"select-column",labelKey:"label",autosize:!1,clearable:!0,selectWrap:_.a},qr){var a=Ir.b.concat(n.props.columns.map(function(e){return{name:e.column_name,value:e.column_name,score:50,meta:"column"}})),i={getCompletions:function(e,t,n,r,o){o(null,a)}};qr.setCompleters([i])}return document.addEventListener("mouseup",n.onMouseUp),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}},{key:"onSave",value:function(){this.props.onChange(this.state.adhocMetric),this.props.onClose()}},{key:"onColumnChange",value:function(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({column:e,expressionType:wr.SIMPLE})})}},{key:"onAggregateChange",value:function(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({aggregate:e&&e.aggregate,expressionType:wr.SIMPLE})})}},{key:"onSqlExpressionChange",value:function(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({sqlExpression:e,expressionType:wr.SQL})})}},{key:"onLabelChange",value:function(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({label:e.target.value,hasCustomLabel:!0})})}},{key:"onDragDown",value:function(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener("mousemove",this.onMouseMove)}},{key:"onMouseMove",value:function(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),Wr),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),Gr)})}},{key:"onMouseUp",value:function(){document.removeEventListener("mousemove",this.onMouseMove)}},{key:"handleAceEditorRef",value:function(e){e&&(this.aceEditorRef=e)}},{key:"refreshAceEditor",value:function(){var e=this;setTimeout(function(){return e.aceEditorRef.editor.resize()},0)}},{key:"render",value:function(){var e=this.props,t=e.adhocMetric,n=e.columns,r=(e.onChange,e.onClose,e.onResize,e.datasourceType,Lr(e,["adhocMetric","columns","onChange","onClose","onResize","datasourceType"])),a=this.state.adhocMetric,i={placeholder:Object(u.b)("%s column(s)",n.length),options:n,value:a.column&&a.column.column_name||a.inferSqlExpressionColumn(),onChange:this.onColumnChange,optionRenderer:Object(w.a)(function(e){return o.a.createElement(ut.a,{column:e,showType:!0})}),valueRenderer:function(e){return e.column_name},valueKey:"column_name"},s={placeholder:Object(u.b)("%s aggregates(s)",Object.keys(_r.a).length),options:Object.keys(_r.a).map(function(e){return{aggregate:e}}),value:a.aggregate||a.inferSqlExpressionAggregate(),onChange:this.onAggregateChange,optionRenderer:Object(w.a)(function(e){return e.aggregate}),valueRenderer:function(e){return e.aggregate},valueKey:"aggregate"};"druid"===this.props.datasourceType&&(s.options=s.options.filter(function(e){return"AVG"!==e.aggregate}));var c=o.a.createElement(Ar,{adhocMetric:a,onChange:this.onLabelChange}),p=a.isValid(),d=!a.equals(t);return o.a.createElement(l.Popover,Nr({id:"metrics-edit-popover",title:c},r),o.a.createElement(l.Tabs,{id:"adhoc-metric-edit-tabs",defaultActiveKey:a.expressionType,className:"adhoc-metric-edit-tabs",style:{height:this.state.height,width:this.state.width},onSelect:this.refreshAceEditor,animation:!1},o.a.createElement(l.Tab,{className:"adhoc-metric-edit-tab",eventKey:wr.SIMPLE,title:"Simple"},o.a.createElement(l.FormGroup,null,o.a.createElement(l.ControlLabel,null,o.a.createElement("strong",null,"column")),o.a.createElement(C.a,Nr({},this.selectProps,i))),o.a.createElement(l.FormGroup,null,o.a.createElement(l.ControlLabel,null,o.a.createElement("strong",null,"aggregate")),o.a.createElement(C.a,Nr({autoFocus:!0},this.selectProps,s)))),o.a.createElement(l.Tab,{className:"adhoc-metric-edit-tab",eventKey:wr.SQL,title:"Custom SQL"},"druid"!==this.props.datasourceType?o.a.createElement(l.FormGroup,null,o.a.createElement(yt.a,{ref:this.handleAceEditorRef,mode:"sql",theme:"github",height:this.state.height-43+"px",onChange:this.onSqlExpressionChange,width:"100%",showGutter:!1,value:a.sqlExpression||a.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:"adhoc-filter-sql-editor",wrapEnabled:!0})):o.a.createElement("div",{className:"custom-sql-disabled-message"},"Custom SQL Metrics are not available on druid datasources"))),o.a.createElement("div",null,o.a.createElement(l.Button,{disabled:!p,bsStyle:d&&p?"primary":"default",bsSize:"small",className:"m-r-5",onClick:this.onSave},"Save"),o.a.createElement(l.Button,{bsSize:"small",onClick:this.props.onClose},"Close"),o.a.createElement("i",{onMouseDown:this.onDragDown,className:"glyphicon glyphicon-resize-full edit-popover-resize"})))}}])&&zr(n.prototype,r),a&&zr(n,a),t}();function Kr(e){return(Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yr(e){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $r(e,t){return($r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Vr.propTypes=Ur,Vr.defaultProps={columns:[]};var Zr={adhocMetric:i.a.instanceOf(Er),onMetricEdit:i.a.func.isRequired,columns:i.a.arrayOf(fr),multi:i.a.bool,datasourceType:i.a.string},Jr=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Yr(t).call(this,e))||"object"!==Kr(o)&&"function"!=typeof o?Xr(r):o).closeMetricEditOverlay=n.closeMetricEditOverlay.bind(Xr(Xr(n))),n.onOverlayEntered=n.onOverlayEntered.bind(Xr(Xr(n))),n.onOverlayExited=n.onOverlayExited.bind(Xr(Xr(n))),n.onPopoverResize=n.onPopoverResize.bind(Xr(Xr(n))),n.state={overlayShown:!n.props.adhocMetric.fromFormData},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$r(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"onPopoverResize",value:function(){this.forceUpdate()}},{key:"onOverlayEntered",value:function(){this.setState({overlayShown:!0})}},{key:"onOverlayExited",value:function(){this.setState({overlayShown:!1})}},{key:"closeMetricEditOverlay",value:function(){this.refs.overlay.hide()}},{key:"render",value:function(){var e=this.props.adhocMetric,t=o.a.createElement(Vr,{onResize:this.onPopoverResize,adhocMetric:e,onChange:this.props.onMetricEdit,onClose:this.closeMetricEditOverlay,columns:this.props.columns,datasourceType:this.props.datasourceType});return o.a.createElement(l.OverlayTrigger,{ref:"overlay",placement:"right",trigger:"click",disabled:!0,overlay:t,rootClose:!0,shouldUpdatePosition:!0,defaultOverlayShown:!e.fromFormData,onEntered:this.onOverlayEntered,onExited:this.onOverlayExited},o.a.createElement(l.Label,{style:{margin:this.props.multi?0:3,cursor:"pointer"}},o.a.createElement("div",{onMouseDownCapture:function(e){e.stopPropagation()}},o.a.createElement("span",{className:"m-r-5 option-label"},e.label,o.a.createElement("i",{className:"glyphicon glyphicon-triangle-".concat(this.state.overlayShown?"left":"right"," adhoc-label-arrow")})))))}}])&&Qr(n.prototype,r),a&&Qr(n,a),t}();Jr.propTypes=Zr;var eo=i.a.oneOfType([i.a.shape({expressionType:i.a.oneOf([wr.SIMPLE]).isRequired,column:fr.isRequired,aggregate:i.a.oneOf(Object.keys(_r.a)).isRequired,label:i.a.string.isRequired}),i.a.shape({expressionType:i.a.oneOf([wr.SQL]).isRequired,sqlExpression:i.a.string.isRequired,label:i.a.string.isRequired})]),to={option:i.a.oneOfType([hr,eo]).isRequired,onMetricEdit:i.a.func,columns:i.a.arrayOf(fr),multi:i.a.bool,datasourceType:i.a.string};function no(e){var t=e.option,n=e.onMetricEdit,r=e.columns,a=e.multi,i=e.datasourceType;return t.metric_name?o.a.createElement(ct.a,{metric:t}):t instanceof Er?o.a.createElement(Jr,{adhocMetric:t,onMetricEdit:n,columns:r,multi:a,datasourceType:i}):null}function ro(e){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ao(e,t,n[t])})}return e}function ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lo(e){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function so(e,t){return(so=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function co(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}no.propTypes=to;var po={name:i.a.string.isRequired,onChange:i.a.func,value:i.a.oneOfType([i.a.arrayOf(i.a.oneOfType([i.a.string,eo])),i.a.oneOfType([i.a.string,eo])]),columns:i.a.arrayOf(fr),savedMetrics:i.a.arrayOf(hr),multi:i.a.bool,clearable:i.a.bool,datasourceType:i.a.string};function fo(e){return e&&!(e instanceof Er)&&e.expressionType}function ho(e){return e?Array.isArray(e)?e.map(function(e){return fo(e)?new Er(e):e}):fo(e)?[new Er(e)]:[e]:[]}var bo=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=lo(t).call(this,e),(n=!a||"object"!==ro(a)&&"function"!=typeof a?uo(r):a).onChange=n.onChange.bind(uo(uo(n))),n.onMetricEdit=n.onMetricEdit.bind(uo(uo(n))),n.checkIfAggregateInInput=n.checkIfAggregateInInput.bind(uo(uo(n))),n.optionsForSelect=n.optionsForSelect.bind(uo(uo(n))),n.selectFilterOption=n.selectFilterOption.bind(uo(uo(n))),n.isAutoGeneratedMetric=n.isAutoGeneratedMetric.bind(uo(uo(n))),n.optionRenderer=Object(w.a)(function(e){return o.a.createElement(gr,{option:e})},{ignoreAutogeneratedMetrics:!0}),n.valueRenderer=function(e){return o.a.createElement(no,{option:e,onMetricEdit:n.onMetricEdit,columns:n.props.columns,multi:n.props.multi,datasourceType:n.props.datasourceType})},n.refFunc=function(e){e&&(n.select=e._selectRef)},n.state={aggregateInInput:null,options:n.optionsForSelect(n.props),value:ho(n.props.value)},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&so(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=this.props.value;sr()(this.props.columns,e.columns)&&sr()(this.props.savedMetrics,e.savedMetrics)||(this.setState({options:this.optionsForSelect(e)}),function(e,t){var n=new Set([].concat(co(t.columns),co(t.savedMetrics)).map(function(e){var t=e.column_name,n=e.metric_name;return t||n}));return(Array.isArray(e)?e:[e]).filter(function(e){return e}).map(function(e){return e.column?e.column.column_name:e.column_name||e}).filter(function(e){return e}).every(function(e){return n.has(e)})}(t,e)||this.props.onChange([]));t!==e.value&&this.setState({value:ho(e.value)})}},{key:"onMetricEdit",value:function(e){var t=this.state.value.map(function(t){return t.optionName===e.optionName?e:t});this.props.multi||(t=t[0]),this.props.onChange(t)}},{key:"onChange",value:function(e){var t=this;if(null!==e){var n=e;this.props.multi||(n=[e].filter(function(e){return e}));var r=n.map(function(e){if(e.metric_name)return e.metric_name;if(e.column_name){var n=t.clearedAggregateInInput;return t.clearedAggregateInInput=null,new Er({column:e,aggregate:n||(o=e,a=o.type,"string"!=typeof a?_r.a.COUNT:""===a||"expression"===a?_r.a.SUM:a.match(/.*char.*/i)||a.match(/string.*/i)||a.match(/.*text.*/i)?_r.a.COUNT_DISTINCT:a.match(/.*int.*/i)||"LONG"===a||"DOUBLE"===a||"FLOAT"===a?_r.a.SUM:a.match(/.*bool.*/i)?_r.a.MAX:a.match(/.*time.*/i)?_r.a.COUNT:a.match(/unknown/i)?_r.a.COUNT:null)})}if(e instanceof Er)return e;if(e.aggregate_name){var r="".concat(e.aggregate_name,"()");return t.select.setInputValue(r),t.select.handleInputChange({target:{value:r}}),setTimeout(function(){t.select.input.input.selectionStart=r.length-1,t.select.input.input.selectionEnd=r.length-1},0),null}var o,a;return null}).filter(function(e){return e});this.props.multi||(r=r[0]),this.props.onChange(r)}else this.props.onChange(null)}},{key:"checkIfAggregateInInput",value:function(e){var t={aggregateInInput:null};Object.keys(_r.a).forEach(function(n){e.toLowerCase().startsWith(n.toLowerCase()+"(")&&(t={aggregateInInput:n})}),this.clearedAggregateInInput=this.state.aggregateInInput,this.setState(t)}},{key:"optionsForSelect",value:function(e){return[].concat(co(e.columns),co(Object.keys(_r.a).map(function(e){return{aggregate_name:e}})),co(e.savedMetrics)).reduce(function(e,t){return t.metric_name?e.push(oo({},t,{optionName:t.metric_name})):t.column_name?e.push(oo({},t,{optionName:"_col_"+t.column_name})):t.aggregate_name&&e.push(oo({},t,{optionName:"_aggregate_"+t.aggregate_name})),e},[])}},{key:"isAutoGeneratedMetric",value:function(e){return"druid"===this.props.datasourceType?_r.h.test(e.verbose_name):_r.i.test(e.metric_name)}},{key:"selectFilterOption",value:function(e,t){if(this.state.aggregateInInput){var n=t.length;t.endsWith(")")&&(n=t.length-1);var r=t.substring(t.indexOf("(")+1,n);return e.column_name&&e.column_name.toLowerCase().indexOf(r)>=0}return e.optionName&&(!e.metric_name||!this.isAutoGeneratedMetric(e)||e.verbose_name)&&(e.optionName.toLowerCase().indexOf(t)>=0||e.verbose_name&&e.verbose_name.toLowerCase().indexOf(t)>=0)}},{key:"render",value:function(){return o.a.createElement("div",{className:"metrics-select"},o.a.createElement(S.a,this.props),o.a.createElement(C.a,{multi:this.props.multi,name:"select-".concat(this.props.name),placeholder:Object(u.b)("choose a column or aggregate function"),options:this.state.options,value:this.props.multi?this.state.value:this.state.value[0],labelKey:"label",valueKey:"optionName",clearable:this.props.clearable,closeOnSelect:!0,onChange:this.onChange,optionRenderer:this.optionRenderer,valueRenderer:this.valueRenderer,onInputChange:this.checkIfAggregateInInput,filterOption:this.selectFilterOption,refFunc:this.refFunc,selectWrap:_.a}))}}])&&io(n.prototype,r),a&&io(n,a),t}();function mo(e){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yo(e){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vo(e,t){return(vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}bo.propTypes=po,bo.defaultProps={onChange:function(){},clearable:!0};var Oo={fixed:"fix",metric:"metric"},So={onChange:i.a.func,value:i.a.object,isFloat:i.a.bool,datasource:i.a.object.isRequired,default:i.a.shape({type:i.a.oneOf(["fix","metric"]),value:i.a.oneOfType([i.a.string,i.a.number])})},wo={onChange:function(){},default:{type:Oo.fixed,value:5}},Co=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=yo(t).call(this,e))||"object"!==mo(o)&&"function"!=typeof o?_o(r):o).onChange=n.onChange.bind(_o(_o(n))),n.setType=n.setType.bind(_o(_o(n))),n.setFixedValue=n.setFixedValue.bind(_o(_o(n))),n.setMetric=n.setMetric.bind(_o(_o(n)));var a=(e.value?e.value.type:e.default.type)||Oo.fixed,i=(e.value?e.value.value:e.default.value)||"100";return n.state={type:a,fixedValue:a===Oo.fixed?i:"",metricValue:a===Oo.metric?i:null},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vo(e,t)}(t,o.a.Component),n=t,(r=[{key:"onChange",value:function(){this.props.onChange({type:this.state.type,value:this.state.type===Oo.fixed?this.state.fixedValue:this.state.metricValue})}},{key:"setType",value:function(e){this.setState({type:e},this.onChange)}},{key:"setFixedValue",value:function(e){this.setState({fixedValue:e},this.onChange)}},{key:"setMetric",value:function(e){this.setState({metricValue:e},this.onChange)}},{key:"renderPopover",value:function(){var e=this,t=(this.props.value||this.props.default).type||Oo.fixed;return o.a.createElement(l.Popover,{id:"filter-popover"},o.a.createElement("div",{style:{width:"240px"}},o.a.createElement(J.a,{title:"Fixed",isSelected:t===Oo.fixed,onSelect:function(){e.onChange(Oo.fixed)}},o.a.createElement(H,{isFloat:!0,onChange:this.setFixedValue,onFocus:function(){e.setType(Oo.fixed)},value:this.state.fixedValue})),o.a.createElement(J.a,{title:"Based on a metric",isSelected:t===Oo.metric,onSelect:function(){e.onChange(Oo.metric)}},o.a.createElement(bo,{name:"metric",datasource:this.state.datasource,multi:!1,onFocus:function(){e.setType(Oo.metric)},onChange:this.setMetric,value:this.state.metricValue}))))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(S.a,this.props),o.a.createElement(l.OverlayTrigger,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},o.a.createElement(l.Label,{style:{cursor:"pointer"}},this.state.type===Oo.fixed&&o.a.createElement("span",null,this.state.fixedValue),this.state.type===Oo.metric&&o.a.createElement("span",null,o.a.createElement("span",{style:{fontWeight:"normal"}},"metric: "),o.a.createElement("strong",null,this.state.metricValue)))))}}])&&go(n.prototype,r),a&&go(n,a),t}();Co.propTypes=So,Co.defaultProps=wo;var xo={onChange:i.a.func,value:i.a.oneOfType([i.a.string,i.a.number,i.a.object])};function Eo(e){return o.a.createElement(l.FormControl,{type:"hidden",value:e.value})}Eo.propTypes=xo,Eo.defaultProps={onChange:function(){}};var jo=n(1298);function ko(){return(ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var To={onChange:i.a.func,value:i.a.oneOfType([i.a.string,i.a.number])};function Po(e){return o.a.createElement("div",null,o.a.createElement(S.a,e),o.a.createElement(jo.a,ko({},e,{change:function(t){e.onChange(t.target.value)}})))}function Mo(e){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Io(e){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Do(e,t){return(Do=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function No(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Po.propTypes=To,Po.defaultProps={onChange:function(){}};var Lo={onChange:i.a.func},zo=[{value:"value",label:"Actual value"},{value:"diff",label:"Difference"},{value:"perc",label:"Percentage"},{value:"perc_change",label:"Percentage Change"}],Fo=[{value:"time",label:"Time Comparison"},{value:"contrib",label:"Contribution"},{value:"spark",label:"Sparkline"},{value:"avg",label:"Period Average"}],Bo=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=Io(t).call(this,e))||"object"!==Mo(o)&&"function"!=typeof o?No(r):o;var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ro(e,t,n[t])})}return e}({},e);return delete a.onChange,n.state=a,n.onChange=n.onChange.bind(No(No(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Do(e,t)}(t,o.a.Component),n=t,(r=[{key:"onChange",value:function(){this.props.onChange(this.state)}},{key:"onSelectChange",value:function(e,t){this.setState(Ro({},e,t.value),this.onChange)}},{key:"onTextInputChange",value:function(e,t){this.setState(Ro({},e,t.target.value),this.onChange)}},{key:"onCheckboxChange",value:function(e,t){this.setState(Ro({},e,t),this.onChange)}},{key:"onBoundsChange",value:function(e){this.setState({bounds:e},this.onChange)}},{key:"onYAxisBoundsChange",value:function(e){this.setState({yAxisBounds:e},this.onChange)}},{key:"setType",value:function(){}},{key:"textSummary",value:function(){return"".concat(this.state.label)}},{key:"edit",value:function(){}},{key:"formRow",value:function(e,t,n,r){return o.a.createElement(l.Row,{style:{marginTop:"5px"}},o.a.createElement(l.Col,{md:5},"".concat(e," "),o.a.createElement(d.a,{placement:"top",tooltip:t,label:n})),o.a.createElement(l.Col,{md:7},r))}},{key:"renderPopover",value:function(){return o.a.createElement(l.Popover,{id:"ts-col-popo",title:"Column Configuration"},o.a.createElement("div",{style:{width:300}},this.formRow("Label","The column header label","time-lag",o.a.createElement(l.FormControl,{value:this.state.label,onChange:this.onTextInputChange.bind(this,"label"),bsSize:"small",placeholder:"Label"})),this.formRow("Tooltip","Column header tooltip","col-tooltip",o.a.createElement(l.FormControl,{value:this.state.tooltip,onChange:this.onTextInputChange.bind(this,"tooltip"),bsSize:"small",placeholder:"Tooltip"})),this.formRow("Type","Type of comparison, value difference or percentage","col-type",o.a.createElement(O.default,{value:this.state.colType,clearable:!1,onChange:this.onSelectChange.bind(this,"colType"),options:Fo})),o.a.createElement("hr",null),"spark"===this.state.colType&&this.formRow("Width","Width of the sparkline","spark-width",o.a.createElement(l.FormControl,{value:this.state.width,onChange:this.onTextInputChange.bind(this,"width"),bsSize:"small",placeholder:"Width"})),"spark"===this.state.colType&&this.formRow("Height","Height of the sparkline","spark-width",o.a.createElement(l.FormControl,{value:this.state.height,onChange:this.onTextInputChange.bind(this,"height"),bsSize:"small",placeholder:"height"})),["time","avg"].indexOf(this.state.colType)>=0&&this.formRow("Time Lag","Number of periods to compare against","time-lag",o.a.createElement(l.FormControl,{value:this.state.timeLag,onChange:this.onTextInputChange.bind(this,"timeLag"),bsSize:"small",placeholder:"Time Lag"})),["spark"].indexOf(this.state.colType)>=0&&this.formRow("Time Ratio","Number of periods to ratio against","time-ratio",o.a.createElement(l.FormControl,{value:this.state.timeRatio,onChange:this.onTextInputChange.bind(this,"timeRatio"),bsSize:"small",placeholder:"Time Lag"})),"time"===this.state.colType&&this.formRow("Type","Type of comparison, value difference or percentage","comp-type",o.a.createElement(O.default,{value:this.state.comparisonType,clearable:!1,onChange:this.onSelectChange.bind(this,"comparisonType"),options:zo})),"spark"===this.state.colType&&this.formRow("Show Y-axis","Show Y-axis on the sparkline. Will display the manually set min/max if set or min/max values in the data otherwise.","show-y-axis-bounds",o.a.createElement(X,{value:this.state.showYAxis,onChange:this.onCheckboxChange.bind(this,"showYAxis")})),"spark"===this.state.colType&&this.formRow("Y-axis bounds","Manually set min/max values for the y-axis.","y-axis-bounds",o.a.createElement(Ee,{value:this.state.yAxisBounds,onChange:this.onYAxisBoundsChange.bind(this)})),"spark"!==this.state.colType&&this.formRow("Color bounds","Number bounds used for color encoding from red to blue.\n              Reverse the numbers for blue to red. To get pure red or blue,\n              you can enter either only min or max.","bounds",o.a.createElement(Ee,{value:this.state.bounds,onChange:this.onBoundsChange.bind(this)})),this.formRow("Number format","Optional d3 number format string","d3-format",o.a.createElement(l.FormControl,{value:this.state.d3format,onChange:this.onTextInputChange.bind(this,"d3format"),bsSize:"small",placeholder:"Number format string"})),"spark"===this.state.colType&&this.formRow("Date format","Optional d3 date format string","date-format",o.a.createElement(l.FormControl,{value:this.state.dateFormat,onChange:this.onTextInputChange.bind(this,"dateFormat"),bsSize:"small",placeholder:"Date format string"}))))}},{key:"render",value:function(){return o.a.createElement("span",null,this.textSummary()," ",o.a.createElement(l.OverlayTrigger,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},o.a.createElement(d.a,{icon:"edit",className:"text-primary",onClick:this.edit.bind(this),label:"edit-ts-column"})))}}])&&Ao(n.prototype,r),a&&Ao(n,a),t}();Bo.propTypes=Lo,Bo.defaultProps={onChange:function(){}};var Ho=n(1283),qo=n(1052);function Uo(e){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vo(e){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ko(e,t){return(Ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Yo=["longitude","latitude","zoom","bearing","pitch"],$o={onChange:i.a.func.isRequired,value:i.a.shape({longitude:i.a.number,latitude:i.a.number,zoom:i.a.number,bearing:i.a.number,pitch:i.a.number}),default:i.a.object,name:i.a.string.isRequired},Xo={onChange:function(){},default:{type:"fix",value:5},value:qo.a},Zo=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Vo(t).call(this,e))||"object"!==Uo(o)&&"function"!=typeof o?Qo(r):o).onChange=n.onChange.bind(Qo(Qo(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ko(e,t)}(t,o.a.Component),n=t,(r=[{key:"onChange",value:function(e,t){this.props.onChange(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Wo(e,t,n[t])})}return e}({},this.props.value,Wo({},e,t)))}},{key:"renderTextControl",value:function(e){return o.a.createElement("div",{key:e},e,o.a.createElement(H,{value:this.props.value[e],onChange:this.onChange.bind(this,e),isFloat:!0}))}},{key:"renderPopover",value:function(){var e=this;return o.a.createElement(l.Popover,{id:"filter-popover-".concat(this.props.name),title:"Viewport"},Yo.map(function(t){return e.renderTextControl(t)}))}},{key:"renderLabel",value:function(){return this.props.value.longitude&&this.props.value.latitude?Object(Ho.decimal2sexagesimal)(this.props.value.longitude)+" | "+Object(Ho.decimal2sexagesimal)(this.props.value.latitude):"N/A"}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(S.a,this.props),o.a.createElement(l.OverlayTrigger,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},o.a.createElement(l.Label,{style:{cursor:"pointer"}},this.renderLabel())))}}])&&Go(n.prototype,r),a&&Go(n,a),t}();Zo.propTypes=$o,Zo.defaultProps=Xo;var Jo=n(1178);function ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var na={SIMPLE:"SIMPLE",SQL:"SQL"},ra={HAVING:"HAVING",WHERE:"WHERE"},oa={"==":"=","!=":"<>",">":">","<":"<",">=":">=","<=":"<=",in:"in","not in":"not in",LIKE:"like",regex:"regex","IS NOT NULL":"IS NOT NULL","IS NULL":"IS NULL"};function aa(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).useSimple;if(e.expressionType===na.SIMPLE||t){var n=_r.e.indexOf(e.operator)>=0,r=e.subject,o=oa[e.operator],a=Array.isArray(e.comparator)?e.comparator.join("','"):e.comparator;return"".concat(r," ").concat(o," ").concat(n?"('":"").concat(a).concat(n?"')":"")}return e.expressionType===na.SQL?e.sqlExpression:""}var ia=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.expressionType=t.expressionType||na.SIMPLE,this.expressionType===na.SIMPLE?(this.subject=t.subject,this.operator=t.operator,this.comparator=t.comparator,this.clause=t.clause,this.sqlExpression=null):this.expressionType===na.SQL&&(this.sqlExpression="string"==typeof t.sqlExpression?t.sqlExpression:aa(t,{useSimple:!0}),this.clause=t.clause,this.subject=null,this.operator=null,this.comparator=null),this.fromFormData=!!t.filterOptionName,this.filterOptionName=t.filterOptionName||"filter_".concat(Math.random().toString(36).substring(2,15),"_").concat(Math.random().toString(36).substring(2,15))}var t,n,r;return t=e,(n=[{key:"duplicateWith",value:function(t){return new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ea(e,t,n[t])})}return e}({},this,{expressionType:this.expressionType,subject:this.subject,operator:this.operator,clause:this.clause,sqlExpression:this.sqlExpression,fromFormData:this.fromFormData,filterOptionName:this.filterOptionName},t))}},{key:"equals",value:function(e){return e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.operator===this.operator&&e.comparator===this.comparator&&e.subject===this.subject}},{key:"isValid",value:function(){return this.expressionType===na.SIMPLE?"IS NOT NULL"===this.operator||"IS NULL"===this.operator?!(!this.operator||!this.subject):!!(this.operator&&this.subject&&this.comparator&&this.comparator.length>0&&this.clause):this.expressionType===na.SQL&&!(!this.sqlExpression||!this.clause)}},{key:"getDefaultLabel",value:function(){var e=this.translateToSql();return e.length<43?e:e.substring(0,40)+"..."}},{key:"translateToSql",value:function(){return aa(this)}}])&&ta(t.prototype,n),r&&ta(t,r),e}(),la=i.a.oneOfType([i.a.shape({expressionType:i.a.oneOf([na.SIMPLE]).isRequired,clause:i.a.oneOf([ra.HAVING,ra.WHERE]).isRequired,subject:i.a.string.isRequired,operator:i.a.oneOf(Object.keys(_r.f)).isRequired,comparator:i.a.oneOfType([i.a.string,i.a.arrayOf(i.a.string)]).isRequired}),i.a.shape({expressionType:i.a.oneOf([na.SQL]).isRequired,clause:i.a.oneOf([ra.WHERE,ra.HAVING]).isRequired,sqlExpression:i.a.string.isRequired})]),sa={adhocMetric:eo,showType:i.a.bool};function ua(e){var t=e.adhocMetric,n=e.showType;return o.a.createElement("div",null,n&&o.a.createElement(ur.a,{type:"expression"}),o.a.createElement("span",{className:"m-r-5 option-label"},t.label))}ua.propTypes=sa;var ca={option:i.a.oneOfType([fr,i.a.shape({saved_metric_name:i.a.string.isRequired}),eo]).isRequired};function pa(e){var t=e.option;return t.saved_metric_name?o.a.createElement("div",null,o.a.createElement(ur.a,{type:"expression"}),o.a.createElement("span",{className:"m-r-5 option-label"},t.saved_metric_name)):t.column_name?o.a.createElement(ut.a,{column:t,showType:!0}):t.label?o.a.createElement(ua,{adhocMetric:t,showType:!0}):void 0}function da(e){return(da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fa(){return(fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ba(e,t,n[t])})}return e}function ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ga(e){return(ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ya(e,t){return(ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function va(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}pa.propTypes=ca;var _a={adhocFilter:i.a.instanceOf(ia).isRequired,onChange:i.a.func.isRequired,options:i.a.arrayOf(i.a.oneOfType([fr,i.a.shape({saved_metric_name:i.a.string.isRequired}),eo])).isRequired,onHeightChange:i.a.func.isRequired,datasource:i.a.object};function Oa(e){return e===_r.f["=="]?"equals":e===_r.f["!="]?"not equal to":e===_r.f.LIKE?"like":e}var Sa=30,wa=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ga(t).call(this,e))||"object"!==da(o)&&"function"!=typeof o?va(r):o).onSubjectChange=n.onSubjectChange.bind(va(va(n))),n.onOperatorChange=n.onOperatorChange.bind(va(va(n))),n.onComparatorChange=n.onComparatorChange.bind(va(va(n))),n.onInputComparatorChange=n.onInputComparatorChange.bind(va(va(n))),n.isOperatorRelevant=n.isOperatorRelevant.bind(va(va(n))),n.refreshComparatorSuggestions=n.refreshComparatorSuggestions.bind(va(va(n))),n.multiComparatorRef=n.multiComparatorRef.bind(va(va(n))),n.state={suggestions:[],multiComparatorHeight:Sa,abortActiveRequest:null},n.selectProps={multi:!1,name:"select-column",labelKey:"label",autosize:!1,clearable:!1,selectWrap:_.a},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ya(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){this.refreshComparatorSuggestions()}},{key:"componentDidMount",value:function(){this.handleMultiComparatorInputHeightChange()}},{key:"componentDidUpdate",value:function(e){e.adhocFilter.subject!==this.props.adhocFilter.subject&&this.refreshComparatorSuggestions(),this.handleMultiComparatorInputHeightChange()}},{key:"onSubjectChange",value:function(e){var t,n;e&&e.column_name?(t=e.column_name,n=ra.WHERE):e&&(e.saved_metric_name||e.label)&&(t=e.saved_metric_name||e.label,n=ra.HAVING),this.props.onChange(this.props.adhocFilter.duplicateWith({subject:t,clause:n,expressionType:na.SIMPLE}))}},{key:"onOperatorChange",value:function(e){var t,n=this.props.adhocFilter.comparator;t=_r.e.indexOf(e.operator)>=0?Array.isArray(n)?n:[n].filter(function(e){return e}):Array.isArray(n)?n[0]:n,this.props.onChange(this.props.adhocFilter.duplicateWith({operator:e&&e.operator,comparator:t,expressionType:na.SIMPLE}))}},{key:"onInputComparatorChange",value:function(e){this.onComparatorChange(e.target.value)}},{key:"onComparatorChange",value:function(e){this.props.onChange(this.props.adhocFilter.duplicateWith({comparator:e,expressionType:na.SIMPLE}))}},{key:"handleMultiComparatorInputHeightChange",value:function(){if(this.multiComparatorComponent){var e=this.multiComparatorComponent._selectRef&&this.multiComparatorComponent._selectRef.select&&this.multiComparatorComponent._selectRef.select.control;e&&e.clientHeight!==this.state.multiComparatorHeight&&(this.props.onHeightChange(e.clientHeight-this.state.multiComparatorHeight),this.setState({multiComparatorHeight:e.clientHeight}))}}},{key:"refreshComparatorSuggestions",value:function(){var e=this,t=this.props.datasource,n=this.props.adhocFilter.subject,r=this.props.adhocFilter.clause===ra.HAVING;if(n&&t&&t.filter_select&&!r){this.state.abortActiveRequest&&this.state.abortActiveRequest();var o=new AbortController,a=o.signal;this.setState({abortActiveRequest:o.abort,loading:!0}),m.a.get({signal:a,endpoint:"/superset/filter/".concat(t.type,"/").concat(t.id,"/").concat(n,"/")}).then(function(t){var n=t.json;e.setState(function(){return{suggestions:n,abortActiveRequest:null,loading:!1}})})}}},{key:"isOperatorRelevant",value:function(e){return!("druid"===this.props.datasource.type&&_r.g.indexOf(e)>=0||"table"===this.props.datasource.type&&_r.b.indexOf(e)>=0||this.props.adhocFilter.clause===ra.HAVING&&-1===_r.d.indexOf(e))}},{key:"focusComparator",value:function(e){e&&e.focus()}},{key:"multiComparatorRef",value:function(e){e&&(this.multiComparatorComponent=e)}},{key:"render",value:function(){var e=this.props,t=e.adhocFilter,n=e.options,r=e.datasource,a={value:t.subject?{value:t.subject}:void 0,onChange:this.onSubjectChange,optionRenderer:Object(w.a)(function(e){return o.a.createElement(pa,{option:e})}),valueRenderer:function(e){return o.a.createElement("span",null,e.value)},valueKey:"filterOptionName",noResultsText:Object(u.b)("No such column found. To filter on a metric, try the Custom SQL tab.")};a="druid"===r.type?ha({},a,{placeholder:Object(u.b)("%s column(s) and metric(s)",n.length),options:n}):ha({},a,{placeholder:t.clause===ra.WHERE?Object(u.b)("%s column(s)",n.length):Object(u.b)("To filter on a metric, use Custom SQL tab."),options:n.filter(function(e){return e.column_name})});var i={placeholder:Object(u.b)("%s operators(s)",Object.keys(_r.f).length),options:Object.keys(_r.f).filter(this.isOperatorRelevant).map(function(e){return{operator:e}}),value:t.operator,onChange:this.onOperatorChange,optionRenderer:Object(w.a)(function(e){return Oa(e.operator)}),valueRenderer:function(e){return o.a.createElement("span",null,Oa(e.operator))},valueKey:"operator"};return o.a.createElement("span",null,o.a.createElement(l.FormGroup,{className:"adhoc-filter-simple-column-dropdown"},o.a.createElement(C.a,fa({},this.selectProps,a))),o.a.createElement(l.FormGroup,null,o.a.createElement(C.a,fa({},this.selectProps,i))),o.a.createElement(l.FormGroup,{"data-test":"adhoc-filter-simple-value"},_r.e.indexOf(t.operator)>=0||this.state.suggestions.length>0?o.a.createElement(A,{multi:_r.e.indexOf(t.operator)>=0,freeForm:!0,name:"filter-comparator-value",value:t.comparator,isLoading:this.state.loading,choices:this.state.suggestions,onChange:this.onComparatorChange,showHeader:!1,noResultsText:Object(u.b)("type a value here"),refFunc:this.multiComparatorRef,disabled:"IS NOT NULL"===t.operator||"IS NULL"===t.operator}):o.a.createElement("input",{ref:this.focusComparator,type:"text",onChange:this.onInputComparatorChange,value:t.comparator||"",className:"form-control input-sm",placeholder:Object(u.b)("Filter value"),disabled:"IS NOT NULL"===t.operator||"IS NULL"===t.operator})))}}])&&ma(n.prototype,r),a&&ma(n,a),t}();function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xa(){return(xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ka(e,t){return(ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}wa.propTypes=_a,wa.defaultProps={datasource:{}};var Pa={adhocFilter:i.a.instanceOf(ia).isRequired,onChange:i.a.func.isRequired,options:i.a.arrayOf(i.a.oneOfType([fr,i.a.shape({saved_metric_name:i.a.string.isRequired}),eo])).isRequired,height:i.a.number.isRequired},Ma=vr.a.acequire("ace/ext/language_tools"),Ra=function(e){function t(e){var n,r,o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ja(t).call(this,e))||"object"!==Ca(o)&&"function"!=typeof o?Ta(r):o).onSqlExpressionChange=n.onSqlExpressionChange.bind(Ta(Ta(n))),n.onSqlExpressionClauseChange=n.onSqlExpressionClauseChange.bind(Ta(Ta(n))),n.handleAceEditorRef=n.handleAceEditorRef.bind(Ta(Ta(n))),n.selectProps={multi:!1,name:"select-column",labelKey:"label",autosize:!1,clearable:!1,selectWrap:_.a},Ma){var a=Ir.b.concat(n.props.options.map(function(e){return e.column_name?{name:e.column_name,value:e.column_name,score:50,meta:"option"}:null})),i={getCompletions:function(e,t,n,r,o){o(null,a)}};Ma.setCompleters([i])}return n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ka(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidUpdate",value:function(){this.aceEditorRef.editor.resize()}},{key:"onSqlExpressionClauseChange",value:function(e){this.props.onChange(this.props.adhocFilter.duplicateWith({clause:e&&e.clause,expressionType:na.SQL}))}},{key:"onSqlExpressionChange",value:function(e){this.props.onChange(this.props.adhocFilter.duplicateWith({sqlExpression:e,expressionType:na.SQL}))}},{key:"handleAceEditorRef",value:function(e){e&&(this.aceEditorRef=e)}},{key:"render",value:function(){var e=this.props,t=e.adhocFilter,n=e.height,r={placeholder:Object(u.b)("choose WHERE or HAVING..."),options:Object.keys(ra).map(function(e){return{clause:e}}),value:t.clause,onChange:this.onSqlExpressionClauseChange,optionRenderer:Object(w.a)(function(e){return e.clause}),valueRenderer:function(e){return o.a.createElement("span",null,e.clause)},valueKey:"clause"};return o.a.createElement("span",null,o.a.createElement(l.FormGroup,{className:"filter-edit-clause-section"},o.a.createElement(C.a,xa({},this.selectProps,r,{className:"filter-edit-clause-dropdown"})),o.a.createElement("span",{className:"filter-edit-clause-info"},o.a.createElement("strong",null,"Where")," filters by columns.",o.a.createElement("br",null),o.a.createElement("strong",null,"Having")," filters by metrics.")),o.a.createElement(l.FormGroup,null,o.a.createElement(yt.a,{ref:this.handleAceEditorRef,mode:"sql",theme:"github",height:n-100+"px",onChange:this.onSqlExpressionChange,width:"100%",showGutter:!1,value:t.sqlExpression||t.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:"adhoc-filter-sql-editor",wrapEnabled:!0})))}}])&&Ea(n.prototype,r),a&&Ea(n,a),t}();function Aa(e){return(Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ia(){return(Ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Da(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function La(e){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function za(e,t){return(za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Ra.propTypes=Pa;var Ba={adhocFilter:i.a.instanceOf(ia).isRequired,onChange:i.a.func.isRequired,onClose:i.a.func.isRequired,onResize:i.a.func.isRequired,options:i.a.arrayOf(i.a.oneOfType([fr,i.a.shape({saved_metric_name:i.a.string.isRequired}),eo])).isRequired,datasource:i.a.object},Ha=300,qa=190,Ua=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=La(t).call(this,e))||"object"!==Aa(o)&&"function"!=typeof o?Fa(r):o).onSave=n.onSave.bind(Fa(Fa(n))),n.onDragDown=n.onDragDown.bind(Fa(Fa(n))),n.onMouseMove=n.onMouseMove.bind(Fa(Fa(n))),n.onMouseUp=n.onMouseUp.bind(Fa(Fa(n))),n.onAdhocFilterChange=n.onAdhocFilterChange.bind(Fa(Fa(n))),n.adjustHeight=n.adjustHeight.bind(Fa(Fa(n))),n.state={adhocFilter:n.props.adhocFilter,width:Ha,height:qa},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&za(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onMouseUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}},{key:"onAdhocFilterChange",value:function(e){this.setState({adhocFilter:e})}},{key:"onSave",value:function(){this.props.onChange(this.state.adhocFilter),this.props.onClose()}},{key:"onDragDown",value:function(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener("mousemove",this.onMouseMove)}},{key:"onMouseMove",value:function(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),Ha),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),qa)})}},{key:"onMouseUp",value:function(){document.removeEventListener("mousemove",this.onMouseMove)}},{key:"adjustHeight",value:function(e){this.setState(function(t){return{height:t.height+e}})}},{key:"render",value:function(){var e=this.props,t=e.adhocFilter,n=(e.options,e.onChange,e.onClose,e.onResize,e.datasource,Da(e,["adhocFilter","options","onChange","onClose","onResize","datasource"])),r=this.state.adhocFilter,a=r.isValid(),i=!r.equals(t);return o.a.createElement(l.Popover,Ia({id:"filter-edit-popover"},n),o.a.createElement(l.Tabs,{id:"adhoc-filter-edit-tabs",defaultActiveKey:r.expressionType,className:"adhoc-filter-edit-tabs",style:{height:this.state.height,width:this.state.width}},o.a.createElement(l.Tab,{className:"adhoc-filter-edit-tab",eventKey:na.SIMPLE,title:"Simple"},o.a.createElement(wa,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:this.props.options,datasource:this.props.datasource,onHeightChange:this.adjustHeight})),o.a.createElement(l.Tab,{className:"adhoc-filter-edit-tab",eventKey:na.SQL,title:"Custom SQL"},this.props.datasource&&"druid"===this.props.datasource.type?o.a.createElement("div",{className:"custom-sql-disabled-message"},"Custom SQL Filters are not available on druid datasources"):o.a.createElement(Ra,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:this.props.options,height:this.state.height}))),o.a.createElement("div",null,o.a.createElement(l.Button,{disabled:!a,bsStyle:i&&a?"primary":"default",bsSize:"small",className:"m-r-5",onClick:this.onSave},"Save"),o.a.createElement(l.Button,{bsSize:"small",onClick:this.props.onClose},"Close"),o.a.createElement("i",{onMouseDown:this.onDragDown,className:"glyphicon glyphicon-resize-full edit-popover-resize"})))}}])&&Na(n.prototype,r),a&&Na(n,a),t}();function Wa(e){return(Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Va(e){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ka(e,t){return(Ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Ua.propTypes=Ba;var Ya={adhocFilter:i.a.instanceOf(ia).isRequired,onFilterEdit:i.a.func.isRequired,options:i.a.arrayOf(i.a.oneOfType([fr,i.a.shape({saved_metric_name:i.a.string.isRequired}),eo])).isRequired,datasource:i.a.object},$a=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Va(t).call(this,e))||"object"!==Wa(o)&&"function"!=typeof o?Qa(r):o).closeFilterEditOverlay=n.closeFilterEditOverlay.bind(Qa(Qa(n))),n.onPopoverResize=n.onPopoverResize.bind(Qa(Qa(n))),n.onOverlayEntered=n.onOverlayEntered.bind(Qa(Qa(n))),n.onOverlayExited=n.onOverlayExited.bind(Qa(Qa(n))),n.state={overlayShown:!n.props.adhocFilter.fromFormData},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ka(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"onPopoverResize",value:function(){this.forceUpdate()}},{key:"onOverlayEntered",value:function(){this.setState({overlayShown:!0})}},{key:"onOverlayExited",value:function(){this.setState({overlayShown:!1})}},{key:"onMouseDown",value:function(e){e.stopPropagation()}},{key:"closeFilterEditOverlay",value:function(){this.refs.overlay.hide()}},{key:"render",value:function(){var e=this.props.adhocFilter,t=o.a.createElement(Ua,{onResize:this.onPopoverResize,adhocFilter:e,onChange:this.props.onFilterEdit,onClose:this.closeFilterEditOverlay,options:this.props.options,datasource:this.props.datasource});return o.a.createElement(l.OverlayTrigger,{ref:"overlay",placement:"right",trigger:"click",disabled:!0,overlay:t,rootClose:!0,shouldUpdatePosition:!0,defaultOverlayShown:!e.fromFormData,onEntered:this.onOverlayEntered,onExited:this.onOverlayExited},o.a.createElement(l.Label,{className:"adhoc-filter-option"},o.a.createElement("div",{onMouseDownCapture:this.onMouseDown},o.a.createElement("span",{className:"m-r-5 option-label"},e.getDefaultLabel(),o.a.createElement("i",{className:"glyphicon glyphicon-triangle-".concat(this.state.overlayShown?"left":"right"," adhoc-label-arrow")})))))}}])&&Ga(n.prototype,r),a&&Ga(n,a),t}();function Xa(e){return(Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ja(e,t,n[t])})}return e}function Ja(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ei(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ri(e,t){return(ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}$a.propTypes=Ya;var ai={name:i.a.string,onChange:i.a.func,value:i.a.arrayOf(la),datasource:i.a.object,columns:i.a.arrayOf(fr),savedMetrics:i.a.arrayOf(hr),formData:i.a.shape({metric:i.a.oneOfType([i.a.string,eo]),metrics:i.a.arrayOf(i.a.oneOfType([i.a.string,eo]))})};function ii(e){return e&&!(e instanceof ia)&&e.expressionType}var li=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=ni(t).call(this,e),(n=!a||"object"!==Xa(a)&&"function"!=typeof a?oi(r):a).optionsForSelect=n.optionsForSelect.bind(oi(oi(n))),n.onFilterEdit=n.onFilterEdit.bind(oi(oi(n))),n.onChange=n.onChange.bind(oi(oi(n))),n.getMetricExpression=n.getMetricExpression.bind(oi(oi(n)));var i=(n.props.value||[]).map(function(e){return ii(e)?new ia(e):e});return n.optionRenderer=Object(w.a)(function(e){return o.a.createElement(pa,{option:e})}),n.valueRenderer=function(e){return o.a.createElement($a,{adhocFilter:e,onFilterEdit:n.onFilterEdit,options:n.state.options,datasource:n.props.datasource})},n.state={values:i,options:n.optionsForSelect(n.props)},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ri(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){this.props.columns===e.columns&&this.props.formData===e.formData||this.setState({options:this.optionsForSelect(e)}),this.props.value!==e.value&&this.setState({values:(e.value||[]).map(function(e){return ii(e)?new ia(e):e})})}},{key:"onFilterEdit",value:function(e){this.props.onChange(this.state.values.map(function(t){return t.filterOptionName===e.filterOptionName?e:t}))}},{key:"onChange",value:function(e){var t=this;this.props.onChange(e.map(function(e){return e.saved_metric_name?new ia({expressionType:"druid"===t.props.datasource.type?na.SIMPLE:na.SQL,subject:"druid"===t.props.datasource.type?e.saved_metric_name:t.getMetricExpression(e.saved_metric_name),operator:_r.f[">"],comparator:0,clause:ra.HAVING}):e.label?new ia({expressionType:"druid"===t.props.datasource.type?na.SIMPLE:na.SQL,subject:"druid"===t.props.datasource.type?e.label:new Er(e).translateToSql(),operator:_r.f[">"],comparator:0,clause:ra.HAVING}):e.column_name?new ia({expressionType:na.SIMPLE,subject:e.column_name,operator:_r.f["=="],comparator:"",clause:ra.WHERE}):e instanceof ia?e:null}).filter(function(e){return e}))}},{key:"getMetricExpression",value:function(e){return this.props.savedMetrics.find(function(t){return t.metric_name===e}).expression}},{key:"optionsForSelect",value:function(e){return[].concat(ei(e.columns),ei([].concat(ei(e.formData.metrics||[]),[e.formData.metric]).map(function(e){return e&&("string"==typeof e?{saved_metric_name:e}:new Er(e))}))).filter(function(e){return e}).reduce(function(e,t){return t.saved_metric_name?e.push(Za({},t,{filterOptionName:t.saved_metric_name})):t.column_name?e.push(Za({},t,{filterOptionName:"_col_"+t.column_name})):t instanceof Er&&e.push(Za({},t,{filterOptionName:"_adhocmetric_"+t.label})),e},[]).sort(function(e,t){return(e.saved_metric_name||e.column_name||e.label).localeCompare(t.saved_metric_name||t.column_name||t.label)})}},{key:"render",value:function(){return o.a.createElement("div",{className:"metrics-select"},o.a.createElement(S.a,this.props),o.a.createElement(C.a,{multi:!0,name:"select-".concat(this.props.name),placeholder:Object(u.b)("choose a column or metric"),options:this.state.options,value:this.state.values,labelKey:"label",valueKey:"filterOptionName",clearable:!0,closeOnSelect:!0,onChange:this.onChange,optionRenderer:this.optionRenderer,valueRenderer:this.valueRenderer,selectWrap:_.a}))}}])&&ti(n.prototype,r),a&&ti(n,a),t}();li.propTypes=ai,li.defaultProps={name:"",onChange:function(){},columns:[],savedMetrics:[],formData:{}};var si=n(1375),ui=n.n(si),ci={marginTop:"5px",minHeight:"30px"},pi={textAlign:"right"},di={label:i.a.string.isRequired,tooltip:i.a.string,control:i.a.node.isRequired,isCheckbox:i.a.bool};function fi(e){var t=e.label,n=e.tooltip,r=e.control,a=e.isCheckbox,i=o.a.createElement("span",null,t," ",n&&o.a.createElement(d.a,{placement:"top",label:t,tooltip:n}));return a?o.a.createElement(l.Row,{style:ci},o.a.createElement(l.Col,{md:4,style:pi},r),o.a.createElement(l.Col,{md:8},i)):o.a.createElement(l.Row,{style:ci},o.a.createElement(l.Col,{md:4,style:pi},i),o.a.createElement(l.Col,{md:8},r))}function hi(e){return(hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gi(e,t){return(gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}fi.propTypes=di,fi.defaultProps={tooltip:null,isCheckbox:!1};var vi={datasource:i.a.object.isRequired,onChange:i.a.func,asc:i.a.bool,clearable:i.a.bool,multiple:i.a.bool,column:i.a.string,metric:i.a.string,defaultValue:i.a.string},_i={width:350},Oi=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=mi(t).call(this,e))||"object"!==hi(o)&&"function"!=typeof o?yi(r):o;var a={column:e.column,metric:e.metric,asc:e.asc,clearable:e.clearable,multiple:e.multiple,defaultValue:e.defaultValue};return n.state=a,n.onChange=n.onChange.bind(yi(yi(n))),n.onControlChange=n.onControlChange.bind(yi(yi(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gi(e,t)}(t,o.a.Component),n=t,(r=[{key:"onChange",value:function(){this.props.onChange(this.state)}},{key:"onControlChange",value:function(e,t){this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t),this.onChange)}},{key:"setType",value:function(){}},{key:"textSummary",value:function(){return this.state.column||"N/A"}},{key:"renderForm",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(fi,{label:Object(u.b)("Column"),control:o.a.createElement(A,{value:this.state.column,name:"column",clearable:!1,options:this.props.datasource.columns.map(function(e){return{value:e.column_name,label:e.column_name}}),onChange:function(t){return e.onControlChange("column",t)}})}),o.a.createElement(fi,{label:Object(u.b)("Label"),control:o.a.createElement(H,{value:this.state.label,name:"label",onChange:function(t){return e.onControlChange("label",t)}})}),o.a.createElement(fi,{label:Object(u.b)("Default"),tooltip:Object(u.b)("(optional) default value for the filter, when using the multiple option, you can use a semicolon-delimited list of options."),control:o.a.createElement(H,{value:this.state.defaultValue,name:"defaultValue",onChange:function(t){return e.onControlChange("defaultValue",t)}})}),o.a.createElement(fi,{label:Object(u.b)("Sort Metric"),tooltip:Object(u.b)("Metric to sort the results by"),control:o.a.createElement(A,{value:this.state.metric,name:"column",options:this.props.datasource.metrics.map(function(e){return{value:e.metric_name,label:e.metric_name}}),onChange:function(t){return e.onControlChange("metric",t)}})}),o.a.createElement(fi,{label:Object(u.b)("Sort Ascending"),tooltip:Object(u.b)("Check for sorting ascending"),isCheckbox:!0,control:o.a.createElement(X,{value:this.state.asc,onChange:function(t){return e.onControlChange("asc",t)}})}),o.a.createElement(fi,{label:Object(u.b)("Allow Multiple Selections"),isCheckbox:!0,tooltip:Object(u.b)("Multiple selections allowed, otherwise filter is limited to a single value"),control:o.a.createElement(X,{value:this.state.multiple,onChange:function(t){return e.onControlChange("multiple",t)}})}),o.a.createElement(fi,{label:Object(u.b)("Required"),tooltip:Object(u.b)("User must select a value for this filter"),isCheckbox:!0,control:o.a.createElement(X,{value:!this.state.clearable,onChange:function(t){return e.onControlChange("clearable",!t)}})}))}},{key:"renderPopover",value:function(){return o.a.createElement(l.Popover,{id:"ts-col-popo",title:Object(u.b)("Filter Configuration")},o.a.createElement("div",{style:_i},this.renderForm()))}},{key:"render",value:function(){return o.a.createElement("span",null,this.textSummary()," ",o.a.createElement(l.OverlayTrigger,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},o.a.createElement(d.a,{icon:"edit",className:"text-primary",label:"edit-ts-column"})))}}])&&bi(n.prototype,r),a&&bi(n,a),t}();Oi.propTypes=vi,Oi.defaultProps={onChange:function(){},asc:!0,clearable:!0,multiple:!0};var Si={AnnotationLayerControl:ve,BoundsControl:Ee,CheckboxControl:X,CollectionControl:He,ColorPickerControl:Ze,ColorSchemeControl:st,DatasourceControl:ar,DateFilterControl:ir.a,FixedOrMetricControl:Co,HiddenControl:Eo,SelectAsyncControl:At,SelectControl:A,SliderControl:Po,SpatialControl:Ht,TextAreaControl:Et,TextControl:H,TimeSeriesColumnControl:Bo,ViewportControl:Zo,VizTypeControl:Jo.a,MetricsControl:bo,AdhocFilterControl:li,FilterPanel:ui.a,FilterBoxItemControl:Oi};function wi(e){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ci(){return(Ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ei(e){return(Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ji(e,t){return(ji=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ki(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return Mi});var Ti=Object.keys(Si),Pi={actions:i.a.object.isRequired,name:i.a.string.isRequired,type:i.a.oneOf(Ti).isRequired,hidden:i.a.bool,label:i.a.string.isRequired,choices:i.a.oneOfType([i.a.arrayOf(i.a.array),i.a.func]),description:i.a.string,tooltipOnClick:i.a.func,places:i.a.number,validators:i.a.array,validationErrors:i.a.array,renderTrigger:i.a.bool,rightNode:i.a.node,formData:i.a.object,value:i.a.oneOfType([i.a.string,i.a.number,i.a.object,i.a.bool,i.a.array,i.a.func])},Mi=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ei(t).call(this,e))||"object"!==wi(o)&&"function"!=typeof o?ki(r):o).state={hovered:!1},n.validate=n.validate.bind(ki(ki(n))),n.onChange=n.onChange.bind(ki(ki(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ji(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){this.validateAndSetValue(this.props.value,[])}},{key:"onChange",value:function(e,t){this.validateAndSetValue(e,t)}},{key:"setHover",value:function(e){this.setState({hovered:e})}},{key:"validateAndSetValue",value:function(e,t){var n=this.props.validationErrors,r=this.validate(e);t&&t.length>0&&(r=n.concat(t)),n.length+r.length>0&&(n=r),e===this.props.value&&n===this.props.validationErrors||this.props.actions.setControlValue(this.props.name,e,n)}},{key:"validate",value:function(e){var t=this.props.validators,n=[];return t&&t.length>0&&t.forEach(function(t){var r=t(e);r&&n.push(r)}),n}},{key:"render",value:function(){var e=Si[this.props.type],t=this.props.hidden?{display:"none"}:null;return o.a.createElement("div",{className:"Control","data-test":this.props.name,style:t,onMouseEnter:this.setHover.bind(this,!0),onMouseLeave:this.setHover.bind(this,!1)},o.a.createElement(e,Ci({onChange:this.onChange,hovered:this.state.hovered},this.props)))}}])&&xi(n.prototype,r),a&&xi(n,a),t}();Mi.propTypes=Pi,Mi.defaultProps={renderTrigger:!1,validators:[],hidden:!1,validationErrors:[]}},1423:function(e,t,n){},1425:function(e,t,n){},1426:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(1)),a=s(n(124)),i=n(217),l=s(n(1471));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,l=e.width,s=e.height,u=e.onChange,c=e.direction,p=e.style,d=e.renderers,f=e.pointer,h=e.className,b=void 0===h?"":h,m=(0,a.default)({default:{picker:{position:"relative",width:l,height:s},alpha:{radius:"2px",style:p}}});return o.default.createElement("div",{style:m.picker,className:"alpha-picker "+b},o.default.createElement(i.Alpha,r({},m.alpha,{rgb:t,hsl:n,pointer:f,renderers:d,onChange:u,direction:c})))};u.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:l.default},t.default=(0,i.ColorWrap)(u)},1427:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=l(n(1428)),o=l(n(1229)),a=l(n(376)),i=l(n(949));function l(e){return e&&e.__esModule?e:{default:e}}var s=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,i.default)(t,function(t){Array.isArray(t)?e(t).map(function(e){return n.push(e)}):(0,a.default)(t)?(0,o.default)(t,function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)}):(0,r.default)(t)&&n.push(t)}),n};t.default=s},1428:function(e,t,n){var r=n(145),o=n(99),a=n(138),i="[object String]";e.exports=function(e){return"string"==typeof e||!o(e)&&a(e)&&r(e)==i}},1429:function(e,t,n){var r=n(1301),o=n(299);e.exports=function(e,t){var n=-1,a=o(e)?Array(e.length):[];return r(e,function(e,r,o){a[++n]=t(e,r,o)}),a}},1430:function(e,t,n){var r=n(299);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var a=n.length,i=t?a:-1,l=Object(n);(t?i--:++i<a)&&!1!==o(l[i],i,l););return n}}},1431:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=i(n(1229)),o=i(n(1432)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(e){return e&&e.__esModule?e:{default:e}}var l=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,o.default)(e.default)||{};return t.map(function(t){var o=e[t];return o&&(0,r.default)(o,function(e,t){n[t]||(n[t]={}),n[t]=a({},n[t],o[t])}),t}),n};t.default=l},1432:function(e,t,n){var r=n(1433),o=1,a=4;e.exports=function(e){return r(e,o|a)}},1433:function(e,t,n){var r=n(389),o=n(1302),a=n(1303),i=n(1434),l=n(1435),s=n(1436),u=n(1437),c=n(1438),p=n(1439),d=n(428),f=n(1440),h=n(385),b=n(1441),m=n(1442),g=n(1447),y=n(99),v=n(291),_=n(1449),O=n(163),S=n(1451),w=n(290),C=1,x=2,E=4,j="[object Arguments]",k="[object Function]",T="[object GeneratorFunction]",P="[object Object]",M={};M[j]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[P]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[k]=M["[object WeakMap]"]=!1,e.exports=function e(t,n,R,A,I,D){var N,L=n&C,z=n&x,F=n&E;if(R&&(N=I?R(t,A,I,D):R(t)),void 0!==N)return N;if(!O(t))return t;var B=y(t);if(B){if(N=b(t),!L)return u(t,N)}else{var H=h(t),q=H==k||H==T;if(v(t))return s(t,L);if(H==P||H==j||q&&!I){if(N=z||q?{}:g(t),!L)return z?p(t,l(N,t)):c(t,i(N,t))}else{if(!M[H])return I?t:{};N=m(t,H,L)}}D||(D=new r);var U=D.get(t);if(U)return U;if(D.set(t,N),S(t))return t.forEach(function(r){N.add(e(r,n,R,r,t,D))}),N;if(_(t))return t.forEach(function(r,o){N.set(o,e(r,n,R,o,t,D))}),N;var W=F?z?f:d:z?keysIn:w,G=B?void 0:W(t);return o(G||t,function(r,o){G&&(r=t[o=r]),a(N,o,e(r,n,R,o,t,D))}),N}},1434:function(e,t,n){var r=n(1197),o=n(290);e.exports=function(e,t){return e&&r(t,o(t),e)}},1435:function(e,t,n){var r=n(1197),o=n(1211);e.exports=function(e,t){return e&&r(t,o(t),e)}},1436:function(e,t,n){(function(e){var r=n(72),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o?r.Buffer:void 0,l=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=l?l(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(176)(e))},1437:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},1438:function(e,t,n){var r=n(1197),o=n(420);e.exports=function(e,t){return r(e,o(e),t)}},1439:function(e,t,n){var r=n(1197),o=n(1304);e.exports=function(e,t){return r(e,o(e),t)}},1440:function(e,t,n){var r=n(429),o=n(1304),a=n(1211);e.exports=function(e){return r(e,a,o)}},1441:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},1442:function(e,t,n){var r=n(1230),o=n(1443),a=n(1444),i=n(1445),l=n(1446),s="[object Boolean]",u="[object Date]",c="[object Map]",p="[object Number]",d="[object RegExp]",f="[object Set]",h="[object String]",b="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",v="[object Float64Array]",_="[object Int8Array]",O="[object Int16Array]",S="[object Int32Array]",w="[object Uint8Array]",C="[object Uint8ClampedArray]",x="[object Uint16Array]",E="[object Uint32Array]";e.exports=function(e,t,n){var j=e.constructor;switch(t){case m:return r(e);case s:case u:return new j(+e);case g:return o(e,n);case y:case v:case _:case O:case S:case w:case C:case x:case E:return l(e,n);case c:return new j;case p:case h:return new j(e);case d:return a(e);case f:return new j;case b:return i(e)}}},1443:function(e,t,n){var r=n(1230);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},1444:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},1445:function(e,t,n){var r=n(177),o=r?r.prototype:void 0,a=o?o.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},1446:function(e,t,n){var r=n(1230);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},1447:function(e,t,n){var r=n(1448),o=n(1055),a=n(388);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(o(e))}},1448:function(e,t,n){var r=n(163),o=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},1449:function(e,t,n){var r=n(1450),o=n(387),a=n(419),i=a&&a.isMap,l=i?o(i):r;e.exports=l},1450:function(e,t,n){var r=n(385),o=n(138),a="[object Map]";e.exports=function(e){return o(e)&&r(e)==a}},1451:function(e,t,n){var r=n(1452),o=n(387),a=n(419),i=a&&a.isSet,l=i?o(i):r;e.exports=l},1452:function(e,t,n){var r=n(385),o=n(138),a="[object Set]";e.exports=function(e){return o(e)&&r(e)==a}},1453:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,o=n(1229),a=(r=o)&&r.__esModule?r:{default:r},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var l={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},s=t.autoprefix=function(e){var t={};return(0,a.default)(e,function(e,n){var r={};(0,a.default)(e,function(e,t){var n=l[t];n?r=i({},r,n(e)):r[t]=e}),t[n]=r}),t};t.default=s},1454:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),i=(r=a)&&r.__esModule?r:{default:r};function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,a,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var u=arguments.length,c=Array(u),p=0;p<u;p++)c[p]=arguments[p];return a=s=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(c))),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return i.default.createElement(t,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},i.default.createElement(e,o({},s.props,s.state)))},l(s,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i.default.Component),r}()};t.default=s},1455:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),i=(r=a)&&r.__esModule?r:{default:r};function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,a,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var u=arguments.length,c=Array(u),p=0;p<u;p++)c[p]=arguments[p];return a=s=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(c))),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return i.default.createElement(t,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},i.default.createElement(e,o({},s.props,s.state)))},l(s,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i.default.Component),r}()};t.default=s},1456:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},1457:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=c(a),l=c(n(124)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1458)),u=c(n(1305));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.Alpha=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleChange=function(e,t){var n=s.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent||a.Component),o(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,l.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return i.default.createElement("div",{style:n.alpha},i.default.createElement("div",{style:n.checkboard},i.default.createElement(u.default,{renderers:this.props.renderers})),i.default.createElement("div",{style:n.gradient}),i.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("div",{style:n.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:n.slider}))))}}]),t}();t.default=d},1458:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var o=r.clientWidth,a=r.clientHeight,i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=i-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(c=u<0?0:u>a?1:Math.round(100*u/a)/100,n.hsl.a!==c)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:c,source:"rgb"}}else{var p=void 0;if(p=s<0?0:s>o?1:Math.round(100*s/o)/100,n.a!==p)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:p,source:"rgb"}}return null}},1459:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},o=t.render=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var o=r?new r:document.createElement("canvas");o.width=2*n,o.height=2*n;var a=o.getContext("2d");return a?(a.fillStyle=e,a.fillRect(0,0,o.width,o.height),a.fillStyle=t,a.fillRect(0,0,n,n),a.translate(n,n),a.fillRect(0,0,n,n),o.toDataURL()):null};t.get=function(e,t,n,a){var i=e+"-"+t+"-"+n+(a?"-server":""),l=o(e,t,n,a);return r[i]?r[i]:(r[i]=l,l)}},146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},i=n(1045),l=n(447),s=n(448),u=n(383),c=n(449),p=n(446),d=n(1051),f=n(288);a.default.Children.children=function(e){return a.default.Children.map(e,function(e){return e})||[]};var h={Table:i.Table,Tr:l.Tr,Td:s.Td,Th:u.Th,Tfoot:c.Tfoot,Thead:p.Thead,Sort:d.Sort,unsafe:f.unsafe};t.default=h,"undefined"!=typeof window&&(window.Reactable=h),e.exports=t.default},1460:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=l(o),i=l(n(124));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.props.label?n.props.onChange&&n.props.onChange(s({},n.props.label,e.target.value),e):n.props.onChange&&n.props.onChange(e.target.value,e),n.setState({value:e.target.value})},n.handleKeyDown=function(e){var t=String(e.target.value),r=t.indexOf("%")>-1,o=Number(t.replace(/%/g,""));if(!isNaN(o)){var a=n.props.arrowOffset||1;38===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(s({},n.props.label,o+a),e):n.props.onChange&&n.props.onChange(o+a,e),r?n.setState({value:o+a+"%"}):n.setState({value:o+a})),40===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(s({},n.props.label,o-a),e):n.props.onChange&&n.props.onChange(o-a,e),r?n.setState({value:o-a+"%"}):n.setState({value:o-a}))}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(s({},n.props.label,t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent||o.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,i.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return a.default.createElement("div",{style:t.wrap},a.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?a.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}();t.default=u},1461:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=s(o),i=s(n(124)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1462));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=t.Hue=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleChange=function(e,t){var n=l.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent||o.Component),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,i.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return a.default.createElement("div",{style:r.hue},a.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),a.default.createElement("div",{style:r.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:r.slider}))))}}]),t}();t.default=c},1462:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var o=r.clientWidth,a=r.clientHeight,i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=i-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(u<0)c=359;else if(u>a)c=0;else{c=360*(-100*u/a+100)/100}if(n.hsl.h!==c)return{h:c,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else{var p=void 0;if(s<0)p=0;else if(s>o)p=359;else{p=360*(100*s/o)/100}if(n.hsl.h!==p)return{h:p,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}return null}},1463:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=i(n(1)),o=i(n(0)),a=i(n(124));function i(e){return e&&e.__esModule?e:{default:e}}var l=t.Raised=function(e){var t=e.zDepth,n=e.radius,o=e.background,i=e.children,l=(0,a.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:o}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},{"zDepth-1":1===t});return r.default.createElement("div",{style:l.wrap},r.default.createElement("div",{style:l.bg}),r.default.createElement("div",{style:l.content},i))};l.propTypes={background:o.default.string,zDepth:o.default.oneOf([0,1,2,3,4,5]),radius:o.default.number},l.defaultProps={background:"#fff",zDepth:1,radius:2},t.default=l},1464:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=u(o),i=u(n(124)),l=u(n(1214)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1465));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){n.props.onChange&&n.throttle(n.props.onChange,s.calculateChange(e,t,n.props,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,l.default)(function(e,t,n){e(t,n)},50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent||o.Component),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,o=t.black,l=t.pointer,s=t.circle,u=(0,i.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:o,pointer:l,circle:s}},{custom:!!this.props.style});return a.default.createElement("div",{style:u.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),a.default.createElement("div",{style:u.white,className:"saturation-white"},a.default.createElement("div",{style:u.black,className:"saturation-black"}),a.default.createElement("div",{style:u.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:u.circle}))))}}]),t}();t.default=c},1465:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var o=r.getBoundingClientRect(),a=o.width,i=o.height,l="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=l-(r.getBoundingClientRect().left+window.pageXOffset),c=s-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>a?u=a:c<0?c=0:c>i&&(c=i);var p=100*u/a,d=-100*c/i+100;return{h:n.hsl.h,s:p,v:d,a:n.hsl.a,source:"rgb"}}},1466:function(e,t,n){e.exports=n(1467)},1467:function(e,t,n){var r=n(1302),o=n(1301),a=n(1300),i=n(99);e.exports=function(e,t){return(i(e)?r:o)(e,a(t))}},1468:function(e,t,n){var r;!function(o){var a=/^\s+/,i=/\s+$/,l=0,s=o.round,u=o.min,c=o.max,p=o.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,l=null,s=null,p=!1,d=!1;"string"==typeof e&&(e=function(e){e=e.replace(a,"").replace(i,"").toLowerCase();var t,n=!1;if(P[e])e=P[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=U.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=U.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=U.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=U.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=U.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=U.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=U.hex8.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),a:F(t[4]),format:n?"name":"hex8"};if(t=U.hex6.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),format:n?"name":"hex"};if(t=U.hex4.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),a:F(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=U.hex3.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(W(e.r)&&W(e.g)&&W(e.b)?(f=e.r,h=e.g,b=e.b,t={r:255*A(f,255),g:255*A(h,255),b:255*A(b,255)},p=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):W(e.h)&&W(e.s)&&W(e.v)?(r=L(e.s),l=L(e.v),t=function(e,t,n){e=6*A(e,360),t=A(t,100),n=A(n,100);var r=o.floor(e),a=e-r,i=n*(1-t),l=n*(1-a*t),s=n*(1-(1-a)*t),u=r%6;return{r:255*[n,l,i,i,s,n][u],g:255*[s,n,n,l,i,i][u],b:255*[i,i,s,n,n,l][u]}}(e.h,r,l),p=!0,d="hsv"):W(e.h)&&W(e.s)&&W(e.l)&&(r=L(e.s),s=L(e.l),t=function(e,t,n){var r,o,a;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=A(e,360),t=A(t,100),n=A(n,100),0===t)r=o=a=n;else{var l=n<.5?n*(1+t):n+t-n*t,s=2*n-l;r=i(s,l,e+1/3),o=i(s,l,e),a=i(s,l,e-1/3)}return{r:255*r,g:255*o,b:255*a}}(e.h,r,s),p=!0,d="hsl"),e.hasOwnProperty("a")&&(n=e.a));var f,h,b;return n=R(n),{ok:p,format:e.format||d,r:u(255,c(t.r,0)),g:u(255,c(t.g,0)),b:u(255,c(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=s(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=n.ok,this._tc_id=l++}function f(e,t,n){e=A(e,255),t=A(t,255),n=A(n,255);var r,o,a=c(e,t,n),i=u(e,t,n),l=(a+i)/2;if(a==i)r=o=0;else{var s=a-i;switch(o=l>.5?s/(2-a-i):s/(a+i),a){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:o,l:l}}function h(e,t,n){e=A(e,255),t=A(t,255),n=A(n,255);var r,o,a=c(e,t,n),i=u(e,t,n),l=a,s=a-i;if(o=0===a?0:s/a,a==i)r=0;else{switch(a){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:o,v:l}}function b(e,t,n,r){var o=[N(s(e).toString(16)),N(s(t).toString(16)),N(s(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function m(e,t,n,r){return[N(z(r)),N(s(e).toString(16)),N(s(t).toString(16)),N(s(n).toString(16))].join("")}function g(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=I(n.s),d(n)}function y(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=I(n.s),d(n)}function v(e){return d(e).desaturate(100)}function _(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=I(n.l),d(n)}function O(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=c(0,u(255,n.r-s(-t/100*255))),n.g=c(0,u(255,n.g-s(-t/100*255))),n.b=c(0,u(255,n.b-s(-t/100*255))),d(n)}function S(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=I(n.l),d(n)}function w(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function C(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function x(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function E(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function j(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function k(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),o=360/n,a=[d(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,a.push(d(r));return a}function T(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,o=n.s,a=n.v,i=[],l=1/t;t--;)i.push(d({h:r,s:o,v:a})),a=(a+l)%1;return i}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=R(e),this._roundA=s(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=s(360*e.h),n=s(100*e.s),r=s(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f(this._r,this._g,this._b),t=s(360*e.h),n=s(100*e.s),r=s(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return b(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var a=[N(s(e).toString(16)),N(s(t).toString(16)),N(s(n).toString(16)),N(z(r))];if(o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(100*A(this._r,255))+"%",g:s(100*A(this._g,255))+"%",b:s(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+s(100*A(this._r,255))+"%, "+s(100*A(this._g,255))+"%, "+s(100*A(this._b,255))+"%)":"rgba("+s(100*A(this._r,255))+"%, "+s(100*A(this._g,255))+"%, "+s(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(M[b(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=d(e);n="#"+m(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(O,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(j,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:L(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:p(),g:p(),b:p()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),o=d(t).toRgb(),a=n/100;return d({r:(o.r-r.r)*a+r.r,g:(o.g-r.g)*a+r.g,b:(o.b-r.b)*a+r.b,a:(o.a-r.a)*a+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(o.max(n.getLuminance(),r.getLuminance())+.05)/(o.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,o,a=d.readability(e,t);switch(o=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7}return o},d.mostReadable=function(e,t,n){var r,o,a,i,l=null,s=0;o=(n=n||{}).includeFallbackColors,a=n.level,i=n.size;for(var u=0;u<t.length;u++)(r=d.readability(e,t[u]))>s&&(s=r,l=d(t[u]));return d.isReadable(e,l,{level:a,size:i})||!o?l:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var P=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(P);function R(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function A(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=u(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function I(e){return u(1,c(0,e))}function D(e){return parseInt(e,16)}function N(e){return 1==e.length?"0"+e:""+e}function L(e){return e<=1&&(e=100*e+"%"),e}function z(e){return o.round(255*parseFloat(e)).toString(16)}function F(e){return D(e)/255}var B,H,q,U=(H="[\\s|\\(]+("+(B="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",q="[\\s|\\(]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",{CSS_UNIT:new RegExp(B),rgb:new RegExp("rgb"+H),rgba:new RegExp("rgba"+q),hsl:new RegExp("hsl"+H),hsla:new RegExp("hsla"+q),hsv:new RegExp("hsv"+H),hsva:new RegExp("hsva"+q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function W(e){return!!U.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}(Math)},1469:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(1)),a=s(n(124)),i=n(1470),l=n(217);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.Swatch=function(e){var t=e.color,n=e.style,i=e.onClick,s=void 0===i?function(){}:i,u=e.onHover,c=e.title,p=void 0===c?t:c,d=e.children,f=e.focus,h=e.focusStyle,b=void 0===h?{}:h,m="transparent"===t,g=(0,a.default)({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,f?b:{})}}),y={};return u&&(y.onMouseOver=function(e){return u(t,e)}),o.default.createElement("div",r({style:g.swatch,onClick:function(e){return s(t,e)},title:p,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&s(t,e)}},y),d,m&&o.default.createElement(l.Checkboard,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,i.handleFocus)(u)},1470:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),l=(r=i)&&r.__esModule?r:{default:r};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=n=s(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(a))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},s(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,l.default.Component),a(r,[{key:"render",value:function(){return l.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},l.default.createElement(e,o({},this.props,this.state)))}}]),r}()}},1471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var r=a(n(1)),o=a(n(124));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.AlphaPointer=function(e){var t=e.direction,n=(0,o.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=i},1472:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var r=u(n(1)),o=u(n(0)),a=u(n(124)),i=u(n(443)),l=n(217),s=u(n(1473));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,o=e.hex,u=e.colors,c=e.width,p=e.triangle,d=e.className,f=void 0===d?"":d,h="transparent"===o,b=function(e,n){i.default.isValidHex(e)&&t({hex:e,source:"hex"},n)},m=(0,a.default)({default:{card:{width:c,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:o,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:i.default.getContrastingColor(o),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+o+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},{"hide-triangle":"hide"===p});return r.default.createElement("div",{style:m.card,className:"block-picker "+f},r.default.createElement("div",{style:m.triangle}),r.default.createElement("div",{style:m.head},h&&r.default.createElement(l.Checkboard,{borderRadius:"6px 6px 0 0"}),r.default.createElement("div",{style:m.label},o)),r.default.createElement("div",{style:m.body},r.default.createElement(s.default,{colors:u,onClick:b,onSwatchHover:n}),r.default.createElement(l.EditableInput,{style:{input:m.input},value:o,onChange:b})))};c.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),colors:o.default.arrayOf(o.default.string),triangle:o.default.oneOf(["top","hide"])},c.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top"},t.default=(0,l.ColorWrap)(c)},1473:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var r=l(n(1)),o=l(n(124)),a=l(n(949)),i=n(217);function l(e){return e&&e.__esModule?e:{default:e}}var s=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,l=e.onSwatchHover,s=(0,o.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return r.default.createElement("div",{style:s.swatches},(0,a.default)(t,function(e){return r.default.createElement(i.Swatch,{key:e,color:e,style:s.swatch,onClick:n,onHover:l,focusStyle:{boxShadow:"0 0 4px "+e}})}),r.default.createElement("div",{style:s.clear}))};t.default=s},1474:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var r=c(n(1)),o=c(n(0)),a=c(n(124)),i=c(n(949)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1307)),s=n(217),u=c(n(1475));function c(e){return e&&e.__esModule?e:{default:e}}var p=t.Circle=function(e){var t=e.width,n=e.onChange,o=e.onSwatchHover,l=e.colors,s=e.hex,c=e.circleSize,p=e.circleSpacing,d=e.className,f=void 0===d?"":d,h=(0,a.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-p,marginBottom:-p}}}),b=function(e,t){return n({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:h.card,className:"circle-picker "+f},(0,i.default)(l,function(e){return r.default.createElement(u.default,{key:e,color:e,onClick:b,onSwatchHover:o,active:s===e.toLowerCase(),circleSize:c,circleSpacing:p})}))};p.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),circleSize:o.default.number,circleSpacing:o.default.number},p.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[l.red[500],l.pink[500],l.purple[500],l.deepPurple[500],l.indigo[500],l.blue[500],l.lightBlue[500],l.cyan[500],l.teal[500],l.green[500],l.lightGreen[500],l.lime[500],l.yellow[500],l.amber[500],l.orange[500],l.deepOrange[500],l.brown[500],l.blueGrey[500]]},t.default=(0,s.ColorWrap)(p)},1475:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var r=l(n(1)),o=n(124),a=l(o),i=n(217);function l(e){return e&&e.__esModule?e:{default:e}}var s=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,o=e.onSwatchHover,l=e.hover,s=e.active,u=e.circleSize,c=e.circleSpacing,p=(0,a.default)({default:{swatch:{width:u,height:u,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+u/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:l,active:s});return r.default.createElement("div",{style:p.swatch},r.default.createElement(i.Swatch,{style:p.Swatch,color:t,onClick:n,onHover:o,focusStyle:{boxShadow:p.Swatch.boxShadow+", 0 0 5px "+t}}))};s.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,o.handleHover)(s)},1476:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var r=c(n(1)),o=c(n(0)),a=c(n(124)),i=n(217),l=c(n(1477)),s=c(n(1478)),u=c(n(1479));function c(e){return e&&e.__esModule?e:{default:e}}var p=t.Chrome=function(e){var t=e.onChange,n=e.disableAlpha,o=e.rgb,c=e.hsl,p=e.hsv,d=e.hex,f=e.renderers,h=e.className,b=void 0===h?"":h,m=(0,a.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},{disableAlpha:n});return r.default.createElement("div",{style:m.picker,className:"chrome-picker "+b},r.default.createElement("div",{style:m.saturation},r.default.createElement(i.Saturation,{style:m.Saturation,hsl:c,hsv:p,pointer:u.default,onChange:t})),r.default.createElement("div",{style:m.body},r.default.createElement("div",{style:m.controls,className:"flexbox-fix"},r.default.createElement("div",{style:m.color},r.default.createElement("div",{style:m.swatch},r.default.createElement("div",{style:m.active}),r.default.createElement(i.Checkboard,{renderers:f}))),r.default.createElement("div",{style:m.toggles},r.default.createElement("div",{style:m.hue},r.default.createElement(i.Hue,{style:m.Hue,hsl:c,pointer:s.default,onChange:t})),r.default.createElement("div",{style:m.alpha},r.default.createElement(i.Alpha,{style:m.Alpha,rgb:o,hsl:c,pointer:s.default,renderers:f,onChange:t})))),r.default.createElement(l.default,{rgb:o,hsl:c,hex:d,onChange:t,disableAlpha:n})))};p.propTypes={disableAlpha:o.default.bool},p.defaultProps={disableAlpha:!1},t.default=(0,i.ColorWrap)(p)},1477:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(1)),a=s(n(124)),i=s(n(443)),l=n(217);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=t.ChromeFields=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?i.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&r.props.onChange({h:e.h||r.props.hsl.h,s:Number(e.s&&e.s||r.props.hsl.s),l:Number(e.l&&e.l||r.props.hsl.l),source:"hsl"},t)},r.showHighlight=function(e){e.target.style.background="#eee"},r.hideHighlight=function(e){e.target.style.background="transparent"},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,a.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=o.default.createElement("div",{style:t.fields,className:"flexbox-fix"},o.default.createElement("div",{style:t.field},o.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=o.default.createElement("div",{style:t.fields,className:"flexbox-fix"},o.default.createElement("div",{style:t.field},o.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),o.default.createElement("div",{style:t.field},o.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),o.default.createElement("div",{style:t.field},o.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),o.default.createElement("div",{style:t.alpha},o.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=o.default.createElement("div",{style:t.fields,className:"flexbox-fix"},o.default.createElement("div",{style:t.field},o.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),o.default.createElement("div",{style:t.field},o.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),o.default.createElement("div",{style:t.field},o.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),o.default.createElement("div",{style:t.alpha},o.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),o.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,o.default.createElement("div",{style:t.toggle},o.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},o.default.createElement("svg",{style:t.svg,viewBox:"0 0 24 24",onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight},o.default.createElement("path",{ref:function(t){return e.iconUp=t},fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}),o.default.createElement("path",{ref:function(t){return e.iconDown=t},fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"})))))}}]),t}();t.default=c},1478:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var r=a(n(1)),o=a(n(124));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.ChromePointer=function(){var e=(0,o.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=i},1479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var r=a(n(1)),o=a(n(124));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.ChromePointerCircle=function(){var e=(0,o.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return r.default.createElement("div",{style:e.picker})};t.default=i},1480:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var r=p(n(1)),o=p(n(0)),a=p(n(124)),i=p(n(949)),l=p(n(443)),s=n(217),u=p(n(1481)),c=p(n(1482));function p(e){return e&&e.__esModule?e:{default:e}}var d=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,o=e.colors,p=e.hex,d=e.rgb,f=e.className,h=void 0===f?"":f,b=(0,a.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}}),m=function(e,n){e.hex?l.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return r.default.createElement(s.Raised,{style:b.Compact},r.default.createElement("div",{style:b.compact,className:"compact-picker "+h},r.default.createElement("div",null,(0,i.default)(o,function(e){return r.default.createElement(u.default,{key:e,color:e,active:e.toLowerCase()===p,onClick:m,onSwatchHover:n})}),r.default.createElement("div",{style:b.clear})),r.default.createElement(c.default,{hex:p,rgb:d,onChange:m})))};d.propTypes={colors:o.default.arrayOf(o.default.string)},d.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]},t.default=(0,s.ColorWrap)(d)},1481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var r=l(n(1)),o=l(n(124)),a=l(n(443)),i=n(217);function l(e){return e&&e.__esModule?e:{default:e}}var s=t.CompactColor=function(e){var t=e.color,n=e.onClick,l=void 0===n?function(){}:n,s=e.onSwatchHover,u=e.active,c=(0,o.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:a.default.getContrastingColor(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:u,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(i.Swatch,{style:c.color,color:t,onClick:l,onHover:s,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:c.dot}))};t.default=s},1482:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var r=i(n(1)),o=i(n(124)),a=n(217);function i(e){return e&&e.__esModule?e:{default:e}}var l=t.CompactFields=function(e){var t=e.hex,n=e.rgb,i=e.onChange,l=(0,o.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(e,t){e.r||e.g||e.b?i({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):i({hex:e.hex,source:"hex"},t)};return r.default.createElement("div",{style:l.fields,className:"flexbox-fix"},r.default.createElement("div",{style:l.active}),r.default.createElement(a.EditableInput,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:t,onChange:s}),r.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:n.r,onChange:s}),r.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:n.g,onChange:s}),r.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:n.b,onChange:s}))};t.default=l},1483:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var r=u(n(1)),o=u(n(0)),a=u(n(124)),i=u(n(949)),l=n(217),s=u(n(1484));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.Github=function(e){var t=e.width,n=e.colors,o=e.onChange,l=e.onSwatchHover,u=e.triangle,c=e.className,p=void 0===c?"":c,d=(0,a.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},{"hide-triangle":"hide"===u,"top-left-triangle":"top-left"===u,"top-right-triangle":"top-right"===u,"bottom-left-triangle":"bottom-left"==u,"bottom-right-triangle":"bottom-right"===u}),f=function(e,t){return o({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:d.card,className:"github-picker "+p},r.default.createElement("div",{style:d.triangleShadow}),r.default.createElement("div",{style:d.triangle}),(0,i.default)(n,function(e){return r.default.createElement(s.default,{color:e,key:e,onClick:f,onSwatchHover:l})}))};c.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),colors:o.default.arrayOf(o.default.string),triangle:o.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"])},c.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left"},t.default=(0,l.ColorWrap)(c)},1484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var r=l(n(1)),o=n(124),a=l(o),i=n(217);function l(e){return e&&e.__esModule?e:{default:e}}var s=t.GithubSwatch=function(e){var t=e.hover,n=e.color,o=e.onClick,l=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=(0,a.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:t});return r.default.createElement("div",{style:u.swatch},r.default.createElement(i.Swatch,{color:n,onClick:o,onHover:l,focusStyle:s}))};t.default=(0,o.handleHover)(s)},1485:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(1)),a=s(n(124)),i=n(217),l=s(n(1486));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.HuePicker=function(e){var t=e.width,n=e.height,l=e.onChange,s=e.hsl,u=e.direction,c=e.pointer,p=e.className,d=void 0===p?"":p,f=(0,a.default)({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}});return o.default.createElement("div",{style:f.picker,className:"hue-picker "+d},o.default.createElement(i.Hue,r({},f.hue,{hsl:s,pointer:c,onChange:function(e){return l({a:1,h:e.h,l:.5,s:1})},direction:u})))};u.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:l.default},t.default=(0,i.ColorWrap)(u)},1486:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=a(n(1)),o=a(n(124));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderPointer=function(e){var t=e.direction,n=(0,o.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=i},1487:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var r=l(n(1)),o=l(n(124)),a=l(n(443)),i=n(217);function l(e){return e&&e.__esModule?e:{default:e}}var s=t.Material=function(e){var t=e.onChange,n=e.hex,l=e.rgb,s=e.className,u=void 0===s?"":s,c=(0,o.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}}),p=function(e,n){e.hex?a.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||l.r,g:e.g||l.g,b:e.b||l.b,source:"rgb"},n)};return r.default.createElement(i.Raised,null,r.default.createElement("div",{style:c.material,className:"material-picker "+u},r.default.createElement(i.EditableInput,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:n,onChange:p}),r.default.createElement("div",{style:c.split,className:"flexbox-fix"},r.default.createElement("div",{style:c.third},r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:l.r,onChange:p})),r.default.createElement("div",{style:c.third},r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:l.g,onChange:p})),r.default.createElement("div",{style:c.third},r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:l.b,onChange:p})))))};t.default=(0,i.ColorWrap)(s)},1488:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(1)),a=f(n(0)),i=f(n(124)),l=n(217),s=f(n(1489)),u=f(n(1490)),c=f(n(1491)),p=f(n(1492)),d=f(n(1493));function f(e){return e&&e.__esModule?e:{default:e}}var h=t.Photoshop=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this.props.className,t=void 0===e?"":e,n=(0,i.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}});return o.default.createElement("div",{style:n.picker,className:"photoshop-picker "+t},o.default.createElement("div",{style:n.head},this.props.header),o.default.createElement("div",{style:n.body,className:"flexbox-fix"},o.default.createElement("div",{style:n.saturation},o.default.createElement(l.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:u.default,onChange:this.props.onChange})),o.default.createElement("div",{style:n.hue},o.default.createElement(l.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:c.default,onChange:this.props.onChange})),o.default.createElement("div",{style:n.controls},o.default.createElement("div",{style:n.top,className:"flexbox-fix"},o.default.createElement("div",{style:n.previews},o.default.createElement(d.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),o.default.createElement("div",{style:n.actions},o.default.createElement(p.default,{label:"OK",onClick:this.props.onAccept,active:!0}),o.default.createElement(p.default,{label:"Cancel",onClick:this.props.onCancel}),o.default.createElement(s.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}();h.propTypes={header:a.default.string},h.defaultProps={header:"Color Picker"},t.default=(0,l.ColorWrap)(h)},1489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var r=l(n(1)),o=l(n(124)),a=l(n(443)),i=n(217);function l(e){return e&&e.__esModule?e:{default:e}}var s=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,l=e.hsv,s=e.hex,u=(0,o.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),c=function(e,r){e["#"]?a.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r):(e.h||e.s||e.v)&&t({h:e.h||l.h,s:e.s||l.s,v:e.v||l.v,source:"hsv"},r)};return r.default.createElement("div",{style:u.fields},r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"h",value:Math.round(l.h),onChange:c}),r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"s",value:Math.round(100*l.s),onChange:c}),r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"v",value:Math.round(100*l.v),onChange:c}),r.default.createElement("div",{style:u.divider}),r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:n.r,onChange:c}),r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:n.g,onChange:c}),r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:n.b,onChange:c}),r.default.createElement("div",{style:u.divider}),r.default.createElement(i.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"#",value:s.replace("#",""),onChange:c}),r.default.createElement("div",{style:u.fieldSymbols},r.default.createElement("div",{style:u.symbol},""),r.default.createElement("div",{style:u.symbol},"%"),r.default.createElement("div",{style:u.symbol},"%")))};t.default=s},1490:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=a(n(1)),o=a(n(124));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,o.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return r.default.createElement("div",{style:n.picker})};t.default=i},1491:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=a(n(1)),o=a(n(124));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPointerCircle=function(){var e=(0,o.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return r.default.createElement("div",{style:e.pointer},r.default.createElement("div",{style:e.left},r.default.createElement("div",{style:e.leftInside})),r.default.createElement("div",{style:e.right},r.default.createElement("div",{style:e.rightInside})))};t.default=i},1492:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var r=a(n(1)),o=a(n(124));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopBotton=function(e){var t=e.onClick,n=e.label,a=e.children,i=e.active,l=(0,o.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return r.default.createElement("div",{style:l.button,onClick:t},n||a)};t.default=i},1493:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var r=a(n(1)),o=a(n(124));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,a=(0,o.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return r.default.createElement("div",null,r.default.createElement("div",{style:a.label},"new"),r.default.createElement("div",{style:a.swatches},r.default.createElement("div",{style:a.new}),r.default.createElement("div",{style:a.current})),r.default.createElement("div",{style:a.label},"current"))};t.default=i},1494:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var r=u(n(1)),o=u(n(0)),a=u(n(124)),i=n(217),l=u(n(1495)),s=u(n(1496));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.Sketch=function(e){var t=e.width,n=e.rgb,o=e.hex,u=e.hsv,c=e.hsl,p=e.onChange,d=e.onSwatchHover,f=e.disableAlpha,h=e.presetColors,b=e.renderers,m=e.className,g=void 0===m?"":m,y=(0,a.default)({default:{picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},{disableAlpha:f});return r.default.createElement("div",{style:y.picker,className:"sketch-picker "+g},r.default.createElement("div",{style:y.saturation},r.default.createElement(i.Saturation,{style:y.Saturation,hsl:c,hsv:u,onChange:p})),r.default.createElement("div",{style:y.controls,className:"flexbox-fix"},r.default.createElement("div",{style:y.sliders},r.default.createElement("div",{style:y.hue},r.default.createElement(i.Hue,{style:y.Hue,hsl:c,onChange:p})),r.default.createElement("div",{style:y.alpha},r.default.createElement(i.Alpha,{style:y.Alpha,rgb:n,hsl:c,renderers:b,onChange:p}))),r.default.createElement("div",{style:y.color},r.default.createElement(i.Checkboard,null),r.default.createElement("div",{style:y.activeColor}))),r.default.createElement(l.default,{rgb:n,hsl:c,hex:o,onChange:p,disableAlpha:f}),r.default.createElement(s.default,{colors:h,onClick:p,onSwatchHover:d}))};c.propTypes={disableAlpha:o.default.bool,width:o.default.oneOfType([o.default.string,o.default.number])},c.defaultProps={disableAlpha:!1,width:200,presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,i.ColorWrap)(c)},1495:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var r=l(n(1)),o=l(n(124)),a=l(n(443)),i=n(217);function l(e){return e&&e.__esModule?e:{default:e}}var s=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,l=e.hsl,s=e.hex,u=e.disableAlpha,c=(0,o.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:u}),p=function(e,r){e.hex?a.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:l.h,s:l.s,l:l.l,a:e.a,source:"rgb"},r))};return r.default.createElement("div",{style:c.fields,className:"flexbox-fix"},r.default.createElement("div",{style:c.double},r.default.createElement(i.EditableInput,{style:{input:c.input,label:c.label},label:"hex",value:s.replace("#",""),onChange:p})),r.default.createElement("div",{style:c.single},r.default.createElement(i.EditableInput,{style:{input:c.input,label:c.label},label:"r",value:n.r,onChange:p,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(i.EditableInput,{style:{input:c.input,label:c.label},label:"g",value:n.g,onChange:p,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(i.EditableInput,{style:{input:c.input,label:c.label},label:"b",value:n.b,onChange:p,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.alpha},r.default.createElement(i.EditableInput,{style:{input:c.input,label:c.label},label:"a",value:Math.round(100*n.a),onChange:p,dragLabel:"true",dragMax:"100"})))};t.default=s},1496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(1)),a=s(n(0)),i=s(n(124)),l=n(217);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,a=void 0===n?function(){}:n,s=e.onSwatchHover,u=(0,i.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),c=function(e,t){a({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:u.colors,className:"flexbox-fix"},t.map(function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return o.default.createElement("div",{key:n,style:u.swatchWrap},o.default.createElement(l.Swatch,r({},t,{style:u.swatch,onClick:c,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))}))};u.propTypes={colors:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.shape({color:a.default.string,title:a.default.string})])).isRequired},t.default=u},1497:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var r=s(n(1)),o=s(n(124)),a=n(217),i=s(n(1498)),l=s(n(1500));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.Slider=function(e){var t=e.hsl,n=e.onChange,l=e.pointer,s=e.className,u=void 0===s?"":s,c=(0,o.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}});return r.default.createElement("div",{className:"slider-picker "+u},r.default.createElement("div",{style:c.hue},r.default.createElement(a.Hue,{style:c.Hue,hsl:t,pointer:l,onChange:n})),r.default.createElement("div",{style:c.swatches},r.default.createElement(i.default,{hsl:t,onClick:n})))};u.defaultProps={pointer:l.default},t.default=(0,a.ColorWrap)(u)},1498:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var r=i(n(1)),o=i(n(124)),a=i(n(1499));function i(e){return e&&e.__esModule?e:{default:e}}var l=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,i=(0,o.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return r.default.createElement("div",{style:i.swatches},r.default.createElement("div",{style:i.swatch},r.default.createElement(a.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100==.8&&Math.round(100*n.s)/100==.5,onClick:t,first:!0})),r.default.createElement("div",{style:i.swatch},r.default.createElement(a.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100==.65&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:i.swatch},r.default.createElement(a.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100==.5&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:i.swatch},r.default.createElement(a.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100==.35&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:i.swatch},r.default.createElement(a.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100==.2&&Math.round(100*n.s)/100==.5,onClick:t,last:!0})),r.default.createElement("div",{style:i.clear}))};t.default=l},1499:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var r=a(n(1)),o=a(n(124));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,a=e.onClick,i=void 0===a?function(){}:a,l=e.active,s=e.first,u=e.last,c=(0,o.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:l,first:s,last:u});return r.default.createElement("div",{style:c.swatch,onClick:function(e){return i({h:t.h,s:.5,l:n,source:"hsl"},e)}})};t.default=i},1500:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=a(n(1)),o=a(n(124));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderPointer=function(){var e=(0,o.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=i},1501:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var r=p(n(1)),o=p(n(0)),a=p(n(124)),i=p(n(949)),l=p(n(443)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1307)),u=n(217),c=p(n(1502));function p(e){return e&&e.__esModule?e:{default:e}}var d=t.Swatches=function(e){var t=e.width,n=e.height,o=e.onChange,s=e.onSwatchHover,p=e.colors,d=e.hex,f=e.className,h=void 0===f?"":f,b=(0,a.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}}),m=function(e,t){l.default.isValidHex(e)&&o({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:b.picker,className:"swatches-picker "+h},r.default.createElement(u.Raised,null,r.default.createElement("div",{style:b.overflow},r.default.createElement("div",{style:b.body},(0,i.default)(p,function(e){return r.default.createElement(c.default,{key:e.toString(),group:e,active:d,onClick:m,onSwatchHover:s})}),r.default.createElement("div",{style:b.clear})))))};d.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),height:o.default.oneOfType([o.default.string,o.default.number]),colors:o.default.arrayOf(o.default.arrayOf(o.default.string))},d.defaultProps={width:320,height:240,colors:[[s.red[900],s.red[700],s.red[500],s.red[300],s.red[100]],[s.pink[900],s.pink[700],s.pink[500],s.pink[300],s.pink[100]],[s.purple[900],s.purple[700],s.purple[500],s.purple[300],s.purple[100]],[s.deepPurple[900],s.deepPurple[700],s.deepPurple[500],s.deepPurple[300],s.deepPurple[100]],[s.indigo[900],s.indigo[700],s.indigo[500],s.indigo[300],s.indigo[100]],[s.blue[900],s.blue[700],s.blue[500],s.blue[300],s.blue[100]],[s.lightBlue[900],s.lightBlue[700],s.lightBlue[500],s.lightBlue[300],s.lightBlue[100]],[s.cyan[900],s.cyan[700],s.cyan[500],s.cyan[300],s.cyan[100]],[s.teal[900],s.teal[700],s.teal[500],s.teal[300],s.teal[100]],["#194D33",s.green[700],s.green[500],s.green[300],s.green[100]],[s.lightGreen[900],s.lightGreen[700],s.lightGreen[500],s.lightGreen[300],s.lightGreen[100]],[s.lime[900],s.lime[700],s.lime[500],s.lime[300],s.lime[100]],[s.yellow[900],s.yellow[700],s.yellow[500],s.yellow[300],s.yellow[100]],[s.amber[900],s.amber[700],s.amber[500],s.amber[300],s.amber[100]],[s.orange[900],s.orange[700],s.orange[500],s.orange[300],s.orange[100]],[s.deepOrange[900],s.deepOrange[700],s.deepOrange[500],s.deepOrange[300],s.deepOrange[100]],[s.brown[900],s.brown[700],s.brown[500],s.brown[300],s.brown[100]],[s.blueGrey[900],s.blueGrey[700],s.blueGrey[500],s.blueGrey[300],s.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]]},t.default=(0,u.ColorWrap)(d)},1502:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var r=l(n(1)),o=l(n(124)),a=l(n(949)),i=l(n(1503));function l(e){return e&&e.__esModule?e:{default:e}}var s=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,l=e.group,s=e.active,u=(0,o.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return r.default.createElement("div",{style:u.group},(0,a.default)(l,function(e,o){return r.default.createElement(i.default,{key:e,color:e,active:e.toLowerCase()===s,first:0===o,last:o===l.length-1,onClick:t,onSwatchHover:n})}))};t.default=s},1503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var r=l(n(1)),o=l(n(124)),a=l(n(443)),i=n(217);function l(e){return e&&e.__esModule?e:{default:e}}var s=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,l=void 0===n?function(){}:n,s=e.onSwatchHover,u=e.first,c=e.last,p=e.active,d=(0,o.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{fill:a.default.getContrastingColor(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{fill:"#333"}},transparent:{check:{fill:"#333"}}},{first:u,last:c,active:p,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(i.Swatch,{color:t,style:d.color,onClick:l,onHover:s,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:d.check},r.default.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},r.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))};t.default=s},1504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var r=u(n(1)),o=u(n(0)),a=u(n(124)),i=u(n(949)),l=u(n(443)),s=n(217);function u(e){return e&&e.__esModule?e:{default:e}}var c=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,o=e.hex,u=e.colors,c=e.width,p=e.triangle,d=e.className,f=void 0===d?"":d,h=(0,a.default)({default:{card:{width:c,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},{"hide-triangle":"hide"===p,"top-left-triangle":"top-left"===p,"top-right-triangle":"top-right"===p}),b=function(e,n){l.default.isValidHex(e)&&t({hex:e,source:"hex"},n)};return r.default.createElement("div",{style:h.card,className:"twitter-picker "+f},r.default.createElement("div",{style:h.triangleShadow}),r.default.createElement("div",{style:h.triangle}),r.default.createElement("div",{style:h.body},(0,i.default)(u,function(e,t){return r.default.createElement(s.Swatch,{key:t,color:e,hex:e,style:h.swatch,onClick:b,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})}),r.default.createElement("div",{style:h.hash},"#"),r.default.createElement(s.EditableInput,{style:{input:h.input},value:o.replace("#",""),onChange:b}),r.default.createElement("div",{style:h.clear})))};c.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),triangle:o.default.oneOf(["hide","top-left","top-right"]),colors:o.default.arrayOf(o.default.string)},c.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left"},t.default=(0,s.ColorWrap)(c)},165:function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return b}),n.d(t,"a",function(){return m});var r=n(272),o=n.n(r),a=n(393),i=n(209);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=8e3;function u(e){var t=e.slice;return t?t.slice_id:0}var c=0;function p(){var e=0;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(e=c%a.b.length,c+=1),a.b[e]}function d(e,t,n){if(null==e)return null;var r=n?"annotation_json":"slice_json";return o()(window.location.search).pathname("/superset/".concat(r,"/").concat(e)).search({form_data:Object(i.safeStringify)(t,function(e,t){return null===t?void 0:t})}).toString()}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base",n="/superset/explore/";return["json","csv","query","results","samples"].indexOf(t)>=0&&(n="/superset/explore_json/"),n}function h(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!e.datasource)return null;var a=new o.a("/"),l=f(e,t),u=a.search(!0);Object.keys(r).forEach(function(e){u[e]=r[e]}),u.form_data=Object(i.safeStringify)(e),"standalone"===t&&(u.standalone="true");var c=a.directory(l).search(u).toString();return!n&&c.length>s?h({datasource:e.datasource,viz_type:e.viz_type},t,!1,{URL_IS_TOO_LONG_TO_SHARE:null}):c}function b(e){var t=e.formData,n=e.endpointType,r=void 0===n?"base":n,a=e.force,s=void 0!==a&&a,u=e.curUrl,c=void 0===u?null:u,d=e.requestParams,h=void 0===d?{}:d,b=e.allowDomainSharding,m=void 0!==b&&b;if(!t.datasource)return null;var g=new o.a({protocol:location.protocol.slice(0,-1),hostname:p(m),port:location.port?location.port:"",path:"/"});c&&(g=o()(o()(c).search()));var y=f(t,r),v=g.search(!0);t.slice_id&&(v.form_data=Object(i.safeStringify)({slice_id:t.slice_id})),s&&(v.force="true"),"csv"===r&&(v.csv="true"),"standalone"===r&&(v.standalone="true"),"query"===r&&(v.query="true"),"results"===r&&(v.results="true"),"samples"===r&&(v.samples="true");var _=Object.keys(h);_.length&&_.forEach(function(e){h.hasOwnProperty(e)&&(v[e]=h[e])}),g=g.search(v).directory(y);var O=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}({},t);return{url:g.toString(),payload:O}}function m(e,t){var n=b({formData:e,endpointType:t,allowDomainSharding:!1}),r=n.url,o=n.payload,a=document.createElement("form");a.action=r,a.method="POST",a.target="_blank";var l=document.createElement("input");l.type="hidden",l.name="csrf_token",l.value=(document.getElementById("csrf_token")||{}).value,a.appendChild(l);var s=document.createElement("input");s.type="hidden",s.name="form_data",s.value=Object(i.safeStringify)(o),a.appendChild(s),document.body.appendChild(a),a.submit(),document.body.removeChild(a)}},167:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),o=n.n(r),a=n(0),i=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={size:i.a.number,position:i.a.oneOf(["floating","normal"])},u={padding:0,margin:0,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"};function c(e){var t=e.size,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}({},"floating"===e.position?u:{},{size:t});return o.a.createElement("img",{className:"loading",alt:"Loading...",src:"/static/assets/images/loading.gif",style:n})}c.propTypes=s,c.defaultProps={size:50,position:"floating"}},170:function(e,t,n){"use strict";function r(e){return Object.keys(e).reduce(function(e,t){var n=e;return n[t]=t,n},{})}n.d(t,"c",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return s}),n.d(t,"f",function(){return u});var o={FORMULA:{value:"FORMULA",label:"Formula"},EVENT:{value:"EVENT",label:"Event",supportNativeSource:!0},INTERVAL:{value:"INTERVAL",label:"Interval",supportNativeSource:!0},TIME_SERIES:{value:"TIME_SERIES",label:"Time Series"}},a=r(o),i=a.FORMULA,l={NATIVE:{value:"NATIVE",label:"Superset annotation"}},s=r(l);function u(e){return!!e}t.e=a},174:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(9),s=n(3),u=n.n(s),c=n(117);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m={animation:i.a.bool,triggerNode:i.a.node.isRequired,modalTitle:i.a.node,modalBody:i.a.node,modalFooter:i.a.node,beforeOpen:i.a.func,onExit:i.a.func,isButton:i.a.bool,isMenuItem:i.a.bool,bsSize:i.a.string,className:i.a.string,tooltip:i.a.string,backdrop:i.a.oneOf(["static",!0,!1])},g=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=f(t).call(this,e))||"object"!==p(o)&&"function"!=typeof o?b(r):o).state={showModal:!1},n.open=n.open.bind(b(b(n))),n.close=n.close.bind(b(b(n))),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.Component),n=t,(a=[{key:"close",value:function(){this.setState(function(){return{showModal:!1}})}},{key:"open",value:function(e){e.preventDefault(),this.props.beforeOpen(),this.setState(function(){return{showModal:!0}})}},{key:"renderModal",value:function(){return o.a.createElement(l.Modal,{animation:this.props.animation,show:this.state.showModal,onHide:this.close,onExit:this.props.onExit,bsSize:this.props.bsSize,className:this.props.className,backdrop:this.props.backdrop},this.props.modalTitle&&o.a.createElement(l.Modal.Header,{closeButton:!0},o.a.createElement(l.Modal.Title,null,this.props.modalTitle)),o.a.createElement(l.Modal.Body,null,this.props.modalBody),this.props.modalFooter&&o.a.createElement(l.Modal.Footer,null,this.props.modalFooter))}},{key:"render",value:function(){var e=u()({"btn btn-default btn-sm":this.props.isButton});return this.props.isButton?o.a.createElement(r.Fragment,null,o.a.createElement(c.a,{className:"modal-trigger",tooltip:this.props.tooltip,onClick:this.open},this.props.triggerNode),this.renderModal()):this.props.isMenuItem?o.a.createElement(r.Fragment,null,o.a.createElement(l.MenuItem,{onClick:this.open},this.props.triggerNode),this.renderModal()):o.a.createElement(r.Fragment,null,o.a.createElement("span",{className:e,onClick:this.open,role:"button"},this.props.triggerNode),this.renderModal())}}])&&d(n.prototype,a),i&&d(n,i),t}();g.propTypes=m,g.defaultProps={animation:!0,beforeOpen:function(){},onExit:function(){},isButton:!1,isMenuItem:!1,bsSize:null,className:"",modalTitle:""}},1904:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t,n,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleStart=function(e){var n=t.props,r=n.distance,o=n.shouldCancelStart;if(2===e.button||o(e))return!1;t._touched=!0,t._pos=(0,d.getPosition)(e);var a=(0,d.closest)(e.target,function(e){return null!=e.sortableInfo});if(a&&a.sortableInfo&&t.nodeIsChild(a)&&!t.state.sorting){var i=t.props.useDragHandle,l=a.sortableInfo,s=l.index,u=l.collection;if(i&&!(0,d.closest)(e.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:s,collection:u},(0,d.isTouchEvent)(e)||"a"!==e.target.tagName.toLowerCase()||e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}},t.nodeIsChild=function(e){return e.sortableInfo.manager===t.manager},t.handleMove=function(e){var n=t.props,r=n.distance,o=n.pressThreshold;if(!t.state.sorting&&t._touched){var a=(0,d.getPosition)(e),i=t._delta={x:t._pos.x-a.x,y:t._pos.y-a.y},l=Math.abs(i.x)+Math.abs(i.y);r||o&&!(o&&l>=o)?r&&l>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}},t.handleEnd=function(){t._touched=!1,t.cancel()},t.cancel=function(){var e=t.props.distance,n=t.state.sorting;n||(e||clearTimeout(t.pressTimer),t.manager.active=null)},t.handlePress=function(e){var n=t.manager.getActive();if(n){var r=t.props,o=r.axis,a=r.getHelperDimensions,i=r.helperClass,l=r.hideSortableGhost,s=r.onSortStart,u=r.useWindowAsScrollContainer,c=n.node,p=n.collection,f=c.sortableInfo.index,b=(0,d.getElementMargin)(c),m=t.container.getBoundingClientRect(),g=a({index:f,node:c,collection:p});t.node=c,t.margin=b,t.width=g.width,t.height=g.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=c.getBoundingClientRect(),t.containerBoundingRect=m,t.index=f,t.newIndex=f,t.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},t.offsetEdge=(0,d.getEdgeOffset)(c,t.container),t.initialOffset=(0,d.getPosition)(e),t.initialScroll={top:t.container.scrollTop,left:t.container.scrollLeft},t.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var y,v=c.querySelectorAll("input, textarea, select"),_=c.cloneNode(!0),O=[].concat(h(_.querySelectorAll("input, textarea, select")));if(O.forEach(function(e,t){"file"!==e.type&&v[t]&&(e.value=v[t].value)}),t.helper=t.document.body.appendChild(_),t.helper.style.position="fixed",t.helper.style.top=t.boundingClientRect.top-b.top+"px",t.helper.style.left=t.boundingClientRect.left-b.left+"px",t.helper.style.width=t.width+"px",t.helper.style.height=t.height+"px",t.helper.style.boxSizing="border-box",t.helper.style.pointerEvents="none",l&&(t.sortableGhost=c,c.style.visibility="hidden",c.style.opacity=0),t.minTranslate={},t.maxTranslate={},t.axis.x&&(t.minTranslate.x=(u?0:m.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(u?t.contentWindow.innerWidth:m.left+m.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(u?0:m.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(u?t.contentWindow.innerHeight:m.top+m.height)-t.boundingClientRect.top-t.height/2),i)(y=t.helper.classList).add.apply(y,h(i.split(" ")));t.listenerNode=e.touches?c:t.contentWindow,d.events.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),d.events.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:f}),s&&s({node:c,index:f,collection:p},e)}},t.handleSortMove=function(e){var n=t.props.onSortMove;e.preventDefault(),t.updatePosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)},t.handleSortEnd=function(e){var n=t.props,r=n.hideSortableGhost,o=n.onSortEnd,a=t.manager.active.collection;t.listenerNode&&(d.events.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),d.events.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&(t.sortableGhost.style.visibility="",t.sortableGhost.style.opacity="");for(var i=t.manager.refs[a],l=0,s=i.length;l<s;l++){var u=i[l],c=u.node;u.edgeOffset=null,c.style[d.vendorPrefix+"Transform"]="",c.style[d.vendorPrefix+"TransitionDuration"]=""}clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof o&&o({oldIndex:t.index,newIndex:t.newIndex,collection:a},e),t._touched=!1},t.autoscroll=function(){var e=t.translate,n={x:0,y:0},r={x:1,y:1},o={x:10,y:10};e.y>=t.maxTranslate.y-t.height/2?(n.y=1,r.y=o.y*Math.abs((t.maxTranslate.y-t.height/2-e.y)/t.height)):e.x>=t.maxTranslate.x-t.width/2?(n.x=1,r.x=o.x*Math.abs((t.maxTranslate.x-t.width/2-e.x)/t.width)):e.y<=t.minTranslate.y+t.height/2?(n.y=-1,r.y=o.y*Math.abs((e.y-t.height/2-t.minTranslate.y)/t.height)):e.x<=t.minTranslate.x+t.width/2&&(n.x=-1,r.x=o.x*Math.abs((e.x-t.width/2-t.minTranslate.x)/t.width)),t.autoscrollInterval&&(clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),0===n.x&&0===n.y||(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e={left:1*r.x*n.x,top:1*r.y*n.y};t.scrollContainer.scrollTop+=e.top,t.scrollContainer.scrollLeft+=e.left,t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()},5))},t.manager=new p.default,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},(0,c.default)(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t.state={},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),a(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then(function(n){e.container=n,e.document=e.container.ownerDocument||document;var r=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof r?r():r,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:e.container;var o=function(t){e.events.hasOwnProperty(t)&&d.events[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})};for(var a in e.events)o(a)})}},{key:"componentWillUnmount",value:function(){var e=this;if(this.container){var t=function(t){e.events.hasOwnProperty(t)&&d.events[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})};for(var n in this.events)t(n)}}},{key:"getLockPixelOffsets",value:function(){var e=this.width,t=this.height,n=this.props.lockOffset,r=Array.isArray(n)?n:[n,n];(0,c.default)(2===r.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",n);var a=o(r,2),i=a[0],l=a[1];return[(0,d.getLockPixelOffset)({lockOffset:i,width:e,height:t}),(0,d.getLockPixelOffset)({lockOffset:l,width:e,height:t})]}},{key:"updatePosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockToContainerEdges,a=(0,d.getPosition)(e),i={x:a.x-this.initialOffset.x,y:a.y-this.initialOffset.y};if(i.y-=window.pageYOffset-this.initialWindowScroll.top,i.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=i,r){var l=this.getLockPixelOffsets(),s=o(l,2),u=s[0],c=s[1],p={x:this.width/2-u.x,y:this.height/2-u.y},f={x:this.width/2-c.x,y:this.height/2-c.y};i.x=(0,d.limit)(this.minTranslate.x+p.x,this.maxTranslate.x-f.x,i.x),i.y=(0,d.limit)(this.minTranslate.y+p.y,this.maxTranslate.y-f.y,i.y)}"x"===n?i.y=0:"y"===n&&(i.x=0),this.helper.style[d.vendorPrefix+"Transform"]="translate3d("+i.x+"px,"+i.y+"px, 0)"}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=e.onSortOver,o=this.manager.getOrderedRefs(),a={left:this.container.scrollLeft-this.initialScroll.left,top:this.container.scrollTop-this.initialScroll.top},i={left:this.offsetEdge.left+this.translate.x+a.left,top:this.offsetEdge.top+this.translate.y+a.top},l={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left},s=this.newIndex;this.newIndex=null;for(var u=0,c=o.length;u<c;u++){var p=o[u].node,f=p.sortableInfo.index,h=p.offsetWidth,b=p.offsetHeight,m={width:this.width>h?h/2:this.width/2,height:this.height>b?b/2:this.height/2},g={x:0,y:0},y=o[u].edgeOffset;y||(o[u].edgeOffset=y=(0,d.getEdgeOffset)(p,this.container));var v=u<o.length-1&&o[u+1],_=u>0&&o[u-1];v&&!v.edgeOffset&&(v.edgeOffset=(0,d.getEdgeOffset)(v.node,this.container)),f!==this.index?(t&&(p.style[d.vendorPrefix+"TransitionDuration"]=t+"ms"),this.axis.x?this.axis.y?f<this.index&&(i.left+l.left-m.width<=y.left&&i.top+l.top<=y.top+m.height||i.top+l.top+m.height<=y.top)?(g.x=this.width+this.marginOffset.x,y.left+g.x>this.containerBoundingRect.width-m.width&&(g.x=v.edgeOffset.left-y.left,g.y=v.edgeOffset.top-y.top),null===this.newIndex&&(this.newIndex=f)):f>this.index&&(i.left+l.left+m.width>=y.left&&i.top+l.top+m.height>=y.top||i.top+l.top+m.height>=y.top+b)&&(g.x=-(this.width+this.marginOffset.x),y.left+g.x<this.containerBoundingRect.left+m.width&&(g.x=_.edgeOffset.left-y.left,g.y=_.edgeOffset.top-y.top),this.newIndex=f):f>this.index&&i.left+l.left+m.width>=y.left?(g.x=-(this.width+this.marginOffset.x),this.newIndex=f):f<this.index&&i.left+l.left<=y.left+m.width&&(g.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=f)):this.axis.y&&(f>this.index&&i.top+l.top+m.height>=y.top?(g.y=-(this.height+this.marginOffset.y),this.newIndex=f):f<this.index&&i.top+l.top<=y.top+m.height&&(g.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=f))),p.style[d.vendorPrefix+"Transform"]="translate3d("+g.x+"px,"+g.y+"px,0)"):n&&(this.sortableGhost=p,p.style.visibility="hidden",p.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index),r&&this.newIndex!==s&&r({newIndex:this.newIndex,oldIndex:s,index:this.index,collection:this.manager.active.collection})}},{key:"getWrappedInstance",value:function(){return(0,c.default)(f.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?(0,u.findDOMNode)(this):e(f.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=f.withRef?"wrappedInstance":null;return l.default.createElement(e,r({ref:t},(0,d.omit)(this.props,"contentWindow","useWindowAsScrollContainer","distance","helperClass","hideSortableGhost","transitionDuration","useDragHandle","pressDelay","pressThreshold","shouldCancelStart","onSortStart","onSortMove","onSortEnd","axis","lockAxis","lockOffset","lockToContainerEdges","getContainer","getHelperDimensions")))}}]),n}(i.Component),t.displayName=(0,d.provideDisplayName)("sortableList",e),t.defaultProps={axis:"y",transitionDuration:300,pressDelay:0,pressThreshold:5,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,shouldCancelStart:function(e){if(-1!==["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase()))return!0},lockToContainerEdges:!1,lockOffset:"50%",getHelperDimensions:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}}},t.propTypes={axis:s.default.oneOf(["x","y","xy"]),distance:s.default.number,lockAxis:s.default.string,helperClass:s.default.string,transitionDuration:s.default.number,contentWindow:s.default.any,onSortStart:s.default.func,onSortMove:s.default.func,onSortOver:s.default.func,onSortEnd:s.default.func,shouldCancelStart:s.default.func,pressDelay:s.default.number,useDragHandle:s.default.bool,useWindowAsScrollContainer:s.default.bool,hideSortableGhost:s.default.bool,lockToContainerEdges:s.default.bool,lockOffset:s.default.oneOfType([s.default.number,s.default.string,s.default.arrayOf(s.default.oneOfType([s.default.number,s.default.string]))]),getContainer:s.default.func,getHelperDimensions:s.default.func},t.childContextTypes={manager:s.default.object.isRequired},n};var i=n(1),l=f(i),s=f(n(0)),u=n(17),c=f(n(46)),p=f(n(1905)),d=n(1210);function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}},1905:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.refs={}}return r(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find(function(t){return t.node.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(a)}}]),e}();function a(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}t.default=o},1906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t,n,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),o(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index;n||this.setDraggable(t,r)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.index!==e.index&&this.node&&(this.node.sortableInfo.index=e.index),this.props.disabled!==e.disabled){var t=e.collection,n=e.disabled,r=e.index;n?this.removeDraggable(t):this.setDraggable(t,r)}else this.props.collection!==e.collection&&(this.removeDraggable(this.props.collection),this.setDraggable(e.collection,e.index))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.collection,n=e.disabled;n||this.removeDraggable(t)}},{key:"setDraggable",value:function(e,t){var n=this.node=(0,s.findDOMNode)(this);n.sortableInfo={index:t,collection:e,manager:this.context.manager},this.ref={node:n},this.context.manager.add(e,this.ref)}},{key:"removeDraggable",value:function(e){this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return(0,u.default)(p.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=p.withRef?"wrappedInstance":null;return i.default.createElement(e,r({ref:t},(0,c.omit)(this.props,"collection","disabled","index")))}}]),n}(a.Component),t.displayName=(0,c.provideDisplayName)("sortableElement",e),t.contextTypes={manager:l.default.object.isRequired},t.propTypes={index:l.default.number.isRequired,collection:l.default.oneOfType([l.default.number,l.default.string]),disabled:l.default.bool},t.defaultProps={collection:0},n};var a=n(1),i=p(a),l=p(n(0)),s=n(17),u=p(n(46)),c=n(1210);function p(e){return e&&e.__esModule?e:{default:e}}},1907:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t,n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),o(n,[{key:"componentDidMount",value:function(){var e=(0,l.findDOMNode)(this);e.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return(0,s.default)(c.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=c.withRef?"wrappedInstance":null;return i.default.createElement(e,r({ref:t},this.props))}}]),n}(a.Component),t.displayName=(0,u.provideDisplayName)("sortableHandle",e),n};var a=n(1),i=c(a),l=n(17),s=c(n(46)),u=n(1210);function c(e){return e&&e.__esModule?e:{default:e}}},1908:function(e,t,n){},1909:function(e,t,n){},1910:function(e,t,n){},1911:function(e,t,n){},1912:function(e,t,n){"use strict";var r=n(397),o=n(1913),a=n(1914),i="mixins";e.exports=function(e,t,n){var l=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},u={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)d(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in c;a(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var i=n in e;if(i){var l=u.hasOwnProperty(n)?u[n]:null;return a("DEFINE_MANY_MERGED"===l,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=h(e[n],r))}e[n]=r}}}(e,t)},autobind:function(){}};function p(e,t){var n=s.hasOwnProperty(t)?s[t]:null;v.hasOwnProperty(t)&&a("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&a("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,n){if(n){a("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),a(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;for(var l in n.hasOwnProperty(i)&&c.mixins(e,n.mixins),n)if(n.hasOwnProperty(l)&&l!==i){var u=n[l],d=r.hasOwnProperty(l);if(p(d,l),c.hasOwnProperty(l))c[l](e,u);else{var f=s.hasOwnProperty(l);if("function"!=typeof u||f||d||!1===n.autobind)if(d){var m=s[l];a(f&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,l),"DEFINE_MANY_MERGED"===m?r[l]=h(r[l],u):"DEFINE_MANY"===m&&(r[l]=b(r[l],u))}else r[l]=u;else o.push(l,u),r[l]=u}}}}function f(e,t){for(var n in a(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(a(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function h(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return f(o,n),f(o,r),o}}function b(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var g={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},v={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},_=function(){};return r(_.prototype,e.prototype,v),function(e){var t=function(e,r,i){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=m(e,o)}}(this),this.props=e,this.context=r,this.refs=o,this.updater=i||n,this.state=null;var l=this.getInitialState?this.getInitialState():null;a("object"==typeof l&&!Array.isArray(l),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=l};for(var r in t.prototype=new _,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],l.forEach(d.bind(null,t)),d(t,g),d(t,e),d(t,y),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),a(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),s)t.prototype[r]||(t.prototype[r]=null);return t}}},1913:function(e,t,n){"use strict";e.exports={}},1914:function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,a,i,l,s){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,a,i,l,s],p=0;(u=new Error(t.replace(/%s/g,function(){return c[p++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},1915:function(e,t,n){"use strict";var r=n(1),o=n(1090)({viewComponents:{days:n(1916),months:n(1917),years:n(1918),time:n(1919)},render:function(){return r.createElement(this.viewComponents[this.props.view],this.props.viewProps)}});e.exports=o},1916:function(e,t,n){"use strict";var r=n(1),o=n(1090),a=n(20),i=o({render:function(){var e,t=this.renderFooter(),n=this.props.viewDate,o=n.localeData();return e=[r.createElement("thead",{key:"th"},[r.createElement("tr",{key:"h"},[r.createElement("th",{key:"p",className:"rdtPrev",onClick:this.props.subtractTime(1,"months")},r.createElement("span",{},"")),r.createElement("th",{key:"s",className:"rdtSwitch",onClick:this.props.showView("months"),colSpan:5,"data-value":this.props.viewDate.month()},o.months(n)+" "+n.year()),r.createElement("th",{key:"n",className:"rdtNext",onClick:this.props.addTime(1,"months")},r.createElement("span",{},""))]),r.createElement("tr",{key:"d"},this.getDaysOfWeek(o).map(function(e,t){return r.createElement("th",{key:e+t,className:"dow"},e)}))]),r.createElement("tbody",{key:"tb"},this.renderDays())],t&&e.push(t),r.createElement("div",{className:"rdtDays"},r.createElement("table",{},e))},getDaysOfWeek:function(e){var t=e._weekdaysMin,n=e.firstDayOfWeek(),r=[],o=0;return t.forEach(function(e){r[(7+o++-n)%7]=e}),r},renderDays:function(){var e,t,n,o,i=this.props.viewDate,l=this.props.selectedDate&&this.props.selectedDate.clone(),s=i.clone().subtract(1,"months"),u=i.year(),c=i.month(),p=[],d=[],f=this.props.renderDay||this.renderDay,h=this.props.isValidDate||this.alwaysValidDate;s.date(s.daysInMonth()).startOf("week");for(var b=s.clone().add(42,"d");s.isBefore(b);)e="rdtDay",o=s.clone(),s.year()===u&&s.month()<c||s.year()<u?e+=" rdtOld":(s.year()===u&&s.month()>c||s.year()>u)&&(e+=" rdtNew"),l&&s.isSame(l,"day")&&(e+=" rdtActive"),s.isSame(a(),"day")&&(e+=" rdtToday"),(t=!h(o,l))&&(e+=" rdtDisabled"),n={key:s.format("M_D"),"data-value":s.date(),className:e},t||(n.onClick=this.updateSelectedDate),d.push(f(n,o,l)),7===d.length&&(p.push(r.createElement("tr",{key:s.format("M_D")},d)),d=[]),s.add(1,"d");return p},updateSelectedDate:function(e){this.props.updateSelectedDate(e,!0)},renderDay:function(e,t){return r.createElement("td",e,t.date())},renderFooter:function(){if(!this.props.timeFormat)return"";var e=this.props.selectedDate||this.props.viewDate;return r.createElement("tfoot",{key:"tf"},r.createElement("tr",{},r.createElement("td",{onClick:this.props.showView("time"),colSpan:7,className:"rdtTimeToggle"},e.format(this.props.timeFormat))))},alwaysValidDate:function(){return 1}});e.exports=i},1917:function(e,t,n){"use strict";var r=n(1),o=n(1090)({render:function(){return r.createElement("div",{className:"rdtMonths"},[r.createElement("table",{key:"a"},r.createElement("thead",{},r.createElement("tr",{},[r.createElement("th",{key:"prev",className:"rdtPrev",onClick:this.props.subtractTime(1,"years")},r.createElement("span",{},"")),r.createElement("th",{key:"year",className:"rdtSwitch",onClick:this.props.showView("years"),colSpan:2,"data-value":this.props.viewDate.year()},this.props.viewDate.year()),r.createElement("th",{key:"next",className:"rdtNext",onClick:this.props.addTime(1,"years")},r.createElement("span",{},""))]))),r.createElement("table",{key:"months"},r.createElement("tbody",{key:"b"},this.renderMonths()))])},renderMonths:function(){for(var e,t,n,o,a,i=this.props.selectedDate,l=this.props.viewDate.month(),s=this.props.viewDate.year(),u=[],c=0,p=[],d=this.props.renderMonth||this.renderMonth,f=this.props.isValidDate||this.alwaysValidDate;c<12;)e="rdtMonth",a=(n=this.props.viewDate.clone().set({year:s,month:c,date:1})).endOf("month").format("D"),(o=void 0===Array.from({length:a},function(e,t){return t+1}).find(function(e){var t=n.clone().set("date",e);return f(t)}))&&(e+=" rdtDisabled"),i&&c===i.month()&&s===i.year()&&(e+=" rdtActive"),t={key:c,"data-value":c,className:e},o||(t.onClick="months"===this.props.updateOn?this.updateSelectedMonth:this.props.setDate("month")),p.push(d(t,c,s,i&&i.clone())),4===p.length&&(u.push(r.createElement("tr",{key:l+"_"+u.length},p)),p=[]),c++;return u},updateSelectedMonth:function(e){this.props.updateSelectedDate(e)},renderMonth:function(e,t){var n,o=this.props.viewDate,a=o.localeData().monthsShort(o.month(t)).substring(0,3);return r.createElement("td",e,(n=a).charAt(0).toUpperCase()+n.slice(1))},alwaysValidDate:function(){return 1}});e.exports=o},1918:function(e,t,n){"use strict";var r=n(1),o=n(1090)({render:function(){var e=10*parseInt(this.props.viewDate.year()/10,10);return r.createElement("div",{className:"rdtYears"},[r.createElement("table",{key:"a"},r.createElement("thead",{},r.createElement("tr",{},[r.createElement("th",{key:"prev",className:"rdtPrev",onClick:this.props.subtractTime(10,"years")},r.createElement("span",{},"")),r.createElement("th",{key:"year",className:"rdtSwitch",onClick:this.props.showView("years"),colSpan:2},e+"-"+(e+9)),r.createElement("th",{key:"next",className:"rdtNext",onClick:this.props.addTime(10,"years")},r.createElement("span",{},""))]))),r.createElement("table",{key:"years"},r.createElement("tbody",{},this.renderYears(e)))])},renderYears:function(e){var t,n,o,a,i,l=[],s=-1,u=[],c=this.props.renderYear||this.renderYear,p=this.props.selectedDate,d=this.props.isValidDate||this.alwaysValidDate;for(e--;s<11;)t="rdtYear",i=(o=this.props.viewDate.clone().set({year:e,month:0,date:1})).endOf("year").format("DDD"),(a=void 0===Array.from({length:i},function(e,t){return t+1}).find(function(e){var t=o.clone().dayOfYear(e);return d(t)}))&&(t+=" rdtDisabled"),p&&p.year()===e&&(t+=" rdtActive"),n={key:e,"data-value":e,className:t},a||(n.onClick="years"===this.props.updateOn?this.updateSelectedYear:this.props.setDate("year")),l.push(c(n,e,p&&p.clone())),4===l.length&&(u.push(r.createElement("tr",{key:s},l)),l=[]),e++,s++;return u},updateSelectedYear:function(e){this.props.updateSelectedDate(e)},renderYear:function(e,t){return r.createElement("td",e,t)},alwaysValidDate:function(){return 1}});e.exports=o},1919:function(e,t,n){"use strict";var r=n(1),o=n(1090),a=n(1368),i=o({getInitialState:function(){return this.calculateState(this.props)},calculateState:function(e){var t=e.selectedDate||e.viewDate,n=e.timeFormat,r=[];-1!==n.toLowerCase().indexOf("h")&&(r.push("hours"),-1!==n.indexOf("m")&&(r.push("minutes"),-1!==n.indexOf("s")&&r.push("seconds")));var o=t.format("H"),a=!1;return null!==this.state&&-1!==this.props.timeFormat.toLowerCase().indexOf(" a")&&(a=-1!==this.props.timeFormat.indexOf(" A")?o>=12?"PM":"AM":o>=12?"pm":"am"),{hours:o,minutes:t.format("mm"),seconds:t.format("ss"),milliseconds:t.format("SSS"),daypart:a,counters:r}},renderCounter:function(e){if("daypart"!==e){var t=this.state[e];return"hours"===e&&-1!==this.props.timeFormat.toLowerCase().indexOf(" a")&&0===(t=(t-1)%12+1)&&(t=12),r.createElement("div",{key:e,className:"rdtCounter"},[r.createElement("span",{key:"up",className:"rdtBtn",onMouseDown:this.onStartClicking("increase",e),onContextMenu:this.disableContextMenu},""),r.createElement("div",{key:"c",className:"rdtCount"},t),r.createElement("span",{key:"do",className:"rdtBtn",onMouseDown:this.onStartClicking("decrease",e),onContextMenu:this.disableContextMenu},"")])}return""},renderDayPart:function(){return r.createElement("div",{key:"dayPart",className:"rdtCounter"},[r.createElement("span",{key:"up",className:"rdtBtn",onMouseDown:this.onStartClicking("toggleDayPart","hours"),onContextMenu:this.disableContextMenu},""),r.createElement("div",{key:this.state.daypart,className:"rdtCount"},this.state.daypart),r.createElement("span",{key:"do",className:"rdtBtn",onMouseDown:this.onStartClicking("toggleDayPart","hours"),onContextMenu:this.disableContextMenu},"")])},render:function(){var e=this,t=[];return this.state.counters.forEach(function(n){t.length&&t.push(r.createElement("div",{key:"sep"+t.length,className:"rdtCounterSeparator"},":")),t.push(e.renderCounter(n))}),!1!==this.state.daypart&&t.push(e.renderDayPart()),3===this.state.counters.length&&-1!==this.props.timeFormat.indexOf("S")&&(t.push(r.createElement("div",{className:"rdtCounterSeparator",key:"sep5"},":")),t.push(r.createElement("div",{className:"rdtCounter rdtMilli",key:"m"},r.createElement("input",{value:this.state.milliseconds,type:"text",onChange:this.updateMilli})))),r.createElement("div",{className:"rdtTime"},r.createElement("table",{},[this.renderHeader(),r.createElement("tbody",{key:"b"},r.createElement("tr",{},r.createElement("td",{},r.createElement("div",{className:"rdtCounters"},t))))]))},componentWillMount:function(){var e=this;e.timeConstraints={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}},["hours","minutes","seconds","milliseconds"].forEach(function(t){a(e.timeConstraints[t],e.props.timeConstraints[t])}),this.setState(this.calculateState(this.props))},componentWillReceiveProps:function(e){this.setState(this.calculateState(e))},updateMilli:function(e){var t=parseInt(e.target.value,10);t===e.target.value&&t>=0&&t<1e3&&(this.props.setTime("milliseconds",t),this.setState({milliseconds:t}))},renderHeader:function(){if(!this.props.dateFormat)return null;var e=this.props.selectedDate||this.props.viewDate;return r.createElement("thead",{key:"h"},r.createElement("tr",{},r.createElement("th",{className:"rdtSwitch",colSpan:4,onClick:this.props.showView("days")},e.format(this.props.dateFormat))))},onStartClicking:function(e,t){var n=this;return function(){var r={};r[t]=n[e](t),n.setState(r),n.timer=setTimeout(function(){n.increaseTimer=setInterval(function(){r[t]=n[e](t),n.setState(r)},70)},500),n.mouseUpListener=function(){clearTimeout(n.timer),clearInterval(n.increaseTimer),n.props.setTime(t,n.state[t]),document.body.removeEventListener("mouseup",n.mouseUpListener),document.body.removeEventListener("touchend",n.mouseUpListener)},document.body.addEventListener("mouseup",n.mouseUpListener),document.body.addEventListener("touchend",n.mouseUpListener)}},disableContextMenu:function(e){return e.preventDefault(),!1},padValues:{hours:1,minutes:2,seconds:2,milliseconds:3},toggleDayPart:function(e){var t=parseInt(this.state[e],10)+12;return t>this.timeConstraints[e].max&&(t=this.timeConstraints[e].min+(t-(this.timeConstraints[e].max+1))),this.pad(e,t)},increase:function(e){var t=parseInt(this.state[e],10)+this.timeConstraints[e].step;return t>this.timeConstraints[e].max&&(t=this.timeConstraints[e].min+(t-(this.timeConstraints[e].max+1))),this.pad(e,t)},decrease:function(e){var t=parseInt(this.state[e],10)-this.timeConstraints[e].step;return t<this.timeConstraints[e].min&&(t=this.timeConstraints[e].max+1-(this.timeConstraints[e].min-t)),this.pad(e,t)},pad:function(e,t){for(var n=t+"";n.length<this.padValues[e];)n="0"+n;return n}});e.exports=i},1920:function(e,t,n){"use strict";n.r(t),n.d(t,"IGNORE_CLASS_NAME",function(){return f});var r=n(1),o=n(17);function a(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var i=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}};var l,s,u=(void 0===l&&(l=0),function(){return++l}),c={},p={},d=["touchstart","touchmove"],f="ignore-react-onclickoutside";function h(e,t){var n=null;return-1!==d.indexOf(t)&&s&&(n={passive:!e.props.preventDefault}),n}t.default=function(e,t){var n,l;return l=n=function(n){var l,d;function f(e){var t;return(t=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof t.__clickOutsideHandlerProp){var n=t.getInstance();if("function"!=typeof n.props.handleClickOutside){if("function"!=typeof n.handleClickOutside)throw new Error("WrappedComponent lacks a handleClickOutside(event) function for processing outside click events.");n.handleClickOutside(e)}else n.props.handleClickOutside(e)}else t.__clickOutsideHandlerProp(e)},t.enableOnClickOutside=function(){if("undefined"!=typeof document&&!p[t._uid]){void 0===s&&(s=i()),p[t._uid]=!0;var e=t.props.eventTypes;e.forEach||(e=[e]),c[t._uid]=function(e){var n;t.props.disableOnClickOutside||null!==t.componentNode&&(t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),t.props.excludeScrollbar&&(n=e,document.documentElement.clientWidth<=n.clientX||document.documentElement.clientHeight<=n.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(a(e,t,n))return!0;e=e.parentNode}return e}(e.target,t.componentNode,t.props.outsideClickIgnoreClass)===document&&t.__outsideClickHandler(e))},e.forEach(function(e){document.addEventListener(e,c[t._uid],h(t,e))})}},t.disableOnClickOutside=function(){delete p[t._uid];var e=c[t._uid];if(e&&"undefined"!=typeof document){var n=t.props.eventTypes;n.forEach||(n=[n]),n.forEach(function(n){return document.removeEventListener(n,e,h(t,n))}),delete c[t._uid]}},t.getRef=function(e){return t.instanceRef=e},t._uid=u(),t}d=n,(l=f).prototype=Object.create(d.prototype),l.prototype.constructor=l,l.__proto__=d;var b=f.prototype;return b.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},b.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=Object(o.findDOMNode)(this.getInstance()),this.enableOnClickOutside()}},b.componentDidUpdate=function(){this.componentNode=Object(o.findDOMNode)(this.getInstance())},b.componentWillUnmount=function(){this.disableOnClickOutside()},b.render=function(){var t=this.props,n=(t.excludeScrollbar,function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["excludeScrollbar"]));return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(r.createElement)(e,n)},f}(r.Component),n.displayName="OnClickOutside("+(e.displayName||e.name||"Component")+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:f,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},l}},1921:function(e,t,n){},1922:function(e,t,n){},209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeStringify=function(e){var t=new Set;return JSON.stringify(e,function(e,n){if("object"==typeof n&&null!==n){if(t.has(n))try{return JSON.parse(JSON.stringify(n))}catch(e){return}t.add(n)}return n})}},212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_VisibleCellRange=t.bpfrpt_proptype_Alignment=t.bpfrpt_proptype_OverscanIndicesGetter=t.bpfrpt_proptype_OverscanIndices=t.bpfrpt_proptype_OverscanIndicesGetterParams=t.bpfrpt_proptype_RenderedSection=t.bpfrpt_proptype_ScrollbarPresenceChange=t.bpfrpt_proptype_Scroll=t.bpfrpt_proptype_NoContentRenderer=t.bpfrpt_proptype_CellSize=t.bpfrpt_proptype_CellSizeGetter=t.bpfrpt_proptype_CellRangeRenderer=t.bpfrpt_proptype_CellRangeRendererParams=t.bpfrpt_proptype_StyleCache=t.bpfrpt_proptype_CellCache=t.bpfrpt_proptype_CellRenderer=t.bpfrpt_proptype_CellRendererParams=t.bpfrpt_proptype_CellPosition=void 0;(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e})(n(1)),r(n(450)),r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}t.bpfrpt_proptype_CellPosition=null,t.bpfrpt_proptype_CellRendererParams=null,t.bpfrpt_proptype_CellRenderer=null,t.bpfrpt_proptype_CellCache=null,t.bpfrpt_proptype_StyleCache=null,t.bpfrpt_proptype_CellRangeRendererParams=null,t.bpfrpt_proptype_CellRangeRenderer=null,t.bpfrpt_proptype_CellSizeGetter=null,t.bpfrpt_proptype_CellSize=null,t.bpfrpt_proptype_NoContentRenderer=null,t.bpfrpt_proptype_Scroll=null,t.bpfrpt_proptype_ScrollbarPresenceChange=null,t.bpfrpt_proptype_RenderedSection=null,t.bpfrpt_proptype_OverscanIndicesGetterParams=null,t.bpfrpt_proptype_OverscanIndices=null,t.bpfrpt_proptype_OverscanIndicesGetter=null,t.bpfrpt_proptype_Alignment=null,t.bpfrpt_proptype_VisibleCellRange=null},214:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(35),o=n(62),a=n(44);function i(e){return Object(o.b)(null,function(e){return Object(r.b)({addInfoToast:a.d,addSuccessToast:a.e,addWarningToast:a.g,addDangerToast:a.c},e)})(e)}},215:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(267),o=n.n(r),a=n(1),i=n.n(a),l=n(0),s=n.n(l),u=n(9),c={label:s.a.string.isRequired,tooltip:s.a.node.isRequired,children:s.a.node.isRequired,placement:s.a.string};function p(e){var t=e.label,n=e.tooltip,r=e.children,a=e.placement;return i.a.createElement(u.OverlayTrigger,{placement:a,overlay:i.a.createElement(u.Tooltip,{id:"".concat(o()(t),"-tooltip")},n)},r)}p.propTypes=c,p.defaultProps={placement:"top"}},216:function(e,t,n){"use strict";n.r(t),n.d(t,"LOG_EVENT",function(){return r}),n.d(t,"logEvent",function(){return o});var r="LOG_EVENT";function o(e,t){return function(n){return n({type:r,payload:{eventName:e,eventData:t}})}}},217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1457);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return p(r).default}});var o=n(1305);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return p(o).default}});var a=n(1460);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return p(a).default}});var i=n(1461);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return p(i).default}});var l=n(1463);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return p(l).default}});var s=n(1464);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return p(s).default}});var u=n(1306);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return p(u).default}});var c=n(1469);function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return p(c).default}})},218:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(1115),a=(r=o)&&r.__esModule?r:{default:r};t.default=a.default},219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterPropsFrom=function(e){e=e||{};var t={};for(var n in e)n in r||(t[n]=e[n]);return t};var r={hideTableHeader:!0,column:!0,columns:!0,sortable:!0,filterable:!0,filtering:!0,onFilter:!0,filterPlaceholder:!0,filterClassName:!0,currentFilter:!0,sort:!0,sortBy:!0,sortableColumns:!0,onSort:!0,defaultSort:!0,defaultSortDescending:!0,itemsPerPage:!0,filterBy:!0,hideFilterInput:!0,noDataText:!0,currentPage:!0,onPageChange:!0,previousPageLabel:!0,nextPageLabel:!0,pageButtonLimit:!0,childNode:!0,data:!0,children:!0}},2240:function(e,t,n){},2450:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(218),s=n.n(l),u=n(173),c=n(9),p=n(33),d=n(1370),f=n(1372),h=n(1377),b=n(82),m=n(404),g=n(403);n(2240);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var C={time_range:"__time_range",granularity_sqla:"__time_col",time_grain_sqla:"__time_grain",druid_time_origin:"__time_origin",granularity:"__granularity"},x="__time_range",E={origSelectedValues:i.a.object,datasource:i.a.object.isRequired,instantFiltering:i.a.bool,filtersFields:i.a.arrayOf(i.a.shape({field:i.a.string,label:i.a.string})),filtersChoices:i.a.objectOf(i.a.arrayOf(i.a.shape({id:i.a.string,text:i.a.string,filter:i.a.string,metric:i.a.number}))),onChange:i.a.func,showDateFilter:i.a.bool,showSqlaTimeGrain:i.a.bool,showSqlaTimeColumn:i.a.bool,showDruidTimeGrain:i.a.bool,showDruidTimeOrigin:i.a.bool},j=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=O(t).call(this,e))||"object"!==y(o)&&"function"!=typeof o?w(r):o).state={selectedValues:e.origSelectedValues,hasChanged:!1},n.changeFilter=n.changeFilter.bind(w(w(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,o.a.Component),n=t,(r=[{key:"getControlData",value:function(e){var t=this.state.selectedValues,n=Object.assign({},b.c[e],{name:e,key:"control-".concat(e),value:t[C[e]],actions:{setControlValue:this.changeFilter}}),r=n.mapStateToProps;return r?Object.assign({},n,r(this.props)):n}},{key:"clickApply",value:function(){var e=this,t=this.state.selectedValues;Object.keys(t).forEach(function(n,r,o){var a=!1;r===o.length-1&&(a=!0),e.props.onChange(n,t[n],!1,a)}),this.setState({hasChanged:!1})}},{key:"changeFilter",value:function(e,t){var n=C[e]||e,r=null;null!==t&&(r=Array.isArray(t)?t.map(function(e){return e.value}):t.value?t.value:t);var o=Object.assign({},this.state.selectedValues);o[n]=r,this.setState({selectedValues:o,hasChanged:!0}),this.props.instantFiltering&&this.props.onChange(n,r,!1,!0)}},{key:"renderDateFilter",value:function(){var e=this;return this.props.showDateFilter?o.a.createElement("div",{className:"row space-1"},o.a.createElement("div",{className:"col-lg-12 col-xs-12"},o.a.createElement(d.a,{name:x,label:Object(p.b)("Time range"),description:Object(p.b)("Select start and end date"),onChange:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.changeFilter.apply(e,[x].concat(n))},value:this.state.selectedValues[x]||"No filter"}))):null}},{key:"renderDatasourceFilters",value:function(){var e=this,t=this.props,n=t.showSqlaTimeGrain,r=t.showSqlaTimeColumn,a=t.showDruidTimeGrain,i=t.showDruidTimeOrigin,l=[],s=[],u=[];return n&&s.push("time_grain_sqla"),r&&s.push("granularity_sqla"),a&&u.push("granularity"),i&&u.push("druid_time_origin"),s.length&&l.push(o.a.createElement(f.a,{key:"sqla-filters",className:"control-row",controls:s.map(function(t){return o.a.createElement(h.a,e.getControlData(t))})})),u.length&&l.push(o.a.createElement(f.a,{key:"druid-filters",className:"control-row",controls:u.map(function(t){return o.a.createElement(h.a,e.getControlData(t))})})),l}},{key:"renderSelect",value:function(e){var t=this,n=this.props.filtersChoices,r=this.state.selectedValues;Object.keys(r).filter(function(e){return r.hasOwnProperty(e)&&e in n}).forEach(function(e){var t=n[e]||[],o=new Set(t.map(function(e){return e.id}));(Array.isArray(r[e])?r[e]:[r[e]]).filter(function(e){return!o.has(e)}).forEach(function(n){t.unshift({filter:e,id:n,text:n,metric:0})})});var a=e.key,i=e.label,l=this.props.filtersChoices[a],c=Math.max.apply(Math,v(l.map(function(e){return e.metric}))),d=r[a]||null;return!d&&e.defaultValue&&(d=e.multiple?e.defaultValue.split(";"):e.defaultValue),o.a.createElement(m.a,{placeholder:Object(p.b)("Select [%s]",i),key:a,multi:e.multiple,clearable:e.clearable,value:d,options:l.map(function(e){var t=Math.round(e.metric/c*100),n={backgroundImage:"linear-gradient(to right, lightgrey, "+"lightgrey ".concat(t,"%, rgba(0,0,0,0) ").concat(t,"%"),padding:"2px 5px"};return{value:e.id,label:e.id,style:n}}),onChange:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.changeFilter.apply(t,[a].concat(n))},selectComponent:u.Creatable,selectWrap:s.a,optionRenderer:Object(g.a)(function(e){return e.label})})}},{key:"renderFilters",value:function(){var e=this;return this.props.filtersFields.map(function(t){var n=t.label,r=t.key;return o.a.createElement("div",{key:r,className:"m-b-5"},n,e.renderSelect(t))})}},{key:"render",value:function(){var e=this.props.instantFiltering;return o.a.createElement("div",{className:"scrollbar-container"},o.a.createElement("div",{className:"scrollbar-content"},this.renderDateFilter(),this.renderDatasourceFilters(),this.renderFilters(),!e&&o.a.createElement(c.Button,{bsSize:"small",bsStyle:"primary",onClick:this.clickApply.bind(this),disabled:!this.state.hasChanged},Object(p.b)("Apply"))))}}])&&_(n.prototype,r),a&&_(n,a),t}();j.propTypes=E,j.defaultProps={origSelectedValues:{},onChange:function(){},showDateFilter:!1,showSqlaTimeGrain:!1,showSqlaTimeColumn:!1,showDruidTimeGrain:!1,showDruidTimeOrigin:!1,instantFiltering:!0},t.default=j},268:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(421),s=n(115),u={column:i.a.object.isRequired,showType:i.a.bool};function c(e){var t=e.column,n=e.showType,r=t.expression&&t.expression!==t.column_name,a=t.type;return t.is_dttm?a="time":r&&(a="expression"),o.a.createElement("span",null,n&&a&&o.a.createElement(l.a,{type:a}),o.a.createElement("span",{className:"m-r-5 option-label"},t.verbose_name||t.column_name),t.description&&o.a.createElement(s.a,{className:"m-r-5 text-muted",icon:"info",tooltip:t.description,label:"descr-".concat(t.column_name)}),r&&o.a.createElement(s.a,{className:"m-r-5 text-muted",icon:"question-circle-o",tooltip:t.expression,label:"expr-".concat(t.column_name)}))}c.propTypes=u,c.defaultProps={showType:!1}},272:function(e,t,n){var r,o,a;!function(i,l){"use strict";e.exports?e.exports=l(n(946),n(947),n(948)):(o=[n(946),n(947),n(948)],void 0===(a="function"==typeof(r=l)?r.apply(t,o):r)||(e.exports=a))}(0,function(e,t,n,r){"use strict";var o=r&&r.URI;function a(e,t){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof a))return n?r?new a(e,t):new a(e):new a;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}a.version="1.19.1";var i=a.prototype,l=Object.prototype.hasOwnProperty;function s(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function u(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function c(e){return"Array"===u(e)}function p(e,t){var n,r,o={};if("RegExp"===u(t))o=null;else if(c(t))for(n=0,r=t.length;n<r;n++)o[t[n]]=!0;else o[t]=!0;for(n=0,r=e.length;n<r;n++){(o&&void 0!==o[e[n]]||!o&&t.test(e[n]))&&(e.splice(n,1),r--,n--)}return e}function d(e,t){var n,r;if(c(t)){for(n=0,r=t.length;n<r;n++)if(!d(e,t[n]))return!1;return!0}var o=u(t);for(n=0,r=e.length;n<r;n++)if("RegExp"===o){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function f(e,t){if(!c(e)||!c(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function h(e){return e.replace(/^\/+|\/+$/g,"")}function b(e){return escape(e)}function m(e){return encodeURIComponent(e).replace(/[!'()*]/g,b).replace(/\*/g,"%2A")}a._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:a.preventInvalidHostname,duplicateQueryParameters:a.duplicateQueryParameters,escapeQuerySpace:a.escapeQuerySpace}},a.preventInvalidHostname=!1,a.duplicateQueryParameters=!1,a.escapeQuerySpace=!0,a.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,a.idn_expression=/[^a-z0-9\._-]/i,a.punycode_expression=/(xn--)/i,a.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,a.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,a.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},a.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},a.hostProtocols=["http","https"],a.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,a.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},a.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return a.domAttributes[t]}},a.encode=m,a.decode=decodeURIComponent,a.iso8859=function(){a.encode=escape,a.decode=unescape},a.unicode=function(){a.encode=m,a.decode=decodeURIComponent},a.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},a.encodeQuery=function(e,t){var n=a.encode(e+"");return void 0===t&&(t=a.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},a.decodeQuery=function(e,t){e+="",void 0===t&&(t=a.escapeQuerySpace);try{return a.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var g,y={encode:"encode",decode:"decode"},v=function(e,t){return function(n){try{return a[t](n+"").replace(a.characters[e][t].expression,function(n){return a.characters[e][t].map[n]})}catch(e){return n}}};for(g in y)a[g+"PathSegment"]=v("pathname",y[g]),a[g+"UrnPathSegment"]=v("urnpath",y[g]);var _=function(e,t,n){return function(r){var o;o=n?function(e){return a[t](a[n](e))}:a[t];for(var i=(r+"").split(e),l=0,s=i.length;l<s;l++)i[l]=o(i[l]);return i.join(e)}};function O(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function S(e,t){return function(n,r){return void 0===n?this._parts[e]||"":(null!==n&&(n+="").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!r),this)}}a.decodePath=_("/","decodePathSegment"),a.decodeUrnPath=_(":","decodeUrnPathSegment"),a.recodePath=_("/","encodePathSegment","decode"),a.recodeUrnPath=_(":","encodeUrnPathSegment","decode"),a.encodeReserved=v("reserved","encode"),a.parse=function(e,t){var n;return t||(t={preventInvalidHostname:a.preventInvalidHostname}),(n=e.indexOf("#"))>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),(n=e.indexOf("?"))>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=a.parseAuthority(e,t)):(n=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(a.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=a.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},a.parseHost=function(e,t){e||(e="");var n,r,o=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===o&&(o=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,o)||null,"/"===t.port&&(t.port=null);else{var i=e.indexOf(":"),l=e.indexOf("/"),s=e.indexOf(":",i+1);-1!==s&&(-1===l||s<l)?(t.hostname=e.substring(0,o)||null,t.port=null):(r=e.substring(0,o).split(":"),t.hostname=r[0]||null,t.port=r[1]||null)}return t.hostname&&"/"!==e.substring(o).charAt(0)&&(o++,e="/"+e),t.preventInvalidHostname&&a.ensureValidHostname(t.hostname,t.protocol),t.port&&a.ensureValidPort(t.port),e.substring(o)||"/"},a.parseAuthority=function(e,t){return e=a.parseUserinfo(e,t),a.parseHost(e,t)},a.parseUserinfo=function(e,t){var n,r=e.indexOf("/"),o=e.lastIndexOf("@",r>-1?r:e.length-1);return o>-1&&(-1===r||o<r)?(n=e.substring(0,o).split(":"),t.username=n[0]?a.decode(n[0]):null,n.shift(),t.password=n[0]?a.decode(n.join(":")):null,e=e.substring(o+1)):(t.username=null,t.password=null),e},a.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,r,o,i={},s=e.split("&"),u=s.length,c=0;c<u;c++)n=s[c].split("="),r=a.decodeQuery(n.shift(),t),o=n.length?a.decodeQuery(n.join("="),t):null,l.call(i,r)?("string"!=typeof i[r]&&null!==i[r]||(i[r]=[i[r]]),i[r].push(o)):i[r]=o;return i},a.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=a.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},a.buildHost=function(e){var t="";return e.hostname?(a.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},a.buildAuthority=function(e){return a.buildUserinfo(e)+a.buildHost(e)},a.buildUserinfo=function(e){var t="";return e.username&&(t+=a.encode(e.username)),e.password&&(t+=":"+a.encode(e.password)),t&&(t+="@"),t},a.buildQuery=function(e,t,n){var r,o,i,s,u="";for(o in e)if(l.call(e,o)&&o)if(c(e[o]))for(r={},i=0,s=e[o].length;i<s;i++)void 0!==e[o][i]&&void 0===r[e[o][i]+""]&&(u+="&"+a.buildQueryParameter(o,e[o][i],n),!0!==t&&(r[e[o][i]+""]=!0));else void 0!==e[o]&&(u+="&"+a.buildQueryParameter(o,e[o],n));return u.substring(1)},a.buildQueryParameter=function(e,t,n){return a.encodeQuery(e,n)+(null!==t?"="+a.encodeQuery(t,n):"")},a.addQuery=function(e,t,n){if("object"==typeof t)for(var r in t)l.call(t,r)&&a.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),c(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},a.setQuery=function(e,t,n){if("object"==typeof t)for(var r in t)l.call(t,r)&&a.setQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===n?null:n}},a.removeQuery=function(e,t,n){var r,o,i;if(c(t))for(r=0,o=t.length;r<o;r++)e[t[r]]=void 0;else if("RegExp"===u(t))for(i in e)t.test(i)&&(e[i]=void 0);else if("object"==typeof t)for(i in t)l.call(t,i)&&a.removeQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===u(n)?!c(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=p(e[t],n):e[t]!==String(n)||c(n)&&1!==n.length?c(e[t])&&(e[t]=p(e[t],n)):e[t]=void 0:e[t]=void 0}},a.hasQuery=function(e,t,n,r){switch(u(t)){case"String":break;case"RegExp":for(var o in e)if(l.call(e,o)&&t.test(o)&&(void 0===n||a.hasQuery(e,o,n)))return!0;return!1;case"Object":for(var i in t)if(l.call(t,i)&&!a.hasQuery(e,i,t[i]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(u(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(c(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":return!!c(e[t])&&(r?d:f)(e[t],n);case"RegExp":return c(e[t])?!!r&&d(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return c(e[t])?!!r&&d(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},a.joinPaths=function(){for(var e=[],t=[],n=0,r=0;r<arguments.length;r++){var o=new a(arguments[r]);e.push(o);for(var i=o.segment(),l=0;l<i.length;l++)"string"==typeof i[l]&&t.push(i[l]),i[l]&&n++}if(!t.length||!n)return new a("");var s=new a("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||s.path("/"+s.path()),s.normalize()},a.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},a.withinString=function(e,t,n){n||(n={});var r=n.start||a.findUri.start,o=n.end||a.findUri.end,i=n.trim||a.findUri.trim,l=n.parens||a.findUri.parens,s=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var u=r.exec(e);if(!u)break;var c=u.index;if(n.ignoreHtml){var p=e.slice(Math.max(c-3,0),c);if(p&&s.test(p))continue}for(var d=c+e.slice(c).search(o),f=e.slice(c,d),h=-1;;){var b=l.exec(f);if(!b)break;var m=b.index+b[0].length;h=Math.max(h,m)}if(!((f=h>-1?f.slice(0,h)+f.slice(h).replace(i,""):f.replace(i,"")).length<=u[0].length||n.ignore&&n.ignore.test(f))){var g=t(f,c,d=c+f.length,e);void 0!==g?(g=String(g),e=e.slice(0,c)+g+e.slice(d),r.lastIndex=c+g.length):r.lastIndex=d}}return r.lastIndex=0,e},a.ensureValidHostname=function(t,n){var r=!!t,o=!1;if(!!n&&(o=d(a.hostProtocols,n)),o&&!r)throw new TypeError("Hostname cannot be empty, if protocol is "+n);if(t&&t.match(a.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(a.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},a.ensureValidPort=function(e){if(e){var t=Number(e);if(!(/^[0-9]+$/.test(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},a.noConflict=function(e){if(e){var t={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=o),this},i.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=a.build(this._parts),this._deferred_build=!1),this},i.clone=function(){return new a(this)},i.valueOf=i.toString=function(){return this.build(!1)._string},i.protocol=O("protocol"),i.username=O("username"),i.password=O("password"),i.hostname=O("hostname"),i.port=O("port"),i.query=S("query","?"),i.fragment=S("fragment","#"),i.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},i.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},i.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?a.decodeUrnPath:a.decodePath)(n):n}return this._parts.urn?this._parts.path=e?a.recodeUrnPath(e):"":this._parts.path=e?a.recodePath(e):"/",this.build(!t),this},i.path=i.pathname,i.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=a._parts();var r=e instanceof a,o="object"==typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(e=e[a.getDomAttribute(e)]||"",o=!1);if(!r&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=a.parse(String(e),this._parts);else{if(!r&&!o)throw new TypeError("invalid input");var i=r?e._parts:e;for(n in i)"query"!==n&&l.call(this._parts,n)&&(this._parts[n]=i[n]);i.query&&this.query(i.query,!1)}return this.build(!t),this},i.is=function(e){var t=!1,r=!1,o=!1,i=!1,l=!1,s=!1,u=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,r=a.ip4_expression.test(this._parts.hostname),o=a.ip6_expression.test(this._parts.hostname),l=(i=!(t=r||o))&&n&&n.has(this._parts.hostname),s=i&&a.idn_expression.test(this._parts.hostname),u=i&&a.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return i;case"sld":return l;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return s;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var w=i.protocol,C=i.port,x=i.hostname;i.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(a.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return w.call(this,e,t)},i.scheme=i.protocol,i.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),a.ensureValidPort(e))),C.call(this,e,t))},i.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==a.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&a.ensureValidHostname(e,this._parts.protocol)}return x.call(this,e,t)},i.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var r=a(e);return this.protocol(r.protocol()).authority(r.authority()).build(!t),this},i.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?a.buildHost(this._parts):"";if("/"!==a.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},i.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?a.buildAuthority(this._parts):"";if("/"!==a.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},i.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=a.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==e[e.length-1]&&(e+="@"),a.parseUserinfo(e,this._parts),this.build(!t),this},i.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=a.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},i.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,r),i=new RegExp("^"+s(o));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&a.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(i,e),this.build(!t),this},i.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(a.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(s(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},i.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),o=this._parts.hostname.substring(r+1);return!0!==t&&n&&n.list[o.toLowerCase()]&&n.get(this._parts.hostname)||o}var a;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');a=new RegExp(s(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(s(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,e)}return this.build(!t),this},i.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?a.decodePath(r):r}var o=this._parts.path.length-this.filename().length,i=this._parts.path.substring(0,o),l=new RegExp("^"+s(i));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=a.recodePath(e),this._parts.path=this._parts.path.replace(l,e),this.build(!t),this},i.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return e?a.decodePathSegment(r):r}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var i=new RegExp(s(this.filename())+"$");return e=a.recodePath(e),this._parts.path=this._parts.path.replace(i,e),o?this.normalizePath(t):this.build(!t),this},i.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,o=this.filename(),i=o.lastIndexOf(".");return-1===i?"":(n=o.substring(i+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",e?a.decodePathSegment(r):r)}"."===e.charAt(0)&&(e=e.substring(1));var l,u=this.suffix();if(u)l=e?new RegExp(s(u)+"$"):new RegExp(s("."+u)+"$");else{if(!e)return this;this._parts.path+="."+a.recodePath(e)}return l&&(e=a.recodePath(e),this._parts.path=this._parts.path.replace(l,e)),this.build(!t),this},i.segment=function(e,t,n){var r=this._parts.urn?":":"/",o=this.path(),a="/"===o.substring(0,1),i=o.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(a&&i.shift(),e<0&&(e=Math.max(i.length+e,0)),void 0===t)return void 0===e?i:i[e];if(null===e||void 0===i[e])if(c(t)){i=[];for(var l=0,s=t.length;l<s;l++)(t[l].length||i.length&&i[i.length-1].length)&&(i.length&&!i[i.length-1].length&&i.pop(),i.push(h(t[l])))}else(t||"string"==typeof t)&&(t=h(t),""===i[i.length-1]?i[i.length-1]=t:i.push(t));else t?i[e]=h(t):i.splice(e,1);return a&&i.unshift(""),this.path(i.join(r),n)},i.segmentCoded=function(e,t,n){var r,o,i;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(c(r=this.segment(e,t,n)))for(o=0,i=r.length;o<i;o++)r[o]=a.decode(r[o]);else r=void 0!==r?a.decode(r):void 0;return r}if(c(t))for(o=0,i=t.length;o<i;o++)t[o]=a.encode(t[o]);else t="string"==typeof t||t instanceof String?a.encode(t):t;return this.segment(e,t,n)};var E=i.query;return i.query=function(e,t){if(!0===e)return a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=a.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=a.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):E.call(this,e,t)},i.setQuery=function(e,t,n){var r=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in e)l.call(e,o)&&(r[o]=e[o])}return this._parts.query=a.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},i.addQuery=function(e,t,n){var r=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.addQuery(r,e,void 0===t?null:t),this._parts.query=a.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},i.removeQuery=function(e,t,n){var r=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.removeQuery(r,e,t),this._parts.query=a.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},i.hasQuery=function(e,t,n){var r=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.hasQuery(r,e,t,n)},i.setSearch=i.setQuery,i.addSearch=i.addQuery,i.removeSearch=i.removeQuery,i.hasSearch=i.hasQuery,i.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},i.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},i.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},i.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===a.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},i.normalizePath=function(e){var t,n=this._parts.path;if(!n)return this;if(this._parts.urn)return this._parts.path=a.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var r,o,i="";for("/"!==(n=a.recodePath(n)).charAt(0)&&(t=!0,n="/"+n),"/.."!==n.slice(-3)&&"/."!==n.slice(-2)||(n+="/"),n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(i=n.substring(1).match(/^(\.\.\/)+/)||"")&&(i=i[0]);-1!==(r=n.search(/\/\.\.(\/|$)/));)0!==r?(-1===(o=n.substring(0,r).lastIndexOf("/"))&&(o=r),n=n.substring(0,o)+n.substring(r+3)):n=n.substring(3);return t&&this.is("relative")&&(n=i+n.substring(1)),this._parts.path=n,this.build(!e),this},i.normalizePathname=i.normalizePath,i.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(a.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},i.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},i.normalizeSearch=i.normalizeQuery,i.normalizeHash=i.normalizeFragment,i.iso8859=function(){var e=a.encode,t=a.decode;a.encode=escape,a.decode=decodeURIComponent;try{this.normalize()}finally{a.encode=e,a.decode=t}return this},i.unicode=function(){var e=a.encode,t=a.decode;a.encode=m,a.decode=unescape;try{this.normalize()}finally{a.encode=e,a.decode=t}return this},i.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var r="",o=0,i=t._parts.query.split("&"),l=i.length;o<l;o++){var s=(i[o]||"").split("=");r+="&"+a.decodeQuery(s[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==s[1]&&(r+="="+a.decodeQuery(s[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=a.decodeQuery(t.hash(),!0)},i.absoluteTo=function(e){var t,n,r,o=this.clone(),i=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof a||(e=new a(e)),o._parts.protocol)return o;if(o._parts.protocol=e._parts.protocol,this._parts.hostname)return o;for(n=0;r=i[n];n++)o._parts[r]=e._parts[r];return o._parts.path?(".."===o._parts.path.substring(-2)&&(o._parts.path+="/"),"/"!==o.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),o._parts.path=(t?t+"/":"")+o._parts.path,o.normalizePath())):(o._parts.path=e._parts.path,o._parts.query||(o._parts.query=e._parts.query)),o.build(),o},i.relativeTo=function(e){var t,n,r,o,i,l=this.clone().normalize();if(l._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new a(e).normalize(),t=l._parts,n=e._parts,o=l.path(),i=e.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==i.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return l.build();if(null!==t.protocol||null!==t.username||null!==t.password)return l.build();if(t.hostname!==n.hostname||t.port!==n.port)return l.build();if(t.hostname=null,t.port=null,o===i)return t.path="",l.build();if(!(r=a.commonPath(o,i)))return l.build();var s=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=s+t.path.substring(r.length)||"./",l.build()},i.equals=function(e){var t,n,r,o,i,s=this.clone(),u=new a(e),p={};if(s.normalize(),u.normalize(),s.toString()===u.toString())return!0;if(r=s.query(),o=u.query(),s.query(""),u.query(""),s.toString()!==u.toString())return!1;if(r.length!==o.length)return!1;for(i in t=a.parseQuery(r,this._parts.escapeQuerySpace),n=a.parseQuery(o,this._parts.escapeQuerySpace),t)if(l.call(t,i)){if(c(t[i])){if(!f(t[i],n[i]))return!1}else if(t[i]!==n[i])return!1;p[i]=!0}for(i in n)if(l.call(n,i)&&!p[i])return!1;return!0},i.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},i.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},i.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},a})},276:function(e,t,n){var r=n(374);e.exports=function(e,t){return r(e,t)}},286:function(e,t,n){"use strict";n.r(t),function(e,r){var o,a=n(408);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var i=Object(a.a)(o);t.default=i}.call(this,n(71),n(937)(e))},288:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.unsafe=function(e){return new o(e)},t.isUnsafe=function(e){return e instanceof o};var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.content=t}return r(e,[{key:"toString",value:function(){return this.content}}]),e}()},289:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.split=void 0;var r=a(n(1132)),o=a(n(1133));function a(e){return e&&e.__esModule?e:{default:e}}t.split=o.default,t.default=r.default},35:function(e,t,n){"use strict";var r=n(409),o="object"==typeof self&&self&&self.Object===Object&&self,a=(r.a||o||Function("return this")()).Symbol,i=Object.prototype,l=i.hasOwnProperty,s=i.toString,u=a?a.toStringTag:void 0;var c=function(e){var t=l.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=s.call(e);return r&&(t?e[u]=n:delete e[u]),o},p=Object.prototype.toString;var d=function(e){return p.call(e)},f="[object Null]",h="[object Undefined]",b=a?a.toStringTag:void 0;var m=function(e){return null==e?void 0===e?h:f:b&&b in Object(e)?c(e):d(e)};var g=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var y=function(e){return null!=e&&"object"==typeof e},v="[object Object]",_=Function.prototype,O=Object.prototype,S=_.toString,w=O.hasOwnProperty,C=S.call(Object);var x=function(e){if(!y(e)||m(e)!=v)return!1;var t=g(e);if(null===t)return!0;var n=w.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==C},E=n(286),j={INIT:"@@redux/INIT"};function k(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(k)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,a=t,i=[],l=i,s=!1;function u(){l===i&&(l=i.slice())}function c(){return a}function p(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return u(),l.push(e),function(){if(t){t=!1,u();var n=l.indexOf(e);l.splice(n,1)}}}function d(e){if(!x(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(s)throw new Error("Reducers may not dispatch actions.");try{s=!0,a=o(a,e)}finally{s=!1}for(var t=i=l,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:j.INIT}),(r={dispatch:d,subscribe:p,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,d({type:j.INIT})}})[E.default]=function(){var e,t=p;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[E.default]=function(){return this},e},r}function T(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function P(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var a=Object.keys(n);var i=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:j.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+j.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){i=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(i)throw i;for(var r=!1,o={},l=0;l<a.length;l++){var s=a[l],u=n[s],c=e[s],p=u(c,t);if(void 0===p){var d=T(s,t);throw new Error(d)}o[s]=p,r=r||p!==c}return r?o:e}}function M(e,t){return function(){return t(e.apply(void 0,arguments))}}function R(e,t){if("function"==typeof e)return M(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var a=n[o],i=e[a];"function"==typeof i&&(r[a]=M(i,t))}return r}function A(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function D(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a,i=e(n,r,o),l=i.dispatch,s={getState:i.getState,dispatch:function(e){return l(e)}};return a=t.map(function(e){return e(s)}),l=A.apply(void 0,a)(i.dispatch),I({},i,{dispatch:l})}}}n.d(t,"e",function(){return k}),n.d(t,"c",function(){return P}),n.d(t,"b",function(){return R}),n.d(t,"a",function(){return D}),n.d(t,"d",function(){return A})},367:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(3),s=n.n(l),u=n(33),c=n(215);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m={title:i.a.string,canEdit:i.a.bool,multiLine:i.a.bool,onSaveTitle:i.a.func,noPermitTooltip:i.a.string,showTooltip:i.a.bool,emptyText:i.a.node,style:i.a.object,extraClasses:i.a.oneOfType([i.a.arrayOf(i.a.string),i.a.string])},g={title:Object(u.b)("Title"),canEdit:!1,multiLine:!1,showTooltip:!0,onSaveTitle:function(){},emptyText:"<empty>",style:null,extraClasses:null},y=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=f(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?b(r):a).state={isEditing:!1,title:n.props.title,lastTitle:n.props.title},n.handleClick=n.handleClick.bind(b(b(n))),n.handleBlur=n.handleBlur.bind(b(b(n))),n.handleChange=n.handleChange.bind(b(b(n))),n.handleKeyPress=n.handleKeyPress.bind(b(b(n))),n.contentRef=o.a.createRef(),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){e.title!==this.state.title&&this.setState({lastTitle:this.state.title,title:e.title})}},{key:"handleClick",value:function(){if(this.props.canEdit&&!this.state.isEditing){var e=this.contentRef.current?this.contentRef.current.getBoundingClientRect():null;this.setState({isEditing:!0,contentBoundingRect:e})}}},{key:"handleBlur",value:function(){this.props.canEdit&&(this.setState({isEditing:!1}),this.state.title.length?(this.state.lastTitle!==this.state.title&&this.setState({lastTitle:this.state.title}),this.props.title!==this.state.title&&this.props.onSaveTitle(this.state.title)):this.setState({title:this.state.lastTitle}))}},{key:"handleKeyDown",value:function(e){" "===e.key&&e.stopPropagation()}},{key:"handleChange",value:function(e){this.props.canEdit&&this.setState({title:e.target.value})}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&(e.preventDefault(),this.handleBlur())}},{key:"render",value:function(){var e,t=this.state,n=t.isEditing,r=t.title,a=t.contentBoundingRect,i=this.props,l=i.emptyText,p=i.multiLine,d=i.showTooltip,f=i.canEdit,h=i.noPermitTooltip,b=i.style,m=i.extraClasses;r?e=r:n||(e=l);var g=n&&a?{height:"".concat(a.height,"px")}:null,y=p&&n?o.a.createElement("textarea",{ref:this.contentRef,required:!0,value:e,className:r?null:"text-muted",onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,onClick:this.handleClick,onKeyPress:this.handleKeyPress,style:g}):o.a.createElement("input",{ref:this.contentRef,required:!0,type:n?"text":"button",value:e,className:r?null:"text-muted",onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,onClick:this.handleClick,onKeyPress:this.handleKeyPress});return d&&!n&&(y=o.a.createElement(c.a,{label:"title",tooltip:f?Object(u.b)("click to edit"):h||Object(u.b)("You don't have the rights to alter this title.")},y)),o.a.createElement("span",{className:s()("editable-title",m,f&&"editable-title--editable",n&&"editable-title--editing"),style:b},y)}}])&&d(n.prototype,r),a&&d(n,a),t}();y.propTypes=m,y.defaultProps=g},37:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n(33);function o(e){return!(!e||!isNaN(e))&&Object(r.b)("is expected to be a number")}function a(e){return!(!e||!isNaN(e)&&parseInt(e,10)===+e)&&Object(r.b)("is expected to be an integer")}function i(e){return!!(null==e||""===e||Array.isArray(e)&&0===e.length)&&Object(r.b)("cannot be empty")}},383:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}};var i,l=n(1),s=(i=l)&&i.__esModule?i:{default:i},u=n(288),c=n(219),p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"].Component),o(t,[{key:"render",value:function(){return(0,u.isUnsafe)(this.props.children)?s.default.createElement("th",r({},(0,c.filterPropsFrom)(this.props),{dangerouslySetInnerHTML:{__html:this.props.children.toString()}})):s.default.createElement("th",(0,c.filterPropsFrom)(this.props),this.props.children)}}]),t}();t.Th=p},393:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r=function(){var e=document.getElementById("app");if(!e)return[];var t=JSON.parse(e.getAttribute("data-bootstrap")),n=new Set([location.hostname]);return t&&t.common&&t.common.conf&&t.common.conf.SUPERSET_WEBSERVER_DOMAINS&&t.common.conf.SUPERSET_WEBSERVER_DOMAINS.forEach(function(e){n.add(e)}),Array.from(n)}(),o=r.length>1},403:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),o=n.n(r),a=n(0),i=n.n(a);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){function t(t){var n=t.focusedOption,r=t.focusOption,a=t.key,i=t.option,u=t.selectValue,c=t.style,p=t.valueArray;if(!i)return null;var d=["VirtualizedSelectOption"];i===n&&d.push("VirtualizedSelectFocusedOption"),i.disabled&&d.push("VirtualizedSelectDisabledOption"),p&&p.indexOf(i)>=0&&d.push("VirtualizedSelectSelectedOption"),i.className&&d.push(i.className);var f=i.disabled?{}:{onClick:function(){return u(i)},onMouseEnter:function(){return r(i)}};return o.a.createElement("div",l({className:d.join(" "),key:a,style:s({},i.style||{},c),title:i.title,"data-test":i.optionName},f),e(i))}return t.propTypes={focusedOption:i.a.object.isRequired,focusOption:i.a.func.isRequired,key:i.a.string,option:i.a.object,selectValue:i.a.func.isRequired,style:i.a.object,valueArray:i.a.array},t}},404:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(173);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.Component),n=t,(r=[{key:"onPaste",value:function(e){var t=this;if(this.props.multi){e.preventDefault();var n=e.clipboardData.getData("Text");if(n){var r="[".concat(this.props.separator,"]+"),o=n.split(new RegExp(r)).map(function(e){return e.trim()}),a=this.props.isValidNewOption,i=this.props.value||[],l={},s={};this.props.options.forEach(function(e){l[e[t.props.valueKey]]=1});var u=[];i.forEach(function(e){var n;u.push((c(n={},t.props.labelKey,e),c(n,t.props.valueKey,e),n)),s[e]=1}),(u=u.concat(o.filter(function(e){var n=!s[e];return s[e]=1,n&&(a?a(c({},t.props.labelKey,e)):!!e)}).map(function(e){var n,r=(c(n={},t.props.labelKey,e),c(n,t.props.valueKey,e),n);return l[e]||t.props.options.unshift(r),r}))).length&&this.props.onChange&&this.props.onChange(u)}}}},{key:"render",value:function(){var e=this,t=this.props.selectWrap,n={onPaste:this.onPaste.bind(this)};return o.a.createElement(t,u({},this.props,{ref:function(t){e.props.refFunc&&e.props.refFunc(t),e.pasteInput=t},inputProps:n}))}}])&&p(n.prototype,r),a&&p(n,a),t}();b.propTypes={separator:i.a.string.isRequired,selectWrap:i.a.func.isRequired,refFunc:i.a.func,onChange:i.a.func.isRequired,valueKey:i.a.string.isRequired,labelKey:i.a.string.isRequired,options:i.a.array,multi:i.a.bool.isRequired,value:i.a.any,isValidNewOption:i.a.func},b.defaultProps={separator:",",selectWrap:l.default,valueKey:"value",labelKey:"label",options:[],multi:!1}},408:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},409:function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(71))},410:function(e,t,n){"use strict";var r=n(213),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={};i[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,s=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(d){var f=p(n);f&&f!==d&&e(t,f,r)}var h=s(n);u&&(h=h.concat(u(n)));for(var b=i[t.$$typeof]||o,m=i[n.$$typeof]||o,g=0;g<h.length;++g){var y=h[g];if(!(a[y]||r&&r[y]||m&&m[y]||b&&b[y])){var v=c(n,y);try{l(t,y,v)}catch(e){}}}return t}return t}},411:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var n=r({key:"redux",merge:i.default,slicer:a.default,serialize:JSON.stringify,deserialize:JSON.parse},t),o=n.key,l=n.merge,s=n.slicer,u=n.serialize,c=n.deserialize;return function(t){return function(n,r,a){"function"==typeof r&&void 0===a&&(a=r,r=void 0);var i=void 0,p=void 0;try{i=c(localStorage.getItem(o)),p=l(r,i)}catch(e){console.warn("Failed to retrieve initialize state from localStorage:",e)}var d=t(n,p,a),f=s(e);return d.subscribe(function(){var e=d.getState(),t=f(e);try{localStorage.setItem(o,u(t))}catch(e){console.warn("Unable to persist state to localStorage:",e)}}),d}}};var a=o(n(938)),i=o(n(941));e.exports=t.default},413:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(115),s={title:i.a.string.isRequired,isSelected:i.a.bool.isRequired,onSelect:i.a.func.isRequired,info:i.a.string,children:i.a.node.isRequired};function u(e){var t=e.title,n=e.isSelected,r=e.children,a=e.onSelect,i=e.info;return o.a.createElement("div",{className:"PopoverSection "+(n?"":"dimmed")},o.a.createElement("div",{onClick:a,className:"pointer"},o.a.createElement("strong",null,t)," ",i&&o.a.createElement(l.a,{tooltip:i,label:"date-free-tooltip"}),"",o.a.createElement("i",{className:n?"fa fa-check text-primary":""})),o.a.createElement("div",{className:"m-t-5 m-l-5"},r))}u.propTypes=s},421:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),o=n.n(r),a=n(0),i={type:n.n(a).a.string};function l(e){var t=e.type,n="";"string"!=typeof t?n="?":""===t||"expression"===t?n="":"aggregate"===t?n="AGG":t.match(/.*char.*/i)||t.match(/string.*/i)||t.match(/.*text.*/i)?n="ABC":t.match(/.*int.*/i)||"LONG"===t||"DOUBLE"===t||"FLOAT"===t?n="#":t.match(/.*bool.*/i)?n="T/F":t.match(/.*time.*/i)?n="time":t.match(/unknown/i)&&(n="?");var r="time"===n?o.a.createElement("i",{className:"fa fa-clock-o type-label"}):o.a.createElement("div",{className:"type-label"},n);return o.a.createElement("span",null,r)}l.propTypes=i},44:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return p}),n.d(t,"g",function(){return d}),n.d(t,"c",function(){return f});var r=n(58),o=n.n(r),a=n(61);var i="ADD_TOAST";function l(e){var t,n=e.toastType,r=e.text,a=e.duration,l=void 0===a?8e3:a;return{type:i,payload:{id:(t=n,"".concat(t,"-").concat(o.a.generate())),toastType:n,text:r,duration:l}}}var s="REMOVE_TOAST";function u(e){return{type:s,payload:{id:e}}}function c(e){return function(t){return t(l({text:e,toastType:a.b,duration:4e3}))}}function p(e){return function(t){return t(l({text:e,toastType:a.c,duration:4e3}))}}function d(e){return function(t){return t(l({text:e,toastType:a.d,duration:6e3}))}}function f(e){return function(t){return t(l({text:e,toastType:a.a,duration:8e3}))}}},443:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var r=a(n(1466)),o=a(n(1468));function a(e){return e&&e.__esModule?e:{default:e}}t.default={simpleCheckForValidColor:function(e){var t=0,n=0;return(0,r.default)(["r","g","b","a","h","s","l","v"],function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}}),t===n&&e},toState:function(e,t){var n=e.hex?(0,o.default)(e.hex):(0,o.default)(e),r=n.toHsl(),a=n.toHsv(),i=n.toRgb(),l=n.toHex();return 0===r.s&&(r.h=t||0,a.h=t||0),{hsl:r,hex:"000000"===l&&0===i.a?"transparent":"#"+l,rgb:i,hsv:a,oldHue:e.h||t||r.h,source:e.source}},isValidHex:function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,o.default)(e).isValid()},getContrastingColor:function(e){if(!e)return"#fff";var t=this.toState(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"}};t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},445:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringable=function(e){return null!=e&&typeof("function"===e.toString)}},446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}};var i,l=n(1),s=(i=l)&&i.__esModule?i:{default:i},u=n(383),c=n(1047),p=n(219),d=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"].Component),o(t,[{key:"handleClickTh",value:function(e){this.props.onSort(e.key)}},{key:"handleKeyDownTh",value:function(e,t){13===t.keyCode&&this.props.onSort(e.key)}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.columns.length;t++){var n=this.props.columns[t],o="reactable-th-"+n.key.replace(/\s+/g,"-").toLowerCase(),a="",i=null;this.props.sortableColumns[n.key]&&(a+="reactable-header-sortable ",i="button"),this.props.sort.column===n.key&&(a+="reactable-header-sort",1===this.props.sort.direction?a+="-asc":a+="-desc"),a.length>0&&(o+=" "+a),"object"==typeof n.props&&"string"==typeof n.props.className&&(o+=" "+n.props.className),e.push(s.default.createElement(u.Th,r({},n.props,{className:o,key:t,onClick:this.handleClickTh.bind(this,n),onKeyDown:this.handleKeyDownTh.bind(this,n),role:i,tabIndex:"0"}),n.label))}var l=(0,p.filterPropsFrom)(this.props);return s.default.createElement("thead",l,!0===this.props.filtering?s.default.createElement(c.Filterer,{colSpan:this.props.columns.length,onFilter:this.props.onFilter,placeholder:this.props.filterPlaceholder,value:this.props.currentFilter,className:this.props.filterClassName}):null,s.default.createElement("tr",{className:"reactable-column-header"},e))}}],[{key:"getColumns",value:function(e){var t=[];return s.default.Children.forEach(e.props.children,function(e){var n={};if(e){if(void 0!==e.props&&(n.props=(0,p.filterPropsFrom)(e.props),void 0!==e.props.children&&(n.label=e.props.children,n.key=n.label),"string"==typeof e.props.column&&(n.key=e.props.column,void 0===n.label&&(n.label=n.key))),void 0===n.key)throw new TypeError('<th> must have either a "column" property or a string child');t.push(n)}}),t}}]),t}();t.Thead=d},447:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}};var i,l=n(1),s=(i=l)&&i.__esModule?i:{default:i},u=n(448),c=n(1049),p=n(219),d=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"].Component),o(t,[{key:"render",value:function(){var e=(0,c.toArray)(s.default.Children.children(this.props.children));this.props.data&&this.props.columns&&"function"==typeof this.props.columns.map&&(void 0===e.concat&&console.log(e),e=e.concat(this.props.columns.map(function(e,t){var n=e.props,o=void 0===n?{}:n,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["props"]);if(this.props.data.hasOwnProperty(a.key)){var i=this.props.data[a.key];return null!=i&&!0===i.__reactableMeta&&(o=i.props,i=i.value),s.default.createElement(u.Td,r({column:a,key:a.key},o),i)}return s.default.createElement(u.Td,{column:a,key:a.key})}.bind(this))));var t=(0,p.filterPropsFrom)(this.props);return s.default.createElement("tr",t,e)}}]),t}();t.Tr=d,d.childNode=u.Td,d.dataType="object"},448:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}};var i,l=n(1),s=(i=l)&&i.__esModule?i:{default:i},u=n(1048),c=n(445),p=n(288),d=n(219),f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"].Component),o(t,[{key:"stringifyIfNotReactComponent",value:function(e){return!(0,u.isReactComponent)(e)&&(0,c.stringable)(e)&&void 0!==e?e.toString():null}},{key:"render",value:function(){var e,t=(0,d.filterPropsFrom)(this.props);if("object"==typeof this.props.column)for(var n in this.props.column)"key"!==n&&"name"!==n&&(t[n]=this.props.column[n]);return t.onClick=this.props.handleClick,void 0===this.props.data&&(e=this.stringifyIfNotReactComponent(this.props.children)),(0,p.isUnsafe)(this.props.children)?s.default.createElement("td",r({},t,{dangerouslySetInnerHTML:{__html:this.props.children.toString()}})):s.default.createElement("td",t,e||this.props.children)}}]),t}();t.Td=f},449:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}};var a,i=n(1),l=(a=i)&&a.__esModule?a:{default:a},s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"].Component),r(t,[{key:"render",value:function(){return l.default.createElement("tfoot",this.props)}}]),t}();t.Tfoot=s},45:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return s});n(43);function r(e,t){for(var n=[],r=e;r<=t;r++)n.push([r,r.toString()]);return n}function o(e){return e.map(function(e){return[e,e.toString()]})}function a(e,t){return"".concat(e,"__").concat(t)}function i(e){var t=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function l(e){var t;return e&&e.length>0&&(e.forEach(function(e){"count"===e.metric_name&&(t="count")}),t||(t=e[0].metric_name)),t}function s(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)}},450:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(7)),o=s(n(4)),a=s(n(123)),i=s(n(1125)),l=n(1126);n(212);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=t.maxScrollSize,a=void 0===n?(0,l.getMaxElementSize)():n,s=(0,r.default)(t,["maxScrollSize"]);(0,o.default)(this,e),this._cellSizeAndPositionManager=new i.default(s),this._maxScrollSize=a}return(0,a.default)(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),a=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(a*(o-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,a=e.targetIndex;o=this._safeOffsetToOffset({containerSize:r,offset:o});var i=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:o,targetIndex:a});return this._offsetToSafeOffset({containerSize:r,offset:i})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset,r=e.totalSize;return r<=t?0:n/(r-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var a=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(a*(o-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var a=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(a*(r-t))}}]),e}();t.default=u},61:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return i});var r="INFO_TOAST",o="SUCCESS_TOAST",a="WARNING_TOAST",i="DANGER_TOAST"},62:function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(1),a=n(0),i=n.n(a),l=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),s=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired});var u=function(e){var t;void 0===e&&(e="store");var n=e+"Subscription",a=function(t){r(i,t);var a=i.prototype;function i(n,r){var o;return(o=t.call(this,n,r)||this)[e]=n.store,o}return a.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},a.render=function(){return o.Children.only(this.props.children)},i}(o.Component);return a.propTypes={store:s.isRequired,children:i.a.element.isRequired},a.childContextTypes=((t={})[e]=s.isRequired,t[n]=l,t),a}(),c=n(289);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var f=n(410),h=n.n(f),b=n(46),m=n.n(b),g=n(213),y=null,v={notify:function(){}};var _=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=v}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=y,e=y},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==y&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=v)},e}(),O=0,S={};function w(){}function C(e,t){var n,a;void 0===t&&(t={});var i=t,u=i.getDisplayName,f=void 0===u?function(e){return"ConnectAdvanced("+e+")"}:u,b=i.methodName,y=void 0===b?"connectAdvanced":b,v=i.renderCountProp,C=void 0===v?void 0:v,x=i.shouldHandleStateChanges,E=void 0===x||x,j=i.storeKey,k=void 0===j?"store":j,T=i.withRef,P=void 0!==T&&T,M=d(i,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),R=k+"Subscription",A=O++,I=((n={})[k]=s,n[R]=l,n),D=((a={})[R]=l,a);return function(t){m()(Object(g.isValidElementType)(t),"You must pass a component to the function returned by "+y+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",a=f(n),i=p({},M,{getDisplayName:f,methodName:y,renderCountProp:C,shouldHandleStateChanges:E,storeKey:k,withRef:P,displayName:a,wrappedComponentName:n,WrappedComponent:t}),l=function(n){function l(e,t){var r;return(r=n.call(this,e,t)||this).version=A,r.state={},r.renderCount=0,r.store=e[k]||t[k],r.propsMode=Boolean(e[k]),r.setWrappedInstance=r.setWrappedInstance.bind(Object(c.a)(Object(c.a)(r))),m()(r.store,'Could not find "'+k+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+k+'" as a prop to "'+a+'".'),r.initSelector(),r.initSubscription(),r}r(l,n);var s=l.prototype;return s.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[R]=t||this.context[R],e},s.componentDidMount=function(){E&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},s.componentWillReceiveProps=function(e){this.selector.run(e)},s.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},s.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=w,this.store=null,this.selector.run=w,this.selector.shouldComponentUpdate=!1},s.getWrappedInstance=function(){return m()(P,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+y+"() call."),this.wrappedInstance},s.setWrappedInstance=function(e){this.wrappedInstance=e},s.initSelector=function(){var t=e(this.store.dispatch,i);this.selector=function(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},s.initSubscription=function(){if(E){var e=(this.propsMode?this.props:this.context)[R];this.subscription=new _(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},s.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(S)):this.notifyNestedSubs()},s.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},s.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},s.addExtraProps=function(e){if(!(P||C||this.propsMode&&this.subscription))return e;var t=p({},e);return P&&(t.ref=this.setWrappedInstance),C&&(t[C]=this.renderCount++),this.propsMode&&this.subscription&&(t[R]=this.subscription),t},s.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(o.createElement)(t,this.addExtraProps(e.props))},l}(o.Component);return l.WrappedComponent=t,l.displayName=a,l.childContextTypes=D,l.contextTypes=I,l.propTypes=I,h()(l,t)}}var x=Object.prototype.hasOwnProperty;function E(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function j(e,t){if(E(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!x.call(t,n[o])||!E(e[n[o]],t[n[o]]))return!1;return!0}var k=n(35);function T(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function P(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function M(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=P(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=P(o),o=r(t,n)),o},r}}var R=[function(e){return"function"==typeof e?M(e):void 0},function(e){return e?void 0:T(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?T(function(t){return Object(k.b)(e,t)}):void 0}];var A=[function(e){return"function"==typeof e?M(e):void 0},function(e){return e?void 0:T(function(){return{}})}];function I(e,t,n){return p({},n,e,t)}var D=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,a=n.areMergedPropsEqual,i=!1;return function(t,n,l){var s=e(t,n,l);return i?o&&a(s,r)||(r=s):(i=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return I}}];function N(e,t,n,r){return function(o,a){return n(e(o,a),t(r,a),a)}}function L(e,t,n,r,o){var a,i,l,s,u,c=o.areStatesEqual,p=o.areOwnPropsEqual,d=o.areStatePropsEqual,f=!1;function h(o,f){var h,b,m=!p(f,i),g=!c(o,a);return a=o,i=f,m&&g?(l=e(a,i),t.dependsOnOwnProps&&(s=t(r,i)),u=n(l,s,i)):m?(e.dependsOnOwnProps&&(l=e(a,i)),t.dependsOnOwnProps&&(s=t(r,i)),u=n(l,s,i)):g?(h=e(a,i),b=!d(h,l),l=h,b&&(u=n(l,s,i)),u):u}return function(o,c){return f?h(o,c):(l=e(a=o,i=c),s=t(r,i),u=n(l,s,i),f=!0,u)}}function z(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,a=d(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),i=n(e,a),l=r(e,a),s=o(e,a);return(a.pure?L:N)(i,l,s,e,a)}function F(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function B(e,t){return e===t}var H,q,U,W,G,V,K,Q,Y,$,X,Z,J=(U=(q=void 0===H?{}:H).connectHOC,W=void 0===U?C:U,G=q.mapStateToPropsFactories,V=void 0===G?A:G,K=q.mapDispatchToPropsFactories,Q=void 0===K?R:K,Y=q.mergePropsFactories,$=void 0===Y?D:Y,X=q.selectorFactory,Z=void 0===X?z:X,function(e,t,n,r){void 0===r&&(r={});var o=r,a=o.pure,i=void 0===a||a,l=o.areStatesEqual,s=void 0===l?B:l,u=o.areOwnPropsEqual,c=void 0===u?j:u,f=o.areStatePropsEqual,h=void 0===f?j:f,b=o.areMergedPropsEqual,m=void 0===b?j:b,g=d(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),y=F(e,V,"mapStateToProps"),v=F(t,Q,"mapDispatchToProps"),_=F(n,$,"mergeProps");return W(Z,p({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:y,initMapDispatchToProps:v,initMergeProps:_,pure:i,areStatesEqual:s,areOwnPropsEqual:c,areStatePropsEqual:h,areMergedPropsEqual:m},g))});n.d(t,"a",function(){return u}),n.d(t,"b",function(){return J})},79:function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"l",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"i",function(){return i}),n.d(t,"n",function(){return l}),n.d(t,"m",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"o",function(){return p}),n.d(t,"f",function(){return d}),n.d(t,"k",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return b}),n.d(t,"a",function(){return m}),n.d(t,"j",function(){return g}),n.d(t,"p",function(){return y}),n.d(t,"q",function(){return v});var r="load_chart",o="render_chart",a="mount_dashboard",i="mount_explorer",l="select_dashboard_tab",s="render_chart_container",u="force_refresh_chart",c="change_explore_controls",p="toggle_edit_dashboard",d="force_refresh_dashboard",f="periodic_render_dashboard",h="explore_dashboard_chart",b="export_csv_dashboard_chart",m="change_dashboard_filter",g="omnibar_triggered",y=new Set([r,o]),v=(new Set([a,l,h,u,b,m,c,p,d,g,i,s]),{getTimestamp:function(){return Math.round(window.performance.now())}})},803:function(e,t,n){"use strict";var r=f(n(172)),o=f(n(142)),a=f(n(4)),i=f(n(5)),l=f(n(123)),s=f(n(6)),u=f(n(1)),c=n(9),p=n(1109),d=f(n(1254));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.promptInput=null,n.keyBinds=[],n.state=t.initialState(),n.onHide=n.onHide.bind(n),n.onSubmitPrompt=n.onSubmitPrompt.bind(n),n}return(0,s.default)(t,e),(0,l.default)(t,null,[{key:"setOptions",value:function(e){t.options=(0,o.default)({},t.DEFAULT_OPTIONS,e)}},{key:"resetOptions",value:function(){t.options=t.DEFAULT_OPTIONS}},{key:"initialState",value:function(){return{title:null,body:null,showModal:!1,actions:[],bsSize:void 0,onHide:null,prompt:null}}}]),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){this.state.showModal&&this.hide()}},{key:"show",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};(n.actions||[]).forEach(function(t){t.key&&t.key.split(",").forEach(function(n){r[n]=function(){t.func&&t.func(e)}})}),this.keyBinds=r,n.showModal=!0,this.setState(t.initialState()),this.setState(n)}},{key:"showAlert",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r={body:e,actions:[t.SingleOKAction()],bsSize:n};this.show(r)}},{key:"onHide",value:function(){var e=this.state.onHide;"function"==typeof e?e(this):this.hide()}},{key:"hide",value:function(){this.state.showModal&&this.setState({showModal:!1})}},{key:"onSubmitPrompt",value:function(){var e=this.keyBinds.enter;e&&e()}},{key:"render",value:function(){var e=this,t=void 0===this.state.bsSize?"small":"medium"===this.state.bsSize?null:this.state.bsSize;return u.default.createElement(c.Modal,{show:this.state.showModal,onHide:this.onHide,bsSize:t},this.state.title&&u.default.createElement(c.Modal.Header,null,u.default.createElement(c.Modal.Title,null,this.state.title)),u.default.createElement(c.Modal.Body,null,"string"==typeof this.state.body?u.default.createElement("p",null,this.state.body):this.state.body,this.state.prompt&&u.default.createElement(d.default,{ref:function(t){e.promptInput=t},prompt:this.state.prompt,onSubmit:this.onSubmitPrompt})),u.default.createElement(c.Modal.Footer,null,this.state.actions.map(function(t){return u.default.createElement("button",{key:t.label,type:"button",className:"btn btn-sm "+t.className,onClick:function(){t.func&&t.func(e)},style:{minWidth:82}},t.label)})))}},{key:"value",get:function(){return this.promptInput?this.promptInput.value:null}}]),t}(u.default.Component),b=function(){function e(t,n,r,o){(0,a.default)(this,e),this.label=t||h.options.defaultOkLabel,this._func=n,this.className=r||"btn-default",this.key=o}return(0,l.default)(e,[{key:"func",value:function(e){e.hide(),this._func&&this._func(e)}}]),e}();h.DEFAULT_OPTIONS={defaultOkLabel:"OK",defaultCancelLabel:"Cancel",primaryClassName:"btn-primary"},h.options=h.DEFAULT_OPTIONS,h.Action=function(e,t,n,r){return new b(e,t,n,r)},h.DefaultAction=function(e,t,n){return new b(e,t,n&&n.length>0?n:h.options.primaryClassName,"enter")},h.OKAction=function(e){return new b(h.options.defaultOkLabel,function(t){t.hide(),e&&e(t)},h.options.primaryClassName,"enter")},h.CancelAction=function(e){return new b(h.options.defaultCancelLabel,function(t){t.hide(),e&&e(t)},null,"esc")},h.SingleOKAction=function(){return new b(h.options.defaultOkLabel,function(e){e.hide()},h.options.primaryClassName,"enter,esc")},h.TextPrompt=function(e){return new p.TextPrompt(e)},h.PasswordPrompt=function(e){return new p.PasswordPrompt(e)},h.displayName="Dialog",e.exports=h},82:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(33),i=n(282),l=n(656),s=n(45),u=n(37),c=n(1052),p=n(268),d=n(0),f=n.n(d),h=n(115),b={option:f.a.object.isRequired};function m(e){var t=e.option;return o.a.createElement("span",null,o.a.createElement("span",{className:"m-r-5 option-label"},t.label),t.description&&o.a.createElement(h.a,{className:"m-r-5 text-muted",icon:"question-circle-o",tooltip:t.description,label:"descr-".concat(t.label)}))}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){y(e,t,n[t])})}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m.propTypes=b,n.d(t,"a",function(){return C}),n.d(t,"b",function(){return A});var v=Object(i.a)(),_=Object(l.a)(),O={r:0,g:122,b:135,a:1},S="D3 format syntax: https://github.com/d3/d3-format",w=[[".1s",".1s (12345.432 => 10k)"],[".3s",".3s (12345.432 => 12.3k)"],[",.1%",",.1% (12345.432 => 1,234,543.2%)"],[".3%",".3% (12345.432 => 1234543.200%)"],[".4r",".4r (12345.432 => 12350)"],[",.3f",",.3f (12345.432 => 12,345.432)"],["+,","+, (12345.432 => +12,345.432)"],["$,.2f","$,.2f (12345.432 => $12,345.43)"]],C=[["smart_date","Adaptative formating"],["%d/%m/%Y","%d/%m/%Y | 14/01/2019"],["%m/%d/%Y","%m/%d/%Y | 01/14/2019"],["%Y-%m-%d","%Y-%m-%d | 2019-01-14"],["%Y-%m-%d %H:%M:%S","%Y-%m-%d %H:%M:%S | 2019-01-14 01:32:10"],["%d-%m-%Y %H:%M:%S","%Y-%m-%d %H:%M:%S | 14-01-2019 01:32:10"],["%H:%M:%S","%H:%M:%S | 01:32:10"]],x={verbose_name:"Time",column_name:"__timestamp",description:Object(a.b)("A reference to the [Time] configuration, taking granularity into account")},E=[["alpha_asc","Axis ascending"],["alpha_desc","Axis descending"],["value_asc","sum(value) ascending"],["value_desc","sum(value) descending"]],j={type:"SelectControl",multi:!0,freeForm:!0,label:Object(a.b)("Group by"),default:[],includeTime:!1,description:Object(a.b)("One or many controls to group by"),optionRenderer:function(e){return o.a.createElement(p.a,{column:e,showType:!0})},valueRenderer:function(e){return o.a.createElement(p.a,{column:e})},valueKey:"column_name",allowAll:!0,filterOption:function(e,t){return e.column_name&&e.column_name.toLowerCase().indexOf(t.toLowerCase())>=0||e.verbose_name&&e.verbose_name.toLowerCase().indexOf(t.toLowerCase())>=0},promptTextCreator:function(e){return e},mapStateToProps:function(e,t){var n={};return e.datasource&&(n.options=e.datasource.columns.filter(function(e){return e.groupby}),t&&t.includeTime&&n.options.push(x)),n},commaChoosesOption:!1},k={type:"MetricsControl",multi:!0,label:Object(a.b)("Metrics"),validators:[u.b],default:function(e){var t=Object(s.e)(e.savedMetrics);return t?[t]:null},mapStateToProps:function(e){var t=e.datasource;return{columns:t?t.columns:[],savedMetrics:t?t.metrics:[],datasourceType:t&&t.type}},description:Object(a.b)("One or many metrics to display")},T=g({},k,{multi:!1,label:Object(a.b)("Metric"),default:function(e){return Object(s.e)(e.savedMetrics)}}),P=o.a.createElement("div",null,Object(a.b)("For more information about objects are in context in the scope of this function, refer to the"),o.a.createElement("a",{href:"https://github.com/apache/incubator-superset/blob/master/superset/assets/src/modules/sandbox.js"},Object(a.b)(" source code of Superset's sandboxed parser"),"."),".");function M(e){return e&&e.columns?e.columns.map(function(e){return[e.column_name,e.verbose_name||e.column_name]}).sort(function(e,t){return e[1].toLowerCase()>t[1].toLowerCase()?1:-1}):[]}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"TextAreaControl",language:"javascript",label:e,description:t,height:arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,default:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",aboveEditorSection:o.a.createElement("div",null,o.a.createElement("p",null,t),o.a.createElement("p",null,P),n),mapStateToProps:function(e){return{warning:e.common.conf.ENABLE_JAVASCRIPT_CONTROLS?null:Object(a.b)("This functionality is disabled in your environment for security reasons."),readOnly:!e.common.conf.ENABLE_JAVASCRIPT_CONTROLS}}}}var A={metrics:k,metric:T,datasource:{type:"DatasourceControl",label:Object(a.b)("Datasource"),default:null,description:null,mapStateToProps:function(e,t,n){return{datasource:e.datasource,onDatasourceSave:n?n.setDatasource:function(){}}}},viz_type:{type:"VizTypeControl",label:Object(a.b)("Visualization Type"),default:"table",description:Object(a.b)("The type of visualization to display")},percent_metrics:g({},k,{multi:!0,default:[],label:Object(a.b)("Percentage Metrics"),validators:[],description:Object(a.b)("Metrics for which percentage of total are to be displayed")}),y_axis_bounds:{type:"BoundsControl",label:Object(a.b)("Y Axis Bounds"),renderTrigger:!0,default:[null,null],description:Object(a.b)("Bounds for the Y-axis. When left empty, the bounds are dynamically defined based on the min/max of the data. Note that this feature will only expand the axis range. It won't narrow the data's extent.")},order_by_cols:{type:"SelectControl",multi:!0,label:Object(a.b)("Ordering"),default:[],description:Object(a.b)("One or many metrics to display"),mapStateToProps:function(e){return{choices:e.datasource?e.datasource.order_by_choices:[]}}},color_picker:{label:Object(a.b)("Fixed Color"),description:Object(a.b)("Use this to define a static color for all circles"),type:"ColorPickerControl",default:O,renderTrigger:!0},target_color_picker:{label:Object(a.b)("Target Color"),description:Object(a.b)("Color of the target location"),type:"ColorPickerControl",default:O,renderTrigger:!0},legend_position:{label:Object(a.b)("Legend Position"),description:Object(a.b)("Choose the position of the legend"),type:"SelectControl",clearable:!1,default:"tr",choices:[[null,"None"],["tl","Top left"],["tr","Top right"],["bl","Bottom left"],["br","Bottom right"]],renderTrigger:!0},fill_color_picker:{label:Object(a.b)("Fill Color"),description:Object(a.b)(" Set the opacity to 0 if you do not want to override the color specified in the GeoJSON"),type:"ColorPickerControl",default:O,renderTrigger:!0},stroke_color_picker:{label:Object(a.b)("Stroke Color"),description:Object(a.b)(" Set the opacity to 0 if you do not want to override the color specified in the GeoJSON"),type:"ColorPickerControl",default:O,renderTrigger:!0},metric_2:g({},T,{label:Object(a.b)("Right Axis Metric"),clearable:!0,description:Object(a.b)("Choose a metric for right axis")}),stacked_style:{type:"SelectControl",label:Object(a.b)("Stacked Style"),renderTrigger:!0,choices:[["stack","stack"],["stream","stream"],["expand","expand"]],default:"stack",description:""},sort_x_axis:{type:"SelectControl",label:Object(a.b)("Sort X Axis"),choices:E,clearable:!1,default:"alpha_asc"},sort_y_axis:{type:"SelectControl",label:Object(a.b)("Sort Y Axis"),choices:E,clearable:!1,default:"alpha_asc"},linear_color_scheme:{type:"ColorSchemeControl",label:Object(a.b)("Linear Color Scheme"),choices:function(){return _.values().map(function(e){return[e.id,e.label]})},default:"blue_white_yellow",clearable:!1,description:"",renderTrigger:!0,schemes:function(){return _.getMap()},isLinear:!0},normalize_across:{type:"SelectControl",label:Object(a.b)("Normalize Across"),choices:[["heatmap","heatmap"],["x","x"],["y","y"]],default:"heatmap",description:Object(a.b)("Color will be rendered based on a ratio of the cell against the sum of across this criteria")},horizon_color_scale:{type:"SelectControl",renderTrigger:!0,label:Object(a.b)("Value Domain"),choices:[["series","series"],["overall","overall"],["change","change"]],default:"series",description:Object(a.b)("series: Treat each series independently; overall: All series use the same scale; change: Show changes compared to the first data point in each series")},canvas_image_rendering:{type:"SelectControl",label:Object(a.b)("Rendering"),renderTrigger:!0,choices:[["pixelated","pixelated (Sharp)"],["auto","auto (Smooth)"]],default:"pixelated",description:Object(a.b)("image-rendering CSS attribute of the canvas object that defines how the browser scales up the image")},xscale_interval:{type:"SelectControl",label:Object(a.b)("XScale Interval"),renderTrigger:!0,choices:Object(s.b)(1,50),default:"1",clearable:!1,description:Object(a.b)("Number of steps to take between ticks when displaying the X scale")},yscale_interval:{type:"SelectControl",label:Object(a.b)("YScale Interval"),choices:Object(s.b)(1,50),default:"1",clearable:!1,renderTrigger:!0,description:Object(a.b)("Number of steps to take between ticks when displaying the Y scale")},include_time:{type:"CheckboxControl",label:Object(a.b)("Include Time"),description:Object(a.b)("Whether to include the time granularity as defined in the time section"),default:!1},autozoom:{type:"CheckboxControl",label:Object(a.b)("Auto Zoom"),default:!0,renderTrigger:!0,description:Object(a.b)("When checked, the map will zoom to your data after each query")},show_perc:{type:"CheckboxControl",label:Object(a.b)("Show percentage"),renderTrigger:!0,description:Object(a.b)("Whether to include the percentage in the tooltip"),default:!0},bar_stacked:{type:"CheckboxControl",label:Object(a.b)("Stacked Bars"),renderTrigger:!0,default:!1,description:null},pivot_margins:{type:"CheckboxControl",label:Object(a.b)("Show totals"),renderTrigger:!1,default:!0,description:Object(a.b)("Display total row/column")},show_markers:{type:"CheckboxControl",label:Object(a.b)("Show Markers"),renderTrigger:!0,default:!1,description:Object(a.b)("Show data points as circle markers on the lines")},show_bar_value:{type:"CheckboxControl",label:Object(a.b)("Bar Values"),default:!1,renderTrigger:!0,description:Object(a.b)("Show the value on top of the bar")},order_bars:{type:"CheckboxControl",label:Object(a.b)("Sort Bars"),default:!1,renderTrigger:!0,description:Object(a.b)("Sort bars by x labels.")},combine_metric:{type:"CheckboxControl",label:Object(a.b)("Combine Metrics"),default:!1,description:Object(a.b)("Display metrics side by side within each column, as opposed to each column being displayed side by side for each metric.")},show_controls:{type:"CheckboxControl",label:Object(a.b)("Extra Controls"),renderTrigger:!0,default:!1,description:Object(a.b)("Whether to show extra controls or not. Extra controls include things like making mulitBar charts stacked or side by side.")},reduce_x_ticks:{type:"CheckboxControl",label:Object(a.b)("Reduce X ticks"),renderTrigger:!0,default:!1,description:Object(a.b)("Reduces the number of X-axis ticks to be rendered. If true, the x-axis will not overflow and labels may be missing. If false, a minimum width will be applied to columns and the width may overflow into an horizontal scroll.")},include_series:{type:"CheckboxControl",label:Object(a.b)("Include Series"),renderTrigger:!0,default:!1,description:Object(a.b)("Include series name as an axis")},secondary_metric:g({},T,{label:Object(a.b)("Color Metric"),default:null,validators:[],description:Object(a.b)("A metric to use for color")}),select_country:{type:"SelectControl",label:Object(a.b)("Country Name"),default:"France",choices:["Belgium","Brazil","Bulgaria","China","Egypt","France","Germany","Italy","Japan","Morocco","Myanmar","Netherlands","Portugal","Russia","Singapore","Spain","Thailand","Timorleste","Uk","Ukraine","Usa","Zambia"].map(function(e){return[e,e]}),description:Object(a.b)("The name of the country that Superset should display")},country_fieldtype:{type:"SelectControl",label:Object(a.b)("Country Field Type"),default:"cca2",choices:[["name","Full name"],["cioc","code International Olympic Committee (cioc)"],["cca2","code ISO 3166-1 alpha-2 (cca2)"],["cca3","code ISO 3166-1 alpha-3 (cca3)"]],description:Object(a.b)("The country code standard that Superset should expect to find in the [country] column")},freq:{type:"SelectControl",label:Object(a.b)("Frequency"),default:"W-MON",freeForm:!0,clearable:!1,choices:[["AS","Year (freq=AS)"],["52W-MON","52 weeks starting Monday (freq=52W-MON)"],["W-SUN","1 week starting Sunday (freq=W-SUN)"],["W-MON","1 week starting Monday (freq=W-MON)"],["D","Day (freq=D)"],["4W-MON","4 weeks (freq=4W-MON)"]],description:Object(a.b)('The periodicity over which to pivot time. Users can provide\n      "Pandas" offset alias.\n      Click on the info bubble for more details on accepted "freq" expressions.'),tooltipOnClick:function(){window.open("https://pandas.pydata.org/pandas-docs/stable/timeseries.html#offset-aliases")}},groupby:j,dimension:g({},j,{label:Object(a.b)("Dimension"),description:Object(a.b)("Select a dimension"),multi:!1,default:null}),columns:Object.assign({},j,{label:Object(a.b)("Columns"),description:Object(a.b)("One or many controls to pivot as columns")}),all_columns:{type:"SelectControl",multi:!0,label:Object(a.b)("Columns"),default:[],description:Object(a.b)("Columns to display"),optionRenderer:function(e){return o.a.createElement(p.a,{column:e,showType:!0})},valueRenderer:function(e){return o.a.createElement(p.a,{column:e})},valueKey:"column_name",allowAll:!0,mapStateToProps:function(e){return{options:e.datasource?e.datasource.columns:[]}},commaChoosesOption:!1,freeForm:!0},spatial:{type:"SpatialControl",label:Object(a.b)("Longitude & Latitude"),validators:[u.b],description:Object(a.b)("Point to your spatial columns"),mapStateToProps:function(e){return{choices:M(e.datasource)}}},start_spatial:{type:"SpatialControl",label:Object(a.b)("Start Longitude & Latitude"),validators:[u.b],description:Object(a.b)("Point to your spatial columns"),mapStateToProps:function(e){return{choices:M(e.datasource)}}},end_spatial:{type:"SpatialControl",label:Object(a.b)("End Longitude & Latitude"),validators:[u.b],description:Object(a.b)("Point to your spatial columns"),mapStateToProps:function(e){return{choices:M(e.datasource)}}},longitude:{type:"SelectControl",label:Object(a.b)("Longitude"),default:1,validators:[u.b],description:Object(a.b)("Select the longitude column"),mapStateToProps:function(e){return{choices:M(e.datasource)}}},latitude:{type:"SelectControl",label:Object(a.b)("Latitude"),default:1,validators:[u.b],description:Object(a.b)("Select the latitude column"),mapStateToProps:function(e){return{choices:M(e.datasource)}}},filter_nulls:{type:"CheckboxControl",label:Object(a.b)("Ignore null locations"),default:!0,description:Object(a.b)("Whether to ignore locations that are null")},geojson:{type:"SelectControl",label:Object(a.b)("GeoJson Column"),validators:[u.b],description:Object(a.b)("Select the geojson column"),mapStateToProps:function(e){return{choices:M(e.datasource)}}},polygon:{type:"SelectControl",label:Object(a.b)("Polygon Column"),validators:[u.b],description:Object(a.b)("Select the polygon column. Each row should contain JSON.array(N) of [longitude, latitude] points"),mapStateToProps:function(e){return{choices:M(e.datasource)}}},point_radius_scale:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Point Radius Scale"),validators:[u.a],default:null,choices:Object(s.a)([0,100,200,300,500])},stroke_width:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Stroke Width"),validators:[u.a],default:null,renderTrigger:!0,choices:Object(s.a)([1,2,3,4,5])},all_columns_x:{type:"SelectControl",label:"X",default:null,description:Object(a.b)("Columns to display"),mapStateToProps:function(e){return{choices:M(e.datasource)}}},all_columns_y:{type:"SelectControl",label:"Y",default:null,description:Object(a.b)("Columns to display"),mapStateToProps:function(e){return{choices:M(e.datasource)}}},druid_time_origin:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Origin"),choices:[["","default"],["now","now"]],default:null,description:Object(a.b)("Defines the origin where time buckets start, accepts natural dates as in `now`, `sunday` or `1970-01-01`")},bottom_margin:{type:"SelectControl",clearable:!1,freeForm:!0,label:Object(a.b)("Bottom Margin"),choices:Object(s.a)(["auto",50,75,100,125,150,200]),default:"auto",renderTrigger:!0,description:Object(a.b)("Bottom margin, in pixels, allowing for more room for axis labels")},x_ticks_layout:{type:"SelectControl",label:Object(a.b)("X Tick Layout"),choices:Object(s.a)(["auto","flat","45","staggered"]),default:"auto",clearable:!1,renderTrigger:!0,description:Object(a.b)("The way the ticks are laid out on the X-axis")},left_margin:{type:"SelectControl",freeForm:!0,clearable:!1,label:Object(a.b)("Left Margin"),choices:Object(s.a)(["auto",50,75,100,125,150,200]),default:"auto",renderTrigger:!0,description:Object(a.b)("Left margin, in pixels, allowing for more room for axis labels")},granularity:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Time Granularity"),default:"one day",choices:[[null,"all"],["PT5S","5 seconds"],["PT30S","30 seconds"],["PT1M","1 minute"],["PT5M","5 minutes"],["PT30M","30 minutes"],["PT1H","1 hour"],["PT6H","6 hour"],["P1D","1 day"],["P7D","7 days"],["P1W","week"],["week_starting_sunday","week starting Sunday"],["week_ending_saturday","week ending Saturday"],["P1M","month"],["P3M","quarter"],["P1Y","year"]],description:Object(a.b)("The time granularity for the visualization. Note that you can type and use simple natural language as in `10 seconds`, `1 day` or `56 weeks`")},domain_granularity:{type:"SelectControl",label:Object(a.b)("Domain"),default:"month",choices:Object(s.a)(["hour","day","week","month","year"]),description:Object(a.b)("The time unit used for the grouping of blocks")},subdomain_granularity:{type:"SelectControl",label:Object(a.b)("Subdomain"),default:"day",choices:Object(s.a)(["min","hour","day","week","month"]),description:Object(a.b)("The time unit for each block. Should be a smaller unit than domain_granularity. Should be larger or equal to Time Grain")},link_length:{type:"SelectControl",renderTrigger:!0,freeForm:!0,label:Object(a.b)("Link Length"),default:"200",choices:Object(s.a)(["10","25","50","75","100","150","200","250"]),description:Object(a.b)("Link length in the force layout")},charge:{type:"SelectControl",renderTrigger:!0,freeForm:!0,label:Object(a.b)("Charge"),default:"-500",choices:Object(s.a)(["-50","-75","-100","-150","-200","-250","-500","-1000","-2500","-5000"]),description:Object(a.b)("Charge in the force layout")},granularity_sqla:{type:"SelectControl",label:Object(a.b)("Time Column"),description:Object(a.b)("The time column for the visualization. Note that you can define arbitrary expression that return a DATETIME column in the table. Also note that the filter below is applied against this column or expression"),default:function(e){return e.default},clearable:!1,optionRenderer:function(e){return o.a.createElement(p.a,{column:e,showType:!0})},valueRenderer:function(e){return o.a.createElement(p.a,{column:e})},valueKey:"column_name",mapStateToProps:function(e){var t={};return e.datasource&&(t.options=e.datasource.columns.filter(function(e){return e.is_dttm}),t.default=null,e.datasource.main_dttm_col?t.default=e.datasource.main_dttm_col:t.options&&t.options.length>0&&(t.default=t.options[0].column_name)),t}},time_grain_sqla:{type:"SelectControl",label:Object(a.b)("Time Grain"),default:"P1D",description:Object(a.b)("The time granularity for the visualization. This applies a date transformation to alter your time column and defines a new time granularity. The options here are defined on a per database engine basis in the Superset source code."),mapStateToProps:function(e){return{choices:e.datasource?e.datasource.time_grain_sqla:null}}},resample_rule:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Rule"),default:null,choices:Object(s.a)(["","1T","1H","1D","7D","1M","1AS"]),description:Object(a.b)("Pandas resample rule")},resample_how:{type:"SelectControl",freeForm:!0,label:Object(a.b)("How"),default:null,choices:Object(s.a)(["","mean","sum","median"]),description:Object(a.b)("Pandas resample how")},resample_fillmethod:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Fill Method"),default:null,choices:Object(s.a)(["","ffill","bfill"]),description:Object(a.b)("Pandas resample fill method")},time_range:{type:"DateFilterControl",freeForm:!0,label:Object(a.b)("Time range"),default:Object(a.b)("Last week")},max_bubble_size:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Max Bubble Size"),default:"25",choices:Object(s.a)(["5","10","15","25","50","75","100"])},whisker_options:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Whisker/outlier options"),default:"Tukey",description:Object(a.b)("Determines how whiskers and outliers are calculated."),choices:Object(s.a)(["Tukey","Min/max (no outliers)","2/98 percentiles","9/91 percentiles"])},treemap_ratio:{type:"TextControl",label:Object(a.b)("Ratio"),renderTrigger:!0,isFloat:!0,default:.5*(1+Math.sqrt(5)),description:Object(a.b)("Target aspect ratio for treemap tiles.")},number_format:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Number format"),renderTrigger:!0,default:".3s",choices:w,description:S},row_limit:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Row limit"),validators:[u.a],default:1e4,choices:Object(s.a)([10,50,100,250,500,1e3,5e3,1e4,5e4])},limit:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Series limit"),validators:[u.a],choices:Object(s.a)([0,5,10,25,50,100,500]),description:Object(a.b)("Limits the number of time series that get displayed. A sub query (or an extra phase where sub queries are not supported) is applied to limit the number of time series that get fetched and displayed. This feature is useful when grouping by high cardinality dimension(s).")},timeseries_limit_metric:{type:"MetricsControl",label:Object(a.b)("Sort By"),default:null,description:Object(a.b)("Metric used to define the top series"),mapStateToProps:function(e){return{columns:e.datasource?e.datasource.columns:[],savedMetrics:e.datasource?e.datasource.metrics:[],datasourceType:e.datasource&&e.datasource.type}}},order_desc:{type:"CheckboxControl",label:Object(a.b)("Sort Descending"),default:!0,description:Object(a.b)("Whether to sort descending or ascending")},rolling_type:{type:"SelectControl",label:Object(a.b)("Rolling"),default:"None",choices:Object(s.a)(["None","mean","sum","std","cumsum"]),description:Object(a.b)("Defines a rolling window function to apply, works along with the [Periods] text box")},multiplier:{type:"TextControl",label:Object(a.b)("Multiplier"),isFloat:!0,renderTrigger:!0,default:1,description:Object(a.b)("Factor to multiply the metric by")},rolling_periods:{type:"TextControl",label:Object(a.b)("Periods"),isInt:!0,description:Object(a.b)("Defines the size of the rolling window function, relative to the time granularity selected")},cell_size:{type:"TextControl",isInt:!0,default:10,validators:[u.a],renderTrigger:!0,label:Object(a.b)("Cell Size"),description:Object(a.b)("The size of the square cell, in pixels")},cell_padding:{type:"TextControl",isInt:!0,validators:[u.a],renderTrigger:!0,default:2,label:Object(a.b)("Cell Padding"),description:Object(a.b)("The distance between cells, in pixels")},cell_radius:{type:"TextControl",isInt:!0,validators:[u.a],renderTrigger:!0,default:0,label:Object(a.b)("Cell Radius"),description:Object(a.b)("The pixel radius")},steps:{type:"TextControl",isInt:!0,validators:[u.a],renderTrigger:!0,default:10,label:Object(a.b)("Color Steps"),description:Object(a.b)('The number color "steps"')},grid_size:{type:"TextControl",label:Object(a.b)("Grid Size"),renderTrigger:!0,default:20,isInt:!0,description:Object(a.b)("Defines the grid size in pixels")},min_periods:{type:"TextControl",label:Object(a.b)("Min Periods"),isInt:!0,description:Object(a.b)('The minimum number of rolling periods required to show a value. For instance if you do a cumulative sum on 7 days you may want your "Min Period" to be 7, so that all data points shown are the total of 7 periods. This will hide the "ramp up" taking place over the first 7 periods')},series:g({},j,{label:Object(a.b)("Series"),multi:!1,default:null,description:Object(a.b)("Defines the grouping of entities. Each series is shown as a specific color on the chart and has a legend toggle")}),entity:g({},j,{label:Object(a.b)("Entity"),default:null,multi:!1,validators:[u.b],description:Object(a.b)("This defines the element to be plotted on the chart")}),x:g({},T,{label:Object(a.b)("X Axis"),description:Object(a.b)("Metric assigned to the [X] axis"),default:null}),y:g({},T,{label:Object(a.b)("Y Axis"),default:null,description:Object(a.b)("Metric assigned to the [Y] axis")}),size:g({},T,{label:Object(a.b)("Bubble Size"),default:null}),url:{type:"TextControl",label:Object(a.b)("URL"),description:Object(a.b)("The URL, this control is templated, so you can integrate {{ width }} and/or {{ height }} in your URL string."),default:"https://www.youtube.com/embed/AdSZJzb-aX8"},x_axis_label:{type:"TextControl",label:Object(a.b)("X Axis Label"),renderTrigger:!0,default:""},y_axis_label:{type:"TextControl",label:Object(a.b)("Y Axis Label"),renderTrigger:!0,default:""},compare_lag:{type:"TextControl",label:Object(a.b)("Comparison Period Lag"),isInt:!0,description:Object(a.b)("Based on granularity, number of time periods to compare against")},compare_suffix:{type:"TextControl",label:Object(a.b)("Comparison suffix"),description:Object(a.b)("Suffix to apply after the percentage display")},table_timestamp_format:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Table Timestamp Format"),default:"%Y-%m-%d %H:%M:%S",renderTrigger:!0,validators:[u.b],clearable:!1,choices:C,description:Object(a.b)("Timestamp Format")},series_height:{type:"SelectControl",renderTrigger:!0,freeForm:!0,label:Object(a.b)("Series Height"),default:"25",choices:Object(s.a)(["10","25","40","50","75","100","150","200"]),description:Object(a.b)("Pixel height of each series")},page_length:{type:"SelectControl",freeForm:!0,renderTrigger:!0,label:Object(a.b)("Page Length"),default:0,choices:Object(s.a)([0,10,25,40,50,75,100,150,200]),description:Object(a.b)("Rows per page, 0 means no pagination")},x_axis_format:{type:"SelectControl",freeForm:!0,label:Object(a.b)("X Axis Format"),renderTrigger:!0,default:".3s",choices:w,description:S},x_axis_time_format:{type:"SelectControl",freeForm:!0,label:Object(a.b)("X Axis Format"),renderTrigger:!0,default:"smart_date",choices:C,description:S},y_axis_format:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Y Axis Format"),renderTrigger:!0,default:".3s",choices:w,description:S,mapStateToProps:function(e){var t=e.controls&&e.controls.comparison_type&&"percentage"===e.controls.comparison_type.value;return{warning:t?Object(a.b)('When `Calculation type` is set to "Percentage change", the Y Axis Format is forced to `.1%`'):null,disabled:t}}},y_axis_2_format:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Right Axis Format"),default:".3s",choices:w,description:S},date_time_format:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Date Time Format"),renderTrigger:!0,default:"smart_date",choices:C,description:S},markup_type:{type:"SelectControl",label:Object(a.b)("Markup Type"),clearable:!1,choices:Object(s.a)(["markdown","html"]),default:"markdown",validators:[u.b],description:Object(a.b)("Pick your favorite markup language")},rotation:{type:"SelectControl",label:Object(a.b)("Rotation"),choices:Object(s.a)(["random","flat","square"]),renderTrigger:!0,default:"flat",description:Object(a.b)("Rotation to apply to words in the cloud")},line_interpolation:{type:"SelectControl",label:Object(a.b)("Line Style"),renderTrigger:!0,choices:Object(s.a)(["linear","basis","cardinal","monotone","step-before","step-after"]),default:"linear",description:Object(a.b)("Line interpolation as defined by d3.js")},pie_label_type:{type:"SelectControl",label:Object(a.b)("Label Type"),default:"key",renderTrigger:!0,choices:[["key","Category Name"],["value","Value"],["percent","Percentage"],["key_value","Category and Value"],["key_percent","Category and Percentage"]],description:Object(a.b)("What should be shown on the label?")},code:{type:"TextAreaControl",label:Object(a.b)("Code"),description:Object(a.b)("Put your code here"),mapStateToProps:function(e){return{language:e.controls&&e.controls.markup_type?e.controls.markup_type.value:"markdown"}},default:""},pandas_aggfunc:{type:"SelectControl",label:Object(a.b)("Aggregation function"),clearable:!1,choices:Object(s.a)(["sum","mean","min","max","std","var"]),default:"sum",description:Object(a.b)("Aggregate function to apply when pivoting and computing the total rows and columns")},js_agg_function:{type:"SelectControl",label:Object(a.b)("Dynamic Aggregation Function"),description:Object(a.b)("The function to use when aggregating points into groups"),default:"sum",clearable:!1,renderTrigger:!0,choices:Object(s.a)(["sum","min","max","mean","median","count","variance","deviation","p1","p5","p95","p99"])},size_from:{type:"TextControl",isInt:!0,label:Object(a.b)("Font Size From"),renderTrigger:!0,default:"20",description:Object(a.b)("Font size for the smallest value in the list")},size_to:{type:"TextControl",isInt:!0,label:Object(a.b)("Font Size To"),renderTrigger:!0,default:"150",description:Object(a.b)("Font size for the biggest value in the list")},instant_filtering:{type:"CheckboxControl",label:Object(a.b)("Instant Filtering"),renderTrigger:!0,default:!0,description:"Whether to apply filters as they change, or wait forusers to hit an [Apply] button"},extruded:{type:"CheckboxControl",label:Object(a.b)("Extruded"),renderTrigger:!0,default:!0,description:"Whether to make the grid 3D"},show_brush:{type:"SelectControl",label:Object(a.b)("Show Range Filter"),renderTrigger:!0,clearable:!1,default:"auto",choices:[["yes","Yes"],["no","No"],["auto","Auto"]],description:Object(a.b)("Whether to display the time range interactive selector")},date_filter:{type:"CheckboxControl",label:Object(a.b)("Date Filter"),default:!0,description:Object(a.b)("Whether to include a time filter")},show_sqla_time_granularity:{type:"CheckboxControl",label:Object(a.b)("Show SQL Granularity Dropdown"),default:!1,description:Object(a.b)("Check to include SQL Granularity dropdown")},show_sqla_time_column:{type:"CheckboxControl",label:Object(a.b)("Show SQL Time Column"),default:!1,description:Object(a.b)("Check to include Time Column dropdown")},show_druid_time_granularity:{type:"CheckboxControl",label:Object(a.b)("Show Druid Granularity Dropdown"),default:!1,description:Object(a.b)("Check to include Druid Granularity dropdown")},show_druid_time_origin:{type:"CheckboxControl",label:Object(a.b)("Show Druid Time Origin"),default:!1,description:Object(a.b)("Check to include Time Origin dropdown")},show_datatable:{type:"CheckboxControl",label:Object(a.b)("Data Table"),default:!1,renderTrigger:!0,description:Object(a.b)("Whether to display the interactive data table")},include_search:{type:"CheckboxControl",label:Object(a.b)("Search Box"),renderTrigger:!0,default:!1,description:Object(a.b)("Whether to include a client-side search box")},table_filter:{type:"CheckboxControl",label:Object(a.b)("Emit Filter Events"),renderTrigger:!0,default:!1,description:Object(a.b)("Whether to apply filter when items are clicked")},align_pn:{type:"CheckboxControl",label:Object(a.b)("Align +/-"),renderTrigger:!0,default:!1,description:Object(a.b)("Whether to align the background chart for +/- values")},color_pn:{type:"CheckboxControl",label:Object(a.b)("Color +/-"),renderTrigger:!0,default:!0,description:Object(a.b)("Whether to color +/- values")},show_bubbles:{type:"CheckboxControl",label:Object(a.b)("Show Bubbles"),default:!1,renderTrigger:!0,description:Object(a.b)("Whether to display bubbles on top of countries")},show_legend:{type:"CheckboxControl",label:Object(a.b)("Legend"),renderTrigger:!0,default:!0,description:Object(a.b)("Whether to display the legend (toggles)")},send_time_range:{type:"CheckboxControl",label:Object(a.b)("Propagate"),renderTrigger:!0,default:!1,description:Object(a.b)("Send range filter events to other charts")},toggle_polygons:{type:"CheckboxControl",label:Object(a.b)("Multiple filtering"),renderTrigger:!0,default:!0,description:Object(a.b)("Allow sending multiple polygons as a filter event")},num_buckets:{type:"SelectControl",multi:!1,freeForm:!0,label:Object(a.b)("Number of buckets to group data"),default:5,choices:Object(s.a)([2,3,5,10]),description:Object(a.b)("How many buckets should the data be grouped in."),renderTrigger:!0},break_points:{type:"SelectControl",multi:!0,freeForm:!0,label:Object(a.b)("Bucket break points"),choices:Object(s.a)([]),description:Object(a.b)("List of n+1 values for bucketing metric into n buckets."),renderTrigger:!0},show_labels:{type:"CheckboxControl",label:Object(a.b)("Show Labels"),renderTrigger:!0,default:!0,description:Object(a.b)("Whether to display the labels. Note that the label only displays when the the 5% threshold.")},show_values:{type:"CheckboxControl",label:Object(a.b)("Show Values"),renderTrigger:!0,default:!1,description:Object(a.b)("Whether to display the numerical values within the cells")},show_metric_name:{type:"CheckboxControl",label:Object(a.b)("Show Metric Names"),renderTrigger:!0,default:!0,description:Object(a.b)("Whether to display the metric name as a title")},show_trend_line:{type:"CheckboxControl",label:Object(a.b)("Show Trend Line"),renderTrigger:!0,default:!0,description:Object(a.b)("Whether to display the trend line")},start_y_axis_at_zero:{type:"CheckboxControl",label:Object(a.b)("Start y-axis at 0"),renderTrigger:!0,default:!0,description:Object(a.b)("Start y-axis at zero. Uncheck to start y-axis at minimum value in the data.")},x_axis_showminmax:{type:"CheckboxControl",label:Object(a.b)("X bounds"),renderTrigger:!0,default:!1,description:Object(a.b)("Whether to display the min and max values of the X-axis")},y_axis_showminmax:{type:"CheckboxControl",label:Object(a.b)("Y bounds"),renderTrigger:!0,default:!1,description:Object(a.b)("Whether to display the min and max values of the Y-axis")},rich_tooltip:{type:"CheckboxControl",label:Object(a.b)("Rich Tooltip"),renderTrigger:!0,default:!0,description:Object(a.b)("The rich tooltip shows a list of all series for that point in time")},y_log_scale:{type:"CheckboxControl",label:Object(a.b)("Y Log Scale"),default:!1,renderTrigger:!0,description:Object(a.b)("Use a log scale for the Y-axis")},x_log_scale:{type:"CheckboxControl",label:Object(a.b)("X Log Scale"),default:!1,renderTrigger:!0,description:Object(a.b)("Use a log scale for the X-axis")},log_scale:{type:"CheckboxControl",label:Object(a.b)("Log Scale"),default:!1,renderTrigger:!0,description:Object(a.b)("Use a log scale")},donut:{type:"CheckboxControl",label:Object(a.b)("Donut"),default:!1,renderTrigger:!0,description:Object(a.b)("Do you want a donut or a pie?")},labels_outside:{type:"CheckboxControl",label:Object(a.b)("Put labels outside"),default:!0,renderTrigger:!0,description:Object(a.b)("Put the labels outside the pie?")},contribution:{type:"CheckboxControl",label:Object(a.b)("Contribution"),default:!1,description:Object(a.b)("Compute the contribution to the total")},time_compare:{type:"SelectControl",multi:!0,freeForm:!0,label:Object(a.b)("Time Shift"),choices:Object(s.a)(["1 day","1 week","28 days","30 days","52 weeks","1 year"]),description:Object(a.b)("Overlay one or more timeseries from a relative time period. Expects relative time deltas in natural language (example:  24 hours, 7 days, 56 weeks, 365 days)")},comparison_type:{type:"SelectControl",label:Object(a.b)("Calculation type"),default:"values",choices:[["values","Actual Values"],["absolute","Absolute difference"],["percentage","Percentage change"],["ratio","Ratio"]],description:Object(a.b)("How to display time shifts: as individual lines; as the absolute difference between the main time series and each time shift; as the percentage change; or as the ratio between series and time shifts.")},subheader:{type:"TextControl",label:Object(a.b)("Subheader"),description:Object(a.b)("Description text that shows up below your Big Number")},mapbox_label:{type:"SelectControl",multi:!0,label:Object(a.b)("label"),default:[],description:Object(a.b)("`count` is COUNT(*) if a group by is used. Numerical columns will be aggregated with the aggregator. Non-numerical columns will be used to label points. Leave empty to get a count of points in each cluster."),mapStateToProps:function(e){return{choices:M(e.datasource)}}},mapbox_style:{type:"SelectControl",label:Object(a.b)("Map Style"),clearable:!1,renderTrigger:!0,choices:[["mapbox://styles/mapbox/streets-v9","Streets"],["mapbox://styles/mapbox/dark-v9","Dark"],["mapbox://styles/mapbox/light-v9","Light"],["mapbox://styles/mapbox/satellite-streets-v9","Satellite Streets"],["mapbox://styles/mapbox/satellite-v9","Satellite"],["mapbox://styles/mapbox/outdoors-v9","Outdoors"]],default:"mapbox://styles/mapbox/light-v9",description:Object(a.b)("Base layer map style")},clustering_radius:{type:"SelectControl",freeForm:!0,label:Object(a.b)("Clustering Radius"),default:"60",choices:Object(s.a)(["0","20","40","60","80","100","200","500","1000"]),description:Object(a.b)("The radius (in pixels) the algorithm uses to define a cluster. Choose 0 to turn off clustering, but beware that a large number of points (>1000) will cause lag.")},point_radius_fixed:{type:"FixedOrMetricControl",label:Object(a.b)("Point Size"),default:{type:"fix",value:1e3},description:Object(a.b)("Fixed point radius"),mapStateToProps:function(e){return{datasource:e.datasource}}},point_radius:{type:"SelectControl",label:Object(a.b)("Point Radius"),default:"Auto",description:Object(a.b)("The radius of individual points (ones that are not in a cluster). Either a numerical column or `Auto`, which scales the point based on the largest cluster"),mapStateToProps:function(e){return{choices:M(e.datasource)}}},point_radius_unit:{type:"SelectControl",label:Object(a.b)("Point Radius Unit"),default:"Pixels",choices:Object(s.a)(["Pixels","Miles","Kilometers"]),description:Object(a.b)("The unit of measure for the specified point radius")},point_unit:{type:"SelectControl",label:Object(a.b)("Point Unit"),default:"square_m",clearable:!1,choices:[["square_m","Square meters"],["square_km","Square kilometers"],["square_miles","Square miles"],["radius_m","Radius in meters"],["radius_km","Radius in kilometers"],["radius_miles","Radius in miles"]],description:Object(a.b)("The unit of measure for the specified point radius")},global_opacity:{type:"TextControl",label:Object(a.b)("Opacity"),default:1,isFloat:!0,description:Object(a.b)("Opacity of all clusters, points, and labels. Between 0 and 1.")},opacity:{type:"SliderControl",label:Object(a.b)("Opacity"),default:80,step:1,min:0,max:100,renderTrigger:!0,description:Object(a.b)("Opacity, expects values between 0 and 100")},viewport:{type:"ViewportControl",label:Object(a.b)("Viewport"),renderTrigger:!1,description:Object(a.b)("Parameters related to the view and perspective on the map"),default:c.a,dontRefreshOnChange:!0},viewport_zoom:{type:"TextControl",label:Object(a.b)("Zoom"),renderTrigger:!0,isFloat:!0,default:11,description:Object(a.b)("Zoom level of the map"),places:8,dontRefreshOnChange:!0},viewport_latitude:{type:"TextControl",label:Object(a.b)("Default latitude"),renderTrigger:!0,default:37.772123,isFloat:!0,description:Object(a.b)("Latitude of default viewport"),places:8,dontRefreshOnChange:!0},viewport_longitude:{type:"TextControl",label:Object(a.b)("Default longitude"),renderTrigger:!0,default:-122.405293,isFloat:!0,description:Object(a.b)("Longitude of default viewport"),places:8,dontRefreshOnChange:!0},render_while_dragging:{type:"CheckboxControl",label:Object(a.b)("Live render"),default:!0,description:Object(a.b)("Points and clusters will update as the viewport is being changed")},mapbox_color:{type:"SelectControl",freeForm:!0,label:Object(a.b)("RGB Color"),default:"rgb(0, 122, 135)",choices:[["rgb(0, 139, 139)","Dark Cyan"],["rgb(128, 0, 128)","Purple"],["rgb(255, 215, 0)","Gold"],["rgb(69, 69, 69)","Dim Gray"],["rgb(220, 20, 60)","Crimson"],["rgb(34, 139, 34)","Forest Green"]],description:Object(a.b)("The color for points and clusters in RGB")},color:{type:"ColorPickerControl",label:Object(a.b)("Color"),default:O,description:Object(a.b)("Pick a color")},ranges:{type:"TextControl",label:Object(a.b)("Ranges"),default:"",description:Object(a.b)("Ranges to highlight with shading")},range_labels:{type:"TextControl",label:Object(a.b)("Range labels"),default:"",description:Object(a.b)("Labels for the ranges")},markers:{type:"TextControl",label:Object(a.b)("Markers"),default:"",description:Object(a.b)("List of values to mark with triangles")},marker_labels:{type:"TextControl",label:Object(a.b)("Marker labels"),default:"",description:Object(a.b)("Labels for the markers")},marker_lines:{type:"TextControl",label:Object(a.b)("Marker lines"),default:"",description:Object(a.b)("List of values to mark with lines")},marker_line_labels:{type:"TextControl",label:Object(a.b)("Marker line labels"),default:"",description:Object(a.b)("Labels for the marker lines")},annotation_layers:{type:"AnnotationLayerControl",label:"",default:[],description:"Annotation Layers",renderTrigger:!0,tabOverride:"data"},adhoc_filters:{type:"AdhocFilterControl",label:Object(a.b)("Filters"),default:null,description:"",mapStateToProps:function(e){return{columns:e.datasource?e.datasource.columns.filter(function(e){return e.filterable}):[],savedMetrics:e.datasource?e.datasource.metrics:[],datasource:e.datasource}},provideFormDataToProps:!0},filters:{type:"FilterPanel"},slice_id:{type:"HiddenControl",label:Object(a.b)("Chart ID"),hidden:!0,description:Object(a.b)("The id of the active chart")},cache_timeout:{type:"HiddenControl",label:Object(a.b)("Cache Timeout (seconds)"),hidden:!0,description:Object(a.b)("The number of seconds before expiring the cache")},url_params:{type:"HiddenControl",label:Object(a.b)("URL Parameters"),hidden:!0,description:Object(a.b)("Extra parameters for use in jinja templated queries")},order_by_entity:{type:"CheckboxControl",label:Object(a.b)("Order by entity id"),description:Object(a.b)("Important! Select this if the table is not already sorted by entity id, else there is no guarantee that all events for each entity are returned."),default:!0},min_leaf_node_event_count:{type:"SelectControl",freeForm:!1,label:Object(a.b)("Minimum leaf node event count"),default:1,choices:Object(s.b)(1,10),description:Object(a.b)("Leaf nodes that represent fewer than this number of events will be initially hidden in the visualization")},color_scheme:{type:"ColorSchemeControl",label:Object(a.b)("Color Scheme"),default:"bnbColors",renderTrigger:!0,choices:function(){return v.keys().map(function(e){return[e,e]})},description:Object(a.b)("The color scheme for rendering chart"),schemes:function(){return v.getMap()}},significance_level:{type:"TextControl",label:Object(a.b)("Significance Level"),default:.05,description:Object(a.b)("Threshold alpha level for determining significance")},pvalue_precision:{type:"TextControl",label:Object(a.b)("p-value precision"),default:6,description:Object(a.b)("Number of decimal places with which to display p-values")},liftvalue_precision:{type:"TextControl",label:Object(a.b)("Lift percent precision"),default:4,description:Object(a.b)("Number of decimal places with which to display lift values")},column_collection:{type:"CollectionControl",label:Object(a.b)("Time Series Columns"),validators:[u.b],controlName:"TimeSeriesColumnControl"},rose_area_proportion:{type:"CheckboxControl",label:Object(a.b)("Use Area Proportions"),description:Object(a.b)("Check if the Rose Chart should use segment area instead of segment radius for proportioning"),default:!1,renderTrigger:!0},time_series_option:{type:"SelectControl",label:Object(a.b)("Options"),validators:[u.b],default:"not_time",valueKey:"value",options:[{label:Object(a.b)("Not Time Series"),value:"not_time",description:Object(a.b)("Ignore time")},{label:Object(a.b)("Time Series"),value:"time_series",description:Object(a.b)("Standard time series")},{label:Object(a.b)("Aggregate Mean"),value:"agg_mean",description:Object(a.b)("Mean of values over specified period")},{label:Object(a.b)("Aggregate Sum"),value:"agg_sum",description:Object(a.b)("Sum of values over specified period")},{label:Object(a.b)("Difference"),value:"point_diff",description:Object(a.b)("Metric change in value from `since` to `until`")},{label:Object(a.b)("Percent Change"),value:"point_percent",description:Object(a.b)("Metric percent change in value from `since` to `until`")},{label:Object(a.b)("Factor"),value:"point_factor",description:Object(a.b)("Metric factor change from `since` to `until`")},{label:Object(a.b)("Advanced Analytics"),value:"adv_anal",description:Object(a.b)("Use the Advanced Analytics options below")}],optionRenderer:function(e){return o.a.createElement(m,{option:e})},valueRenderer:function(e){return o.a.createElement(m,{option:e})},description:Object(a.b)("Settings for time series")},equal_date_size:{type:"CheckboxControl",label:Object(a.b)("Equal Date Sizes"),default:!0,renderTrigger:!0,description:Object(a.b)("Check to force date partitions to have the same height")},partition_limit:{type:"TextControl",label:Object(a.b)("Partition Limit"),isInt:!0,default:"5",description:Object(a.b)("The maximum number of subdivisions of each group; lower values are pruned first")},min_radius:{type:"TextControl",label:Object(a.b)("Minimum Radius"),isFloat:!0,validators:[u.b],renderTrigger:!0,default:2,description:Object(a.b)("Minimum radius size of the circle, in pixels. As the zoom level changes, this insures that the circle respects this minimum radius.")},max_radius:{type:"TextControl",label:Object(a.b)("Maximum Radius"),isFloat:!0,validators:[u.b],renderTrigger:!0,default:250,description:Object(a.b)("Maxium radius size of the circle, in pixels. As the zoom level changes, this insures that the circle respects this maximum radius.")},partition_threshold:{type:"TextControl",label:Object(a.b)("Partition Threshold"),isFloat:!0,default:"0.05",description:Object(a.b)("Partitions whose height to parent height proportions are below this value are pruned")},line_column:{type:"SelectControl",label:Object(a.b)("Lines column"),default:null,description:Object(a.b)("The database columns that contains lines information"),mapStateToProps:function(e){return{choices:M(e.datasource)}},validators:[u.b]},line_type:{type:"SelectControl",label:Object(a.b)("Lines encoding"),clearable:!1,default:"json",description:Object(a.b)("The encoding format of the lines"),choices:[["polyline","Polyline"],["json","JSON"],["geohash","geohash (square)"]]},line_width:{type:"TextControl",label:Object(a.b)("Line width"),renderTrigger:!0,isInt:!0,default:10,description:Object(a.b)("The width of the lines")},line_charts:{type:"SelectAsyncControl",multi:!0,label:Object(a.b)("Line charts"),validators:[u.b],default:[],description:Object(a.b)("Pick a set of line charts to layer on top of one another"),dataEndpoint:"/sliceasync/api/read?_flt_0_viz_type=line&_flt_7_viz_type=line_multi",placeholder:Object(a.b)("Select charts"),onAsyncErrorMessage:Object(a.b)("Error while fetching charts"),mutator:function(e){return e&&e.result?e.result.map(function(e){return{value:e.id,label:e.slice_name}}):[]}},line_charts_2:{type:"SelectAsyncControl",multi:!0,label:Object(a.b)("Right Axis chart(s)"),validators:[],default:[],description:Object(a.b)("Choose one or more charts for right axis"),dataEndpoint:"/sliceasync/api/read?_flt_0_viz_type=line&_flt_7_viz_type=line_multi",placeholder:Object(a.b)("Select charts"),onAsyncErrorMessage:Object(a.b)("Error while fetching charts"),mutator:function(e){return e&&e.result?e.result.map(function(e){return{value:e.id,label:e.slice_name}}):[]}},prefix_metric_with_slice_name:{type:"CheckboxControl",label:Object(a.b)("Prefix metric name with slice name"),default:!1,renderTrigger:!0},reverse_long_lat:{type:"CheckboxControl",label:Object(a.b)("Reverse Lat & Long"),default:!1},deck_slices:{type:"SelectAsyncControl",multi:!0,label:Object(a.b)("deck.gl charts"),validators:[u.b],default:[],description:Object(a.b)("Pick a set of deck.gl charts to layer on top of one another"),dataEndpoint:"/sliceasync/api/read?_flt_0_viz_type=deck_&_flt_7_viz_type=deck_multi",placeholder:Object(a.b)("Select charts"),onAsyncErrorMessage:Object(a.b)("Error while fetching charts"),mutator:function(e){return e&&e.result?e.result.map(function(e){return{value:e.id,label:e.slice_name}}):[]}},js_data_mutator:R(Object(a.b)("Javascript data interceptor"),Object(a.b)("Define a javascript function that receives the data array used in the visualization and is expected to return a modified version of that array. This can be used to alter properties of the data, filter, or enrich the array.")),js_data:R(Object(a.b)("Javascript data mutator"),Object(a.b)("Define a function that receives intercepts the data objects and can mutate it")),js_tooltip:R(Object(a.b)("Javascript tooltip generator"),Object(a.b)("Define a function that receives the input and outputs the content for a tooltip")),js_onclick_href:R(Object(a.b)("Javascript onClick href"),Object(a.b)("Define a function that returns a URL to navigate to when user clicks")),js_columns:g({},j,{label:Object(a.b)("Extra data for JS"),default:[],description:Object(a.b)("List of extra columns made available in Javascript functions")}),stroked:{type:"CheckboxControl",label:Object(a.b)("Stroked"),renderTrigger:!0,description:Object(a.b)("Whether to display the stroke"),default:!1},filled:{type:"CheckboxControl",label:Object(a.b)("Filled"),renderTrigger:!0,description:Object(a.b)("Whether to fill the objects"),default:!0},filter_configs:{type:"CollectionControl",label:"Filters",description:Object(a.b)("Filter configuration for the filter box"),validators:[u.b],controlName:"FilterBoxItemControl",mapStateToProps:function(e){return{datasource:e.datasource}}},normalized:{type:"CheckboxControl",label:Object(a.b)("Normalized"),renderTrigger:!0,description:Object(a.b)("Whether to normalize the histogram"),default:!1}};t.c=A},934:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(173),s=n(33),u=n(144),c=n(83);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g={dataEndpoint:i.a.string.isRequired,onChange:i.a.func.isRequired,mutator:i.a.func.isRequired,onAsyncError:i.a.func,value:i.a.oneOfType([i.a.number,i.a.arrayOf(i.a.number)]),valueRenderer:i.a.func,placeholder:i.a.string,autoSelect:i.a.bool},y={placeholder:Object(s.b)("Select ..."),onAsyncError:function(){}},v=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=h(t).call(this,e))||"object"!==p(o)&&"function"!=typeof o?m(r):o).state={isLoading:!1,options:[]},n.onChange=n.onChange.bind(m(m(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){this.fetchOptions()}},{key:"onChange",value:function(e){this.props.onChange(e)}},{key:"fetchOptions",value:function(){var e=this;this.setState({isLoading:!0});var t=this.props,n=t.mutator,r=t.dataEndpoint;return u.a.get({endpoint:r}).then(function(t){var r=t.json,o=n?n(r):r;e.setState({options:o,isLoading:!1}),!e.props.value&&e.props.autoSelect&&o.length>0&&e.onChange(o[0])}).catch(function(t){return Object(c.a)(t).then(function(t){e.props.onAsyncError(t.error||t.statusText||t),e.setState({isLoading:!1})})})}},{key:"render",value:function(){return o.a.createElement(l.default,d({placeholder:this.props.placeholder,options:this.state.options,value:this.props.value,isLoading:this.state.isLoading,onChange:this.onChange,valueRenderer:this.props.valueRenderer},this.props))}}])&&f(n.prototype,r),a&&f(n,a),t}();v.propTypes=g,v.defaultProps=y,t.a=v},937:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},938:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch((0,a.default)(e)){case"void":return function(e){return e};case"string":return function(t){return(0,o.default)(t,[e])};case"array":return function(t){return(0,o.default)(t,e)};default:return console.error("Invalid paths argument, should be of type String, Array or Void")}};var o=r(n(939)),a=r(n(940));e.exports=t.default},939:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={};return t.forEach(function(t){var r=e[t];r&&(n[t]=r)}),n},e.exports=t.default},94:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"i",function(){return b}),n.d(t,"g",function(){return m}),n.d(t,"a",function(){return g}),n.d(t,"h",function(){return y}),n.d(t,"e",function(){return v}),n.d(t,"f",function(){return _});var r=n(276),o=n.n(r),a=n(58),i=n.n(a),l=n(35),s=n(411),u=n.n(s);function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n){var r=Object.assign({},e[t]),o=Object.assign({},n);return o.id||(o.id=i.a.generate()),r[o.id]=o,Object.assign({},e,p({},t,r))}function f(e,t,n,r){var o=Object.assign({},e[t]);return o[n.id]=Object.assign({},o[n.id],r),Object.assign({},e,p({},t,o))}function h(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"id",a=[];return e[t].forEach(function(e){n[o]===e[o]?a.push(Object.assign({},e,r)):a.push(e)}),Object.assign({},e,p({},t,a))}function b(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",o=[];return e[t].forEach(function(e){n[r]!==e[r]&&o.push(e)}),Object.assign({},e,p({},t,o))}function m(e,t){var n;return e.forEach(function(e){e.id===t&&(n=e)}),n}function g(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Object.assign({},n);o.id||(o.id=i.a.generate());var a={};return a[t]=r?[o].concat(c(e[t])):[].concat(c(e[t]),[o]),Object.assign({},e,a)}function y(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.paths,r=t.config,o=l.d;return e?o(u()(n,r)):o()}function v(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=e.length,r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function _(e,t){return o()(e,t)}},940:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return"void";if(r(e))return e.length?"array":"void";return typeof e};var r=Array.isArray||(Array.isArray=function(e){return""+e!==e&&"[object Array]"==={}.toString.call(e)});e.exports=t.default},941:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return t?r({},e,t):e},e.exports=t.default},946:function(e,t,n){(function(e,r){var o;!function(a){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof r&&r;i.global!==i&&i.window!==i&&i.self;var l,s=2147483647,u=36,c=1,p=26,d=38,f=700,h=72,b=128,m="-",g=/^xn--/,y=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=u-c,S=Math.floor,w=String.fromCharCode;function C(e){throw new RangeError(_[e])}function x(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function E(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+x((e=e.replace(v,".")).split("."),t).join(".")}function j(e){for(var t,n,r=[],o=0,a=e.length;o<a;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<a?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function k(e){return x(e,function(e){var t="";return e>65535&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=w(e)}).join("")}function T(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,n){var r=0;for(e=n?S(e/f):e>>1,e+=S(e/t);e>O*p>>1;r+=u)e=S(e/O);return S(r+(O+1)*e/(e+d))}function M(e){var t,n,r,o,a,i,l,d,f,g,y,v=[],_=e.length,O=0,w=b,x=h;for((n=e.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&C("not-basic"),v.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<_;){for(a=O,i=1,l=u;o>=_&&C("invalid-input"),((d=(y=e.charCodeAt(o++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||d>S((s-O)/i))&&C("overflow"),O+=d*i,!(d<(f=l<=x?c:l>=x+p?p:l-x));l+=u)i>S(s/(g=u-f))&&C("overflow"),i*=g;x=P(O-a,t=v.length+1,0==a),S(O/t)>s-w&&C("overflow"),w+=S(O/t),O%=t,v.splice(O++,0,w)}return k(v)}function R(e){var t,n,r,o,a,i,l,d,f,g,y,v,_,O,x,E=[];for(v=(e=j(e)).length,t=b,n=0,a=h,i=0;i<v;++i)(y=e[i])<128&&E.push(w(y));for(r=o=E.length,o&&E.push(m);r<v;){for(l=s,i=0;i<v;++i)(y=e[i])>=t&&y<l&&(l=y);for(l-t>S((s-n)/(_=r+1))&&C("overflow"),n+=(l-t)*_,t=l,i=0;i<v;++i)if((y=e[i])<t&&++n>s&&C("overflow"),y==t){for(d=n,f=u;!(d<(g=f<=a?c:f>=a+p?p:f-a));f+=u)x=d-g,O=u-g,E.push(w(T(g+x%O,0))),d=S(x/O);E.push(w(T(d,0))),a=P(n,_,r==o),n=0,++r}++n,++t}return E.join("")}l={version:"1.3.2",ucs2:{decode:j,encode:k},decode:M,encode:R,toASCII:function(e){return E(e,function(e){return y.test(e)?"xn--"+R(e):e})},toUnicode:function(e){return E(e,function(e){return g.test(e)?M(e.slice(4).toLowerCase()):e})}},void 0===(o=function(){return l}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(176)(e),n(71))},947:function(e,t,n){var r,o;!function(a,i){"use strict";e.exports?e.exports=i():void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o)}(0,function(e){"use strict";var t=e&&e.IPv6;return{best:function(e){var t,n,r=e.toLowerCase().split(":"),o=r.length,a=8;for(""===r[0]&&""===r[1]&&""===r[2]?(r.shift(),r.shift()):""===r[0]&&""===r[1]?r.shift():""===r[o-1]&&""===r[o-2]&&r.pop(),-1!==r[(o=r.length)-1].indexOf(".")&&(a=7),t=0;t<o&&""!==r[t];t++);if(t<a)for(r.splice(t,1,"0000");r.length<a;)r.splice(t,0,"0000");for(var i=0;i<a;i++){n=r[i].split("");for(var l=0;l<3&&"0"===n[0]&&n.length>1;l++)n.splice(0,1);r[i]=n.join("")}var s=-1,u=0,c=0,p=-1,d=!1;for(i=0;i<a;i++)d?"0"===r[i]?c+=1:(d=!1,c>u&&(s=p,u=c)):"0"===r[i]&&(d=!0,p=i,c=1);c>u&&(s=p,u=c),u>1&&r.splice(s,u,""),o=r.length;var f="";for(""===r[0]&&(f=":"),i=0;i<o&&(f+=r[i],i!==o-1);i++)f+=":";return""===r[o-1]&&(f+=":"),f},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}})},948:function(e,t,n){var r,o;!function(a,i){"use strict";e.exports?e.exports=i():void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o)}(0,function(e){"use strict";var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return!1;var o=n.list[e.slice(t+1)];return!!o&&o.indexOf(" "+e.slice(r+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var r=n.list[e.slice(t+1)];return!!r&&r.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return null;var o=n.list[e.slice(t+1)];return o?o.indexOf(" "+e.slice(r+1,t)+" ")<0?null:e.slice(r+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n})},949:function(e,t,n){var r=n(452),o=n(1093),a=n(1429),i=n(99);e.exports=function(e,t){return(i(e)?r:a)(e,o(t,3))}},95:function(e,t,n){"use strict";n.r(t),n.d(t,"CHART_UPDATE_STARTED",function(){return b}),n.d(t,"chartUpdateStarted",function(){return m}),n.d(t,"CHART_UPDATE_SUCCEEDED",function(){return g}),n.d(t,"chartUpdateSucceeded",function(){return y}),n.d(t,"CHART_UPDATE_STOPPED",function(){return v}),n.d(t,"chartUpdateStopped",function(){return _}),n.d(t,"CHART_UPDATE_TIMEOUT",function(){return O}),n.d(t,"chartUpdateTimeout",function(){return S}),n.d(t,"CHART_UPDATE_FAILED",function(){return w}),n.d(t,"chartUpdateFailed",function(){return C}),n.d(t,"CHART_RENDERING_FAILED",function(){return x}),n.d(t,"chartRenderingFailed",function(){return E}),n.d(t,"CHART_RENDERING_SUCCEEDED",function(){return j}),n.d(t,"chartRenderingSucceeded",function(){return k}),n.d(t,"REMOVE_CHART",function(){return T}),n.d(t,"removeChart",function(){return P}),n.d(t,"ANNOTATION_QUERY_SUCCESS",function(){return M}),n.d(t,"annotationQuerySuccess",function(){return R}),n.d(t,"ANNOTATION_QUERY_STARTED",function(){return A}),n.d(t,"annotationQueryStarted",function(){return I}),n.d(t,"ANNOTATION_QUERY_FAILED",function(){return D}),n.d(t,"annotationQueryFailed",function(){return N}),n.d(t,"runAnnotationQuery",function(){return L}),n.d(t,"TRIGGER_QUERY",function(){return z}),n.d(t,"triggerQuery",function(){return F}),n.d(t,"RENDER_TRIGGERED",function(){return B}),n.d(t,"renderTriggered",function(){return H}),n.d(t,"UPDATE_QUERY_FORM_DATA",function(){return q}),n.d(t,"updateQueryFormData",function(){return U}),n.d(t,"UPDATE_CHART_ID",function(){return W}),n.d(t,"updateChartId",function(){return G}),n.d(t,"ADD_CHART",function(){return V}),n.d(t,"addChart",function(){return K}),n.d(t,"RUN_QUERY",function(){return Q}),n.d(t,"runQuery",function(){return Y}),n.d(t,"redirectSQLLab",function(){return $}),n.d(t,"refreshChart",function(){return X});var r=n(33),o=n(144),a=n(165),i=n(170),l=n(44),s=n(216),u=n(79),c=n(83),p=n(393);function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b="CHART_UPDATE_STARTED";function m(e,t,n){return{type:b,queryController:e,latestQueryFormData:t,key:n}}var g="CHART_UPDATE_SUCCEEDED";function y(e,t){return{type:g,queryResponse:e,key:t}}var v="CHART_UPDATE_STOPPED";function _(e){return{type:v,key:e}}var O="CHART_UPDATE_TIMEOUT";function S(e,t,n){return{type:O,statusText:e,timeout:t,key:n}}var w="CHART_UPDATE_FAILED";function C(e,t){return{type:w,queryResponse:e,key:t}}var x="CHART_RENDERING_FAILED";function E(e,t,n){return{type:x,error:e,key:t,stackTrace:n}}var j="CHART_RENDERING_SUCCEEDED";function k(e){return{type:j,key:e}}var T="REMOVE_CHART";function P(e){return{type:T,key:e}}var M="ANNOTATION_QUERY_SUCCESS";function R(e,t,n){return{type:M,annotation:e,queryResponse:t,key:n}}var A="ANNOTATION_QUERY_STARTED";function I(e,t,n){return{type:A,annotation:e,queryController:t,key:n}}var D="ANNOTATION_QUERY_FAILED";function N(e,t,n){return{type:D,annotation:e,queryResponse:t,key:n}}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return function(l,s){var u=r||Object.keys(s().charts)[0],p=f({},n||s().charts[u].latestQueryFormData);if(!Object(i.f)(e.sourceType))return Promise.resolve();var d=p.time_grain_sqla||p.granularity;p.time_grain_sqla=d,p.granularity=d;var b=Object.keys(e.overrides);(b.includes("since")||b.includes("until"))&&(e.overrides=f({},e.overrides,{time_range:null}));var m=Object.keys(e.overrides).reduce(function(t,n){return f({},t,h({},n,e.overrides[n]||p[n]))},{}),g=e.sourceType===i.a.NATIVE,y=Object(a.b)(e.value,m,g),v=new AbortController,_=v.signal;return l(I(e,v,u)),o.a.get({url:y,signal:_,timeout:1e3*t}).then(function(t){var n=t.json;return l(R(e,n,u))}).catch(function(t){return Object(c.a)(t).then(function(t){"timeout"===t.statusText?l(N(e,{error:"Query Timeout"},u)):(t.error||"").toLowerCase().includes("no data")?l(R(e,t,u)):"abort"!==t.statusText&&l(N(e,t,u))})})}}var z="TRIGGER_QUERY";function F(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return{type:z,value:e,key:t}}var B="RENDER_TRIGGERED";function H(e,t){return{type:B,value:e,key:t}}var q="UPDATE_QUERY_FORM_DATA";function U(e,t){return{type:q,value:e,key:t}}var W="UPDATE_CHART_ID";function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{type:W,newId:e,key:t}}var V="ADD_CHART";function K(e,t){return{type:V,chart:e,key:t}}var Q="RUN_QUERY";function Y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,r=arguments.length>3?arguments[3]:void 0;return function(i){var l=Object(a.e)({formData:e,endpointType:"json",force:t,allowDomainSharding:!0}),h=l.url,b=l.payload,g=u.q.getTimestamp(),v=new AbortController,O=v.signal;i(m(v,b,r));var w={url:h,postPayload:{form_data:b},signal:O,timeout:1e3*n};p.a&&(w=f({},w,{mode:"cors",credentials:"include"}));var x=o.a.post(w).then(function(n){var o=n.json;return i(Object(s.logEvent)(u.g,{slice_id:r,is_cached:o.is_cached,force_refresh:t,row_count:o.rowcount,datasource:e.datasource,start_offset:g,ts:(new Date).getTime(),duration:u.q.getTimestamp()-g,has_extra_filters:e.extra_filters&&e.extra_filters.length>0,viz_type:e.viz_type})),i(y(o,r))}).catch(function(t){var o=function(t){i(Object(s.logEvent)(u.g,{slice_id:r,has_err:!0,error_details:t,datasource:e.datasource,start_offset:g,ts:(new Date).getTime(),duration:u.q.getTimestamp()-g}))};return"timeout"===t.statusText?(o("timeout"),i(S(t.statusText,n,r))):"AbortError"===t.name?(o("abort"),i(_(r))):Object(c.a)(t).then(function(e){return o(e.error),i(C(e,r))})}),E=e.annotation_layers||[];return Promise.all([x,i(F(!1,r)),i(U(b,r))].concat(d(E.map(function(t){return i(L(t,n,e,r))}))))}}function $(e){return function(t){var n=Object(a.e)({formData:e,endpointType:"query"}).url;return o.a.post({url:n,postPayload:{form_data:e}}).then(function(t){var n=t.json,r=new URL(window.location);r.pathname="/superset/sqllab";var o=!0,a=!1,i=void 0;try{for(var l,s=r.searchParams.keys()[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;r.searchParams.delete(u)}}catch(e){a=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}r.searchParams.set("datasourceKey",e.datasource),r.searchParams.set("sql",n.query),window.open(r.href,"_blank")}).catch(function(){return t(Object(l.c)(Object(r.b)("An error occurred while loading the SQL")))})}}function X(e,t,n){return function(r){e.latestQueryFormData&&0!==Object.keys(e.latestQueryFormData).length&&r(Y(e.latestQueryFormData,t,n,e.id))}}},955:function(e,t,n){var r=n(163),o=n(1227),a=n(1228),i="Expected a function",l=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,p,d,f,h,b=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError(i);function v(t){var n=u,r=c;return u=c=void 0,b=t,d=e.apply(r,n)}function _(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-b>=p}function O(){var e=o();if(_(e))return S(e);f=setTimeout(O,function(e){var n=t-(e-h);return g?s(n,p-(e-b)):n}(e))}function S(e){return f=void 0,y&&u?v(e):(u=c=void 0,d)}function w(){var e=o(),n=_(e);if(u=arguments,c=this,h=e,n){if(void 0===f)return function(e){return b=e,f=setTimeout(O,t),m?v(e):d}(h);if(g)return f=setTimeout(O,t),v(h)}return void 0===f&&(f=setTimeout(O,t)),d}return t=a(t)||0,r(n)&&(m=!!n.leading,p=(g="maxWait"in n)?l(a(n.maxWait)||0,t):p,y="trailing"in n?!!n.trailing:y),w.cancel=function(){void 0!==f&&clearTimeout(f),b=0,u=h=c=f=void 0},w.flush=function(){return void 0===f?d:S(o())},w}},956:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCROLL_DIRECTION_VERTICAL=t.SCROLL_DIRECTION_HORIZONTAL=t.SCROLL_DIRECTION_FORWARD=t.SCROLL_DIRECTION_BACKWARD=void 0,t.default=function(e){var t=e.cellCount,n=e.overscanCellsCount,o=e.scrollDirection,a=e.startIndex,i=e.stopIndex;return o===r?{overscanStartIndex:Math.max(0,a),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,a-n),overscanStopIndex:Math.min(t-1,i)}};n(212),t.SCROLL_DIRECTION_BACKWARD=-1;var r=t.SCROLL_DIRECTION_FORWARD=1;t.SCROLL_DIRECTION_HORIZONTAL="horizontal",t.SCROLL_DIRECTION_VERTICAL="vertical"},957:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.cellCache,n=e.cellRenderer,r=e.columnSizeAndPositionManager,o=e.columnStartIndex,a=e.columnStopIndex,i=e.deferredMeasurementCache,l=e.horizontalOffsetAdjustment,s=e.isScrolling,u=e.parent,c=e.rowSizeAndPositionManager,p=e.rowStartIndex,d=e.rowStopIndex,f=e.styleCache,h=e.verticalOffsetAdjustment,b=e.visibleColumnIndices,m=e.visibleRowIndices,g=[],y=r.areOffsetsAdjusted()||c.areOffsetsAdjusted(),v=!s&&!y,_=p;_<=d;_++)for(var O=c.getSizeAndPositionOfCell(_),S=o;S<=a;S++){var w=r.getSizeAndPositionOfCell(S),C=S>=b.start&&S<=b.stop&&_>=m.start&&_<=m.stop,x=_+"-"+S,E=void 0;v&&f[x]?E=f[x]:i&&!i.has(_,S)?E={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(E={height:O.size,left:w.offset+l,position:"absolute",top:O.offset+h,width:w.size},f[x]=E);var j={columnIndex:S,isScrolling:s,isVisible:C,key:x,parent:u,rowIndex:_,style:E},k=void 0;!s||l||h?k=n(j):(t[x]||(t[x]=n(j)),k=t[x]),null!=k&&!1!==k&&g.push(k)}return g};n(212)},958:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_Scroll=t.bpfrpt_proptype_RenderedRows=t.bpfrpt_proptype_RowRenderer=t.bpfrpt_proptype_RowRendererParams=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r,o=n(0);(r=o)&&r.__esModule;t.bpfrpt_proptype_RowRendererParams=null,t.bpfrpt_proptype_RowRenderer=null,t.bpfrpt_proptype_RenderedRows=null,t.bpfrpt_proptype_Scroll=null},959:function(e,t,n){(function(e,n){var r=200,o="__lodash_hash_undefined__",a=1,i=2,l=9007199254740991,s="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",p="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",b="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",_="[object Proxy]",O="[object RegExp]",S="[object Set]",w="[object String]",C="[object Symbol]",x="[object Undefined]",E="[object ArrayBuffer]",j="[object DataView]",k=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[s]=P[u]=P[E]=P[p]=P[j]=P[d]=P[f]=P[h]=P[m]=P[g]=P[v]=P[O]=P[S]=P[w]=P["[object WeakMap]"]=!1;var M="object"==typeof e&&e&&e.Object===Object&&e,R="object"==typeof self&&self&&self.Object===Object&&self,A=M||R||Function("return this")(),I=t&&!t.nodeType&&t,D=I&&"object"==typeof n&&n&&!n.nodeType&&n,N=D&&D.exports===I,L=N&&M.process,z=function(){try{return L&&L.binding&&L.binding("util")}catch(e){}}(),F=z&&z.isTypedArray;function B(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function H(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var U,W,G,V=Array.prototype,K=Function.prototype,Q=Object.prototype,Y=A["__core-js_shared__"],$=K.toString,X=Q.hasOwnProperty,Z=(U=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",J=Q.toString,ee=RegExp("^"+$.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=N?A.Buffer:void 0,ne=A.Symbol,re=A.Uint8Array,oe=Q.propertyIsEnumerable,ae=V.splice,ie=ne?ne.toStringTag:void 0,le=Object.getOwnPropertySymbols,se=te?te.isBuffer:void 0,ue=(W=Object.keys,G=Object,function(e){return W(G(e))}),ce=ze(A,"DataView"),pe=ze(A,"Map"),de=ze(A,"Promise"),fe=ze(A,"Set"),he=ze(A,"WeakMap"),be=ze(Object,"create"),me=qe(ce),ge=qe(pe),ye=qe(de),ve=qe(fe),_e=qe(he),Oe=ne?ne.prototype:void 0,Se=Oe?Oe.valueOf:void 0;function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new xe;++t<n;)this.add(e[t])}function je(e){var t=this.__data__=new Ce(e);this.size=t.size}function ke(e,t){var n=Ge(e),r=!n&&We(e),o=!n&&!r&&Ve(e),a=!n&&!r&&!o&&Xe(e),i=n||r||o||a,l=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=l.length;for(var u in e)!t&&!X.call(e,u)||i&&("length"==u||o&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||He(u,s))||l.push(u);return l}function Te(e,t){for(var n=e.length;n--;)if(Ue(e[n][0],t))return n;return-1}function Pe(e){return null==e?void 0===e?x:y:ie&&ie in Object(e)?function(e){var t=X.call(e,ie),n=e[ie];try{e[ie]=void 0;var r=!0}catch(e){}var o=J.call(e);r&&(t?e[ie]=n:delete e[ie]);return o}(e):function(e){return J.call(e)}(e)}function Me(e){return $e(e)&&Pe(e)==s}function Re(e,t,n,r,o){return e===t||(null==e||null==t||!$e(e)&&!$e(t)?e!=e&&t!=t:function(e,t,n,r,o,l){var c=Ge(e),h=Ge(t),b=c?u:Be(e),y=h?u:Be(t),_=(b=b==s?v:b)==v,x=(y=y==s?v:y)==v,k=b==y;if(k&&Ve(e)){if(!Ve(t))return!1;c=!0,_=!1}if(k&&!_)return l||(l=new je),c||Xe(e)?De(e,t,n,r,o,l):function(e,t,n,r,o,l,s){switch(n){case j:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!l(new re(e),new re(t)));case p:case d:case g:return Ue(+e,+t);case f:return e.name==t.name&&e.message==t.message;case O:case w:return e==t+"";case m:var u=H;case S:var c=r&a;if(u||(u=q),e.size!=t.size&&!c)return!1;var h=s.get(e);if(h)return h==t;r|=i,s.set(e,t);var b=De(u(e),u(t),r,o,l,s);return s.delete(e),b;case C:if(Se)return Se.call(e)==Se.call(t)}return!1}(e,t,b,n,r,o,l);if(!(n&a)){var T=_&&X.call(e,"__wrapped__"),P=x&&X.call(t,"__wrapped__");if(T||P){var M=T?e.value():e,R=P?t.value():t;return l||(l=new je),o(M,R,n,r,l)}}if(!k)return!1;return l||(l=new je),function(e,t,n,r,o,i){var l=n&a,s=Ne(e),u=s.length,c=Ne(t).length;if(u!=c&&!l)return!1;for(var p=u;p--;){var d=s[p];if(!(l?d in t:X.call(t,d)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var h=!0;i.set(e,t),i.set(t,e);for(var b=l;++p<u;){d=s[p];var m=e[d],g=t[d];if(r)var y=l?r(g,m,d,t,e,i):r(m,g,d,e,t,i);if(!(void 0===y?m===g||o(m,g,n,r,i):y)){h=!1;break}b||(b="constructor"==d)}if(h&&!b){var v=e.constructor,_=t.constructor;v!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof _&&_ instanceof _)&&(h=!1)}return i.delete(e),i.delete(t),h}(e,t,n,r,o,l)}(e,t,n,r,Re,o))}function Ae(e){return!(!Ye(e)||(t=e,Z&&Z in t))&&(Ke(e)?ee:k).test(qe(e));var t}function Ie(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||Q,t!==r)return ue(e);var t,n,r,o=[];for(var a in Object(e))X.call(e,a)&&"constructor"!=a&&o.push(a);return o}function De(e,t,n,r,o,l){var s=n&a,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var p=l.get(e);if(p&&l.get(t))return p==t;var d=-1,f=!0,h=n&i?new Ee:void 0;for(l.set(e,t),l.set(t,e);++d<u;){var b=e[d],m=t[d];if(r)var g=s?r(m,b,d,t,e,l):r(b,m,d,e,t,l);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!B(t,function(e,t){if(a=t,!h.has(a)&&(b===e||o(b,e,n,r,l)))return h.push(t);var a})){f=!1;break}}else if(b!==m&&!o(b,m,n,r,l)){f=!1;break}}return l.delete(e),l.delete(t),f}function Ne(e){return function(e,t,n){var r=t(e);return Ge(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ze,Fe)}function Le(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ze(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ae(n)?n:void 0}we.prototype.clear=function(){this.__data__=be?be(null):{},this.size=0},we.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},we.prototype.get=function(e){var t=this.__data__;if(be){var n=t[e];return n===o?void 0:n}return X.call(t,e)?t[e]:void 0},we.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:X.call(t,e)},we.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=be&&void 0===t?o:t,this},Ce.prototype.clear=function(){this.__data__=[],this.size=0},Ce.prototype.delete=function(e){var t=this.__data__,n=Te(t,e);return!(n<0||(n==t.length-1?t.pop():ae.call(t,n,1),--this.size,0))},Ce.prototype.get=function(e){var t=this.__data__,n=Te(t,e);return n<0?void 0:t[n][1]},Ce.prototype.has=function(e){return Te(this.__data__,e)>-1},Ce.prototype.set=function(e,t){var n=this.__data__,r=Te(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},xe.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(pe||Ce),string:new we}},xe.prototype.delete=function(e){var t=Le(this,e).delete(e);return this.size-=t?1:0,t},xe.prototype.get=function(e){return Le(this,e).get(e)},xe.prototype.has=function(e){return Le(this,e).has(e)},xe.prototype.set=function(e,t){var n=Le(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ee.prototype.add=Ee.prototype.push=function(e){return this.__data__.set(e,o),this},Ee.prototype.has=function(e){return this.__data__.has(e)},je.prototype.clear=function(){this.__data__=new Ce,this.size=0},je.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},je.prototype.get=function(e){return this.__data__.get(e)},je.prototype.has=function(e){return this.__data__.has(e)},je.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ce){var o=n.__data__;if(!pe||o.length<r-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new xe(o)}return n.set(e,t),this.size=n.size,this};var Fe=le?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}(le(e),function(t){return oe.call(e,t)}))}:function(){return[]},Be=Pe;function He(e,t){return!!(t=null==t?l:t)&&("number"==typeof e||T.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ue(e,t){return e===t||e!=e&&t!=t}(ce&&Be(new ce(new ArrayBuffer(1)))!=j||pe&&Be(new pe)!=m||de&&"[object Promise]"!=Be(de.resolve())||fe&&Be(new fe)!=S||he&&"[object WeakMap]"!=Be(new he))&&(Be=function(e){var t=Pe(e),n=t==v?e.constructor:void 0,r=n?qe(n):"";if(r)switch(r){case me:return j;case ge:return m;case ye:return"[object Promise]";case ve:return S;case _e:return"[object WeakMap]"}return t});var We=Me(function(){return arguments}())?Me:function(e){return $e(e)&&X.call(e,"callee")&&!oe.call(e,"callee")},Ge=Array.isArray;var Ve=se||function(){return!1};function Ke(e){if(!Ye(e))return!1;var t=Pe(e);return t==h||t==b||t==c||t==_}function Qe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function Ye(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $e(e){return null!=e&&"object"==typeof e}var Xe=F?function(e){return function(t){return e(t)}}(F):function(e){return $e(e)&&Qe(e.length)&&!!P[Pe(e)]};function Ze(e){return null!=(t=e)&&Qe(t.length)&&!Ke(t)?ke(e):Ie(e);var t}n.exports=function(e,t){return Re(e,t)}}).call(this,n(71),n(176)(e))},960:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"],t.editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"]}}]);