(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{2187:function(t,e){t.exports={d3_identity:function(t){return t},d3_mergeLabels:function(t,e){if(0===e.length)return t;t=t||[];for(var n=e.length;n<t.length;n++)e.push(t[n]);return e},d3_linearLegend:function(t,e,n){var a=[];if(e.length>1)a=e;else for(var r=t.domain(),l=(r[r.length-1]-r[0])/(e-1),i=0;i<e;i++)a.push(r[0]+i*l);var o=a.map(n);return{data:a,labels:o,feature:function(e){return t(e)}}},d3_quantLegend:function(t,e,n){var a=t.range().map(function(a){var r=t.invertExtent(a);e(r[0]),e(r[1]);return e(r[0])+" "+n+" "+e(r[1])});return{data:t.range(),labels:a,feature:this.d3_identity}},d3_ordinalLegend:function(t){return{data:t.domain(),labels:t.domain(),feature:function(e){return t(e)}}},d3_drawShapes:function(t,e,n,a,r,l){"rect"===t?e.attr("height",n).attr("width",a):"circle"===t?e.attr("r",r):"line"===t?e.attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0):"path"===t&&e.attr("d",l)},d3_addText:function(t,e,n,a){e.append("text").attr("class",a+"label"),t.selectAll("g."+a+"cell text."+a+"label").data(n).text(this.d3_identity)},d3_calcType:function(t,e,n,a,r,l){var i=t.ticks?this.d3_linearLegend(t,n,r):t.invertExtent?this.d3_quantLegend(t,r,l):this.d3_ordinalLegend(t);return i.labels=this.d3_mergeLabels(i.labels,a),e&&(i.labels=this.d3_reverse(i.labels),i.data=this.d3_reverse(i.data)),i},d3_reverse:function(t){for(var e=[],n=0,a=t.length;n<a;n++)e[n]=t[a-n-1];return e},d3_placement:function(t,e,n,a,r,l){e.attr("transform",n),a.attr("transform",r),"horizontal"===t&&a.style("text-anchor",l)},d3_addEvents:function(t,e){var n=this;t.on("mouseover.legend",function(t){n.d3_cellOver(e,t,this)}).on("mouseout.legend",function(t){n.d3_cellOut(e,t,this)}).on("click.legend",function(t){n.d3_cellClick(e,t,this)})},d3_cellOver:function(t,e,n){t.cellover.call(n,e)},d3_cellOut:function(t,e,n){t.cellout.call(n,e)},d3_cellClick:function(t,e,n){t.cellclick.call(n,e)},d3_title:function(t,e,n,a){if(""!==n){t.selectAll("text."+a+"legendTitle").data([n]).enter().append("text").attr("class",a+"legendTitle"),t.selectAll("text."+a+"legendTitle").text(n);var r=t.select("."+a+"legendTitle").map(function(t){return t[0].getBBox().height})[0],l=-e.map(function(t){return t[0].getBBox().x})[0];e.attr("transform","translate("+l+","+(r+10)+")")}}}},2406:function(t,e,n){var a=n(1100);a.legend=n(2407),t.exports=a},2407:function(t,e,n){t.exports={color:n(2408),size:n(2409),symbol:n(2410)}},2408:function(t,e,n){var a=n(2187);t.exports=function(){var t,e=d3.scale.linear(),n="rect",r=15,l=15,i=10,o=2,c=[5],s=[],u="",d=!1,h="",f=d3.format(".01f"),g=10,p="middle",m="to",v="vertical",b=!1,x=d3.dispatch("cellover","cellout","cellclick");function y(y){var _=a.d3_calcType(e,b,c,s,f,m),w=y.selectAll("g").data([e]);w.enter().append("g").attr("class",u+"legendCells");var k=w.selectAll("."+u+"cell").data(_.data),O=k.enter().append("g",".cell").attr("class",u+"cell").style("opacity",1e-6),A=(O.append(n).attr("class",u+"swatch"),k.select("g."+u+"cell "+n));a.d3_addEvents(O,x),k.exit().transition().style("opacity",0).remove(),a.d3_drawShapes(n,A,l,r,i,t),a.d3_addText(w,O,_.labels,u);var T=k.select("text"),B=A[0].map(function(t){return t.getBBox()});d?A.attr("class",function(t){return u+"swatch "+_.feature(t)}):"line"==n?A.style("stroke",_.feature):A.style("fill",_.feature);var S,L,z="start"==p?0:"middle"==p?.5:1;"vertical"===v?(S=function(t,e){return"translate(0, "+e*(B[e].height+o)+")"},L=function(t,e){return"translate("+(B[e].width+B[e].x+g)+","+(B[e].y+B[e].height/2+5)+")"}):"horizontal"===v&&(S=function(t,e){return"translate("+e*(B[e].width+o)+",0)"},L=function(t,e){return"translate("+(B[e].width*z+B[e].x)+","+(B[e].height+B[e].y+g+8)+")"}),a.d3_placement(v,k,S,T,L,p),a.d3_title(y,w,h,u),k.transition().style("opacity",1)}return y.scale=function(t){return arguments.length?(e=t,y):e},y.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(c=t),y):c},y.shape=function(e,a){return arguments.length?(("rect"==e||"circle"==e||"line"==e||"path"==e&&"string"==typeof a)&&(n=e,t=a),y):n},y.shapeWidth=function(t){return arguments.length?(r=+t,y):r},y.shapeHeight=function(t){return arguments.length?(l=+t,y):l},y.shapeRadius=function(t){return arguments.length?(i=+t,y):i},y.shapePadding=function(t){return arguments.length?(o=+t,y):o},y.labels=function(t){return arguments.length?(s=t,y):s},y.labelAlign=function(t){return arguments.length?("start"!=t&&"end"!=t&&"middle"!=t||(p=t),y):p},y.labelFormat=function(t){return arguments.length?(f=t,y):f},y.labelOffset=function(t){return arguments.length?(g=+t,y):g},y.labelDelimiter=function(t){return arguments.length?(m=t,y):m},y.useClass=function(t){return arguments.length?(!0!==t&&!1!==t||(d=t),y):d},y.orient=function(t){return arguments.length?("horizontal"!=(t=t.toLowerCase())&&"vertical"!=t||(v=t),y):v},y.ascending=function(t){return arguments.length?(b=!!t,y):b},y.classPrefix=function(t){return arguments.length?(u=t,y):u},y.title=function(t){return arguments.length?(h=t,y):h},d3.rebind(y,x,"on"),y}},2409:function(t,e,n){var a=n(2187);t.exports=function(){var t,e=d3.scale.linear(),n="rect",r=15,l=2,i=[5],o=[],c="",s="",u=d3.format(".01f"),d=10,h="middle",f="to",g="vertical",p=!1,m=d3.dispatch("cellover","cellout","cellclick");function v(v){var b=a.d3_calcType(e,p,i,o,u,f),x=v.selectAll("g").data([e]);x.enter().append("g").attr("class",c+"legendCells");var y=x.selectAll("."+c+"cell").data(b.data),_=y.enter().append("g",".cell").attr("class",c+"cell").style("opacity",1e-6),w=(_.append(n).attr("class",c+"swatch"),y.select("g."+c+"cell "+n));a.d3_addEvents(_,m),y.exit().transition().style("opacity",0).remove(),"line"===n?(a.d3_drawShapes(n,w,0,r),w.attr("stroke-width",b.feature)):a.d3_drawShapes(n,w,b.feature,b.feature,b.feature,t),a.d3_addText(x,_,b.labels,c);var k,O,A=y.select("text"),T=w[0].map(function(t,a){var r=t.getBBox(),l=e(b.data[a]);return"line"===n&&"horizontal"===g?r.height=r.height+l:"line"===n&&"vertical"===g&&(r.width=r.width),r}),B=d3.max(T,function(t){return t.height+t.y}),S=d3.max(T,function(t){return t.width+t.x}),L="start"==h?0:"middle"==h?.5:1;"vertical"===g?(k=function(t,e){return"translate(0, "+(d3.sum(T.slice(0,e+1),function(t){return t.height})+e*l)+")"},O=function(t,e){return"translate("+(S+d)+","+(T[e].y+T[e].height/2+5)+")"}):"horizontal"===g&&(k=function(t,e){return"translate("+(d3.sum(T.slice(0,e+1),function(t){return t.width})+e*l)+",0)"},O=function(t,e){return"translate("+(T[e].width*L+T[e].x)+","+(B+d)+")"}),a.d3_placement(g,y,k,A,O,h),a.d3_title(v,x,s,c),y.transition().style("opacity",1)}return v.scale=function(t){return arguments.length?(e=t,v):e},v.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(i=t),v):i},v.shape=function(e,a){return arguments.length?("rect"!=e&&"circle"!=e&&"line"!=e||(n=e,t=a),v):n},v.shapeWidth=function(t){return arguments.length?(r=+t,v):r},v.shapePadding=function(t){return arguments.length?(l=+t,v):l},v.labels=function(t){return arguments.length?(o=t,v):o},v.labelAlign=function(t){return arguments.length?("start"!=t&&"end"!=t&&"middle"!=t||(h=t),v):h},v.labelFormat=function(t){return arguments.length?(u=t,v):u},v.labelOffset=function(t){return arguments.length?(d=+t,v):d},v.labelDelimiter=function(t){return arguments.length?(f=t,v):f},v.orient=function(t){return arguments.length?("horizontal"!=(t=t.toLowerCase())&&"vertical"!=t||(g=t),v):g},v.ascending=function(t){return arguments.length?(p=!!t,v):p},v.classPrefix=function(t){return arguments.length?(c=t,v):c},v.title=function(t){return arguments.length?(s=t,v):s},d3.rebind(v,m,"on"),v}},2410:function(t,e,n){var a=n(2187);t.exports=function(){var t=d3.scale.linear(),e="path",n=15,r=15,l=10,i=5,o=[5],c=[],s="",u="",d=d3.format(".01f"),h="middle",f=10,g="to",p="vertical",m=!1,v=d3.dispatch("cellover","cellout","cellclick");function b(b){var x=a.d3_calcType(t,m,o,c,d,g),y=b.selectAll("g").data([t]);y.enter().append("g").attr("class",s+"legendCells");var _=y.selectAll("."+s+"cell").data(x.data),w=_.enter().append("g",".cell").attr("class",s+"cell").style("opacity",1e-6),k=(w.append(e).attr("class",s+"swatch"),_.select("g."+s+"cell "+e));a.d3_addEvents(w,v),_.exit().transition().style("opacity",0).remove(),a.d3_drawShapes(e,k,r,n,l,x.feature),a.d3_addText(y,w,x.labels,s);var O,A,T=_.select("text"),B=k[0].map(function(t){return t.getBBox()}),S=d3.max(B,function(t){return t.height}),L=d3.max(B,function(t){return t.width}),z="start"==h?0:"middle"==h?.5:1;"vertical"===p?(O=function(t,e){return"translate(0, "+e*(S+i)+")"},A=function(t,e){return"translate("+(L+f)+","+(B[e].y+B[e].height/2+5)+")"}):"horizontal"===p&&(O=function(t,e){return"translate("+e*(L+i)+",0)"},A=function(t,e){return"translate("+(B[e].width*z+B[e].x)+","+(S+f)+")"}),a.d3_placement(p,_,O,T,A,h),a.d3_title(b,y,u,s),_.transition().style("opacity",1)}return b.scale=function(e){return arguments.length?(t=e,b):t},b.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(o=t),b):o},b.shapePadding=function(t){return arguments.length?(i=+t,b):i},b.labels=function(t){return arguments.length?(c=t,b):c},b.labelAlign=function(t){return arguments.length?("start"!=t&&"end"!=t&&"middle"!=t||(h=t),b):h},b.labelFormat=function(t){return arguments.length?(d=t,b):d},b.labelOffset=function(t){return arguments.length?(f=+t,b):f},b.labelDelimiter=function(t){return arguments.length?(g=t,b):g},b.orient=function(t){return arguments.length?("horizontal"!=(t=t.toLowerCase())&&"vertical"!=t||(p=t),b):p},b.ascending=function(t){return arguments.length?(m=!!t,b):m},b.classPrefix=function(t){return arguments.length?(s=t,b):s},b.title=function(t){return arguments.length?(u=t,b):u},d3.rebind(b,v,"on"),b}},2468:function(t,e,n){"use strict";n.r(e);var a=n(974),r=n(1100),l=n.n(r),i=n(0),o=n.n(i),c=(n(2406),n(1135)),s=n(656),u=n(361),d=n(93),h={data:o.a.shape({records:o.a.arrayOf(o.a.shape({x:o.a.string,y:o.a.string,v:o.a.number,perc:o.a.number,rank:o.a.number})),extents:o.a.arrayOf(o.a.number)}),width:o.a.number,height:o.a.number,bottomMargin:o.a.oneOfType([o.a.string,o.a.number]),colorScheme:o.a.string,columnX:o.a.string,columnY:o.a.string,leftMargin:o.a.oneOfType([o.a.string,o.a.number]),metric:o.a.oneOfType([o.a.string,o.a.object]),normalized:o.a.bool,numberFormat:o.a.string,showLegend:o.a.bool,showPercentage:o.a.bool,showValues:o.a.bool,sortXAxis:o.a.string,sortYAxis:o.a.string,xScaleInterval:o.a.number,yScaleInterval:o.a.number,yAxisBounds:o.a.arrayOf(o.a.number)};function f(t,e){return t>e?1:-1}function g(t,e){function n(t,e,n){var a={},r={};L.forEach(function(e){a[e[t]]=(a[e[t]]||0)+e.v,r[e[t]]=e[t]});var i=Object.keys(r).map(function(t){return r[t]});return"alpha_asc"===n?a=i.sort(f):"alpha_desc"===n?a=i.sort(f).reverse():"value_desc"===n?a=Object.keys(a).sort(function(t,e){return a[t]>a[e]?-1:1}):"value_asc"==n&&(a=Object.keys(a).sort(function(t,e){return a[e]>a[t]?-1:1})),"y"===t&&e&&a.reverse(),e?l.a.scale.ordinal().domain(a).rangeBands(e):l.a.scale.ordinal().domain(a).range(l.a.range(a.length))}var a=e.data,r=e.width,i=e.height,o=e.bottomMargin,h=e.canvasImageRendering,g=e.colorScheme,p=e.columnX,m=e.columnY,v=e.leftMargin,b=e.metric,x=e.normalized,y=e.numberFormat,_=e.showLegend,w=e.showPercentage,k=e.showValues,O=e.sortXAxis,A=e.sortYAxis,T=e.xScaleInterval,B=e.yScaleInterval,S=e.yAxisBounds,L=a.records,z=a.extents,M={top:10,right:10,bottom:35,left:35},C=Object(u.c)(y);t.innerHTML="";var E={};!function(){for(var t,e=1,n=1,a=0;a<L.length;a++)t=L[a],e=Math.max(e,t.x.toString().length||1),n=Math.max(n,t.y.toString().length||1);M.left="auto"===v?Math.ceil(Math.max(M.left,6*n)):v,_&&(M.right+=40),M.bottom="auto"===o?Math.ceil(Math.max(M.bottom,4.5*e)):o}();var j=r-(M.left+M.right),P=i-(M.bottom+M.top),I=Object(u.c)(d.a.PERCENT),F=n("x",null,O),D=n("y",null,A),H=n("x",[0,j],O),R=n("y",[P,0],A),V=[H.domain().length,R.domain().length],X=S[0]||0,Y=S[1]||1,W=Object(s.a)().get(g).createLinearScale([X,Y]),q=[l.a.scale.linear().domain([0,V[0]]).range([0,j]),l.a.scale.linear().domain([0,V[1]]).range([0,P])],J=l.a.select(t);J.classed("superset-legacy-chart-heatmap",!0);var N=J.append("canvas").attr("width",V[0]).attr("height",V[1]).style("width",j+"px").style("height",P+"px").style("image-rendering",h).style("left",M.left+"px").style("top",M.top+"px").style("position","absolute"),U=J.append("svg").attr("width",r).attr("height",i).style("position","relative");k&&U.selectAll("rect").data(L).enter().append("g").attr("transform","translate("+M.left+", "+M.top+")").append("text").attr("transform",function(t){return"translate("+H(t.x)+", "+R(t.y)+")"}).attr("y",R.rangeBand()/2).attr("x",H.rangeBand()/2).attr("text-anchor","middle").attr("dy",".35em").text(function(t){return C(t.v)}).attr("font-size",Math.min(R.rangeBand(),H.rangeBand())/3+"px").attr("fill",function(t){return t.v>=z[1]/2?"white":"black"});if(_){var G=l.a.legend.color().labelFormat(C).scale(W).shapePadding(0).cells(10).shapeWidth(10).shapeHeight(10).labelOffset(3);U.append("g").attr("transform","translate("+(r-40)+", "+M.top+")").call(G)}var K=Object(c.default)().attr("class","d3-tip").offset(function(){var t=l.a.mouse(this),e=t[0]-j/2;return[t[1]-20,e]}).html(function(){var t="",e=l.a.mouse(this),n=Math.floor(q[0].invert(e[0])),a=Math.floor(q[1].invert(e[1])),r="object"==typeof b?b.label:b;if(n in E&&a in E[n]){var i=E[n][a];t+="<div><b>"+p+": </b>"+i.x+"<div>",t+="<div><b>"+m+": </b>"+i.y+"<div>",t+="<div><b>"+r+": </b>"+C(i.v)+"<div>",w&&(t+="<div><b>%: </b>"+I(x?i.rank:i.perc)+"<div>"),K.style("display",null)}else K.style("display","none");return t});U.append("g").attr("transform","translate("+M.left+", "+M.top+")").append("rect").classed("background-rect",!0).on("mousemove",K.show).on("mouseout",K.hide).attr("width",j).attr("height",P).call(K);var Q=l.a.svg.axis().scale(H).outerTickSize(0).tickValues(H.domain().filter(function(t,e){return!(e%T)})).orient("bottom"),Z=l.a.svg.axis().scale(R).outerTickSize(0).tickValues(R.domain().filter(function(t,e){return!(e%B)})).orient("left");U.append("g").attr("class","x axis").attr("transform","translate("+M.left+","+(M.top+P)+")").call(Q).selectAll("text").attr("x",-4).attr("y",10).attr("dy","0.3em").style("text-anchor","end").attr("transform","rotate(-45)"),U.append("g").attr("class","y axis").attr("transform","translate("+M.left+","+M.top+")").call(Z);var $=N.node().getContext("2d");$.imageSmoothingEnabled=!1,function(){var t=new Image,e=$.createImageData(V[0],V[1]),n={};L.forEach(function(t){var e=l.a.rgb(W(x?t.rank:t.perc)),a=F(t.x),r=D(t.y);n[a+r*F.domain().length]=e,void 0===E[a]&&(E[a]={}),void 0===E[a][r]&&(E[a][r]=t)});for(var a=-1,r=0;r<V[0]*V[1];r++){var i=n[r],o=255;void 0===i&&(i=l.a.rgb("#F00"),o=0),e.data[++a]=i.r,e.data[++a]=i.g,e.data[++a]=i.b,e.data[++a]=o}$.putImageData(e,0,0),t.src=N.node().toDataURL()}()}g.displayName="Heatmap",g.propTypes=h;var p=g;e.default=Object(a.a)(p)}}]);