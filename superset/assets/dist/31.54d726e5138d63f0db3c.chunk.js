(window.webpackJsonp=window.webpackJsonp||[]).push([[31,5],{1101:function(e,t,n){var r;!function(o,a,i){if(o){for(var s,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)u[111+p]="f"+p;for(p=0;p<=9;++p)u[p+96]=p.toString();v.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},v.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},v.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},v.prototype.reset=function(){return this._callbacks={},this._directMap={},this},v.prototype.stopCallback=function(e,t){return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!function e(t,n){return null!==t&&t!==a&&(t===n||e(t.parentNode,n))}(t,this.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},v.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},v.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);s=null},v.init=function(){var e=v(a);for(var t in e)"_"!==t.charAt(0)&&(v[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},v.init(),o.Mousetrap=v,e.exports&&(e.exports=v),void 0===(r=function(){return v}.call(t,n,t,e))||(e.exports=r)}function y(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function b(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return u[e.which]?u[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function d(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function h(e,t,n){return n||(n=function(){if(!s)for(var e in s={},u)e>95&&e<112||u.hasOwnProperty(e)&&(s[u[e]]=e);return s}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function m(e,t){var n,r,o,a=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),t&&"keypress"!=t&&l[r]&&(r=l[r],a.push("shift")),d(r)&&a.push(r);return{key:r,modifiers:a,action:t=h(r,a,t)}}function v(e){var t=this;if(e=e||a,!(t instanceof v))return new v(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},o=!1,i=!1,s=!1;function u(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(s=!1)}function c(e,n,o,a,i,s){var u,c,l,f,p=[],y=o.type;if(!t._callbacks[e])return[];for("keyup"==y&&d(e)&&(n=[e]),u=0;u<t._callbacks[e].length;++u)if(c=t._callbacks[e][u],(a||!c.seq||r[c.seq]==c.level)&&y==c.action&&("keypress"==y&&!o.metaKey&&!o.ctrlKey||(l=n,f=c.modifiers,l.sort().join(",")===f.sort().join(",")))){var b=!a&&c.combo==i,h=a&&c.seq==a&&c.level==s;(b||h)&&t._callbacks[e].splice(u,1),p.push(c)}return p}function l(e,n,r,o){t.stopCallback(n,n.target||n.srcElement,r,o)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function f(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=b(e);n&&("keyup"!=e.type||o!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function p(e,t,a,i){function c(t){return function(){s=t,++r[e],clearTimeout(n),n=setTimeout(u,1e3)}}function f(t){l(a,t,e),"keyup"!==i&&(o=b(t)),setTimeout(u,10)}r[e]=0;for(var p=0;p<t.length;++p){var y=p+1===t.length?f:c(i||m(t[p+1]).action);h(t[p],y,i,e,p)}}function h(e,n,r,o,a){t._directMap[e+":"+r]=n;var i,s=(e=e.replace(/\s+/g," ")).split(" ");s.length>1?p(e,s,n,r):(i=m(e,r),t._callbacks[i.key]=t._callbacks[i.key]||[],c(i.key,i.modifiers,{type:i.action},o,e,a),t._callbacks[i.key][o?"unshift":"push"]({callback:n,modifiers:i.modifiers,action:i.action,seq:o,level:a,combo:e}))}t._handleKey=function(e,t,n){var r,o=c(e,t,n),a={},f=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;p=!0,a[o[r].seq]=1,l(o[r].callback,n,o[r].combo,o[r].seq)}else p||l(o[r].callback,n,o[r].combo);var y="keypress"==n.type&&i;n.type!=s||d(e)||y||u(a),i=p&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)h(e[r],t,n)},y(e,"keypress",f),y(e,"keydown",f),y(e,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},1102:function(e,t,n){var r={"./af":804,"./af.js":804,"./ar":805,"./ar-dz":806,"./ar-dz.js":806,"./ar-kw":807,"./ar-kw.js":807,"./ar-ly":808,"./ar-ly.js":808,"./ar-ma":809,"./ar-ma.js":809,"./ar-sa":810,"./ar-sa.js":810,"./ar-tn":811,"./ar-tn.js":811,"./ar.js":805,"./az":812,"./az.js":812,"./be":813,"./be.js":813,"./bg":814,"./bg.js":814,"./bm":815,"./bm.js":815,"./bn":816,"./bn.js":816,"./bo":817,"./bo.js":817,"./br":818,"./br.js":818,"./bs":819,"./bs.js":819,"./ca":820,"./ca.js":820,"./cs":821,"./cs.js":821,"./cv":822,"./cv.js":822,"./cy":823,"./cy.js":823,"./da":824,"./da.js":824,"./de":825,"./de-at":826,"./de-at.js":826,"./de-ch":827,"./de-ch.js":827,"./de.js":825,"./dv":828,"./dv.js":828,"./el":829,"./el.js":829,"./en-au":830,"./en-au.js":830,"./en-ca":831,"./en-ca.js":831,"./en-gb":832,"./en-gb.js":832,"./en-ie":833,"./en-ie.js":833,"./en-il":834,"./en-il.js":834,"./en-nz":835,"./en-nz.js":835,"./eo":836,"./eo.js":836,"./es":837,"./es-do":838,"./es-do.js":838,"./es-us":839,"./es-us.js":839,"./es.js":837,"./et":840,"./et.js":840,"./eu":841,"./eu.js":841,"./fa":842,"./fa.js":842,"./fi":843,"./fi.js":843,"./fo":844,"./fo.js":844,"./fr":845,"./fr-ca":846,"./fr-ca.js":846,"./fr-ch":847,"./fr-ch.js":847,"./fr.js":845,"./fy":848,"./fy.js":848,"./gd":849,"./gd.js":849,"./gl":850,"./gl.js":850,"./gom-latn":851,"./gom-latn.js":851,"./gu":852,"./gu.js":852,"./he":853,"./he.js":853,"./hi":854,"./hi.js":854,"./hr":855,"./hr.js":855,"./hu":856,"./hu.js":856,"./hy-am":857,"./hy-am.js":857,"./id":858,"./id.js":858,"./is":859,"./is.js":859,"./it":860,"./it.js":860,"./ja":861,"./ja.js":861,"./jv":862,"./jv.js":862,"./ka":863,"./ka.js":863,"./kk":864,"./kk.js":864,"./km":865,"./km.js":865,"./kn":866,"./kn.js":866,"./ko":867,"./ko.js":867,"./ku":868,"./ku.js":868,"./ky":869,"./ky.js":869,"./lb":870,"./lb.js":870,"./lo":871,"./lo.js":871,"./lt":872,"./lt.js":872,"./lv":873,"./lv.js":873,"./me":874,"./me.js":874,"./mi":875,"./mi.js":875,"./mk":876,"./mk.js":876,"./ml":877,"./ml.js":877,"./mn":878,"./mn.js":878,"./mr":879,"./mr.js":879,"./ms":880,"./ms-my":881,"./ms-my.js":881,"./ms.js":880,"./mt":882,"./mt.js":882,"./my":883,"./my.js":883,"./nb":884,"./nb.js":884,"./ne":885,"./ne.js":885,"./nl":886,"./nl-be":887,"./nl-be.js":887,"./nl.js":886,"./nn":888,"./nn.js":888,"./pa-in":889,"./pa-in.js":889,"./pl":890,"./pl.js":890,"./pt":891,"./pt-br":892,"./pt-br.js":892,"./pt.js":891,"./ro":893,"./ro.js":893,"./ru":894,"./ru.js":894,"./sd":895,"./sd.js":895,"./se":896,"./se.js":896,"./si":897,"./si.js":897,"./sk":898,"./sk.js":898,"./sl":899,"./sl.js":899,"./sq":900,"./sq.js":900,"./sr":901,"./sr-cyrl":902,"./sr-cyrl.js":902,"./sr.js":901,"./ss":903,"./ss.js":903,"./sv":904,"./sv.js":904,"./sw":905,"./sw.js":905,"./ta":906,"./ta.js":906,"./te":907,"./te.js":907,"./tet":908,"./tet.js":908,"./tg":909,"./tg.js":909,"./th":910,"./th.js":910,"./tl-ph":911,"./tl-ph.js":911,"./tlh":912,"./tlh.js":912,"./tr":913,"./tr.js":913,"./tzl":914,"./tzl.js":914,"./tzm":915,"./tzm-latn":916,"./tzm-latn.js":916,"./tzm.js":915,"./ug-cn":917,"./ug-cn.js":917,"./uk":918,"./uk.js":918,"./ur":919,"./ur.js":919,"./uz":920,"./uz-latn":921,"./uz-latn.js":921,"./uz.js":920,"./vi":922,"./vi.js":922,"./x-pseudo":923,"./x-pseudo.js":923,"./yo":924,"./yo.js":924,"./zh-cn":925,"./zh-cn.js":925,"./zh-hk":926,"./zh-hk.js":926,"./zh-tw":927,"./zh-tw.js":927};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=1102},1298:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(1),o=n.n(r),a=n(1299),i=n.n(a);n(1424),n(1423);function s(e){return o.a.createElement("span",{className:"BootstrapSliderWrapper"},o.a.createElement(i.a,e))}},1423:function(e,t,n){},2114:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return p});var r=n(1),o=n.n(r),a=n(2378),i=n(19),s=n(2115);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{var r=function(e){var t=i.extent(e,function(e){return e[1]}),n=i.extent(e,function(e){return e[0]});return[[n[0],t[0]],[n[1],t[1]]]}(t);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}({},e,Object(a.a)({height:e.height,width:e.width,padding:n,bounds:r}))}catch(t){return console.error("Could not auto zoom",t),e}}function l(e,t,n){var r,a,i,u=e;if(u.jsTooltip)a=Object(s.a)(u.jsTooltip);else if(u.lineColumn&&u.metric&&["geohash","zipcode"].indexOf(u.lineType)>=0){var c=u.metric.label||u.metric;a=function(e){return o.a.createElement("div",null,o.a.createElement("div",null,u.lineColumn,": ",o.a.createElement("strong",null,e.object[u.lineColumn])),u.metric&&o.a.createElement("div",null,c,": ",o.a.createElement("strong",null,e.object[c])))}}return a&&(r=function(e){e.picked?t({content:a(e),x:e.x,y:e.y+30}):t(null)}),u.jsOnclickHref?i=function(e){var t=Object(s.a)(u.jsOnclickHref)(e);window.open(t)}:u.tableFilter&&void 0!==n&&(i=function(e){return n(e.object[u.lineColumn])}),{onClick:i,onHover:r,pickable:Boolean(r)}}var f={p1:.01,p5:.05,p95:.95,p99:.99};function p(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sum",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"count"===t?function(e){return e.length}:(e=t in f?function(e,r){var o;return o=n?e.sort(function(e,t){return i.ascending(n(e),n(t))}):e.sort(i.ascending),i.quantile(o,f[t],r)}:i[t],n?function(t){return e(t.map(n))}:function(t){return e(t)})}},2115:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(2144),o=n.n(r),a=n(2145),i=n.n(a),s=n(19),u=n(2118);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={console:console,_:i.a,colors:u,d3array:s};function f(e,t,n){var r={},a="SAFE_EVAL_"+Math.floor(1e6*Math.random());r[a]={};var i=a+"="+e,s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}({},l,t);Object.keys(s).forEach(function(e){r[e]=s[e]});try{return o.a.runInNewContext(i,r,n),r[a]}catch(e){return function(){return e}}}},2118:function(e,t,n){"use strict";n.r(t),n.d(t,"hexToRGB",function(){return o});var r=n(29);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;if(!e)return[0,0,0,t];var n=Object(r.f)(e);return[n.r,n.g,n.b,t]}},2122:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n(276),o=n.n(r),a=n(1),i=n.n(a),s=n(0),u=n.n(s),c=n(2139),l=n(2123);n(2140);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){b(e,t,n[t])})}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g=2e3,j={viewport:u.a.object.isRequired,layers:u.a.array.isRequired,setControlValue:u.a.func,mapStyle:u.a.string,mapboxApiAccessToken:u.a.string.isRequired,onViewportChange:u.a.func},w=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=h(t).call(this,e))||"object"!==f(o)&&"function"!=typeof o?v(r):o).tick=n.tick.bind(v(v(n))),n.onViewportChange=n.onViewportChange.bind(v(v(n))),n.state={previousViewport:e.viewport,timer:setInterval(n.tick,g)},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,i.a.Component),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.viewport!==t.viewport?{viewport:y({},e.viewport),previousViewport:t.viewport}:null}}],(r=[{key:"componentWillUnmount",value:function(){clearInterval(this.state.timer)}},{key:"onViewportChange",value:function(e){var t=Object.assign({},e),n=y({},this.state.previousViewport,t);this.props.onViewportChange(n)}},{key:"tick",value:function(){var e=this;if(this.state&&!o()(this.state.previousViewport,this.props.viewport)){var t=this.props.setControlValue,n=this.props.viewport;t&&t("viewport",n),this.setState(function(){return{previousViewport:e.props.viewport}})}}},{key:"layers",value:function(){return this.props.layers.some(function(e){return"function"==typeof e})?this.props.layers.map(function(e){return"function"==typeof e?e():e}):this.props.layers}},{key:"render",value:function(){var e=this.props.viewport;return i.a.createElement(c.b,p({},e,{mapStyle:this.props.mapStyle,onViewportChange:this.onViewportChange,mapboxApiAccessToken:this.props.mapboxApiAccessToken}),i.a.createElement(l.i,p({},e,{layers:this.layers(),initWebGLParameters:!0})))}}])&&d(n.prototype,r),a&&d(n,a),t}();w.propTypes=j,w.defaultProps={mapStyle:"light",onViewportChange:function(){},setControlValue:function(){}}},2130:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(20),o=n.n(r);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=[1,0,1,0,0,0,0];function s(e,t){var n=parseInt(o()(t).format("x"),10);return parseInt(o()(t).add(e).format("x"),10)-n}var u=function(e,t){var n,r,u=o()(Math.min.apply(Math,a(e))),c=o()(Math.max.apply(Math,a(e)));if(-1!==t.indexOf("/")){var l=t.split("/",2);l[0].endsWith("Z")?(r=o()(l[0]),n=o.a.duration(l[1])):(r=o()(l[1]),n=o.a.duration(l[0]))}else r=function(e,t){var n=o()(e).subtract(t),r=e.toArray(),a=n.toArray(),s=r.map(function(e,t){return a[t]!==e}).indexOf(!0),u=r.map(function(e,t){if(t===s){var n=e-a[t];return e-(e-i[t])%n}return t<s||-1===s?e:i[t]});return o()(u)}(u,n=o.a.duration(t));for(var f=o()(r);f<u;)f.add(n);for(;f>u;)f.subtract(n);for(var p=o()(r);p>c;)p.subtract(n);for(;p<c;)p.add(n);var y=null!=t?[f,o()(f).add(n)]:[f,p],b=e.every(function(e){return null===e});return{start:parseInt(f.format("x"),10),end:parseInt(p.format("x"),10),getStep:s.bind(this,n),values:y.map(function(e){return parseInt(e.format("x"),10)}),disabled:b}}},2131:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),s=n(2122),u=n(1101),c=n.n(u),l=n(33),f=n(1298);n(2132);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m={start:i.a.number.isRequired,step:i.a.number.isRequired,end:i.a.number.isRequired,values:i.a.array.isRequired,onChange:i.a.func,loopDuration:i.a.number,maxFrames:i.a.number,orientation:i.a.oneOf(["horizontal","vertical"]),reversed:i.a.bool,disabled:i.a.bool,range:i.a.bool},v=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=b(t).call(this,e))||"object"!==p(o)&&"function"!=typeof o?h(r):o).state={intervalId:null};var a=e.end-e.start,i=Math.min(e.maxFrames,a/e.step),s=a/i;return n.intervalMilliseconds=e.loopDuration/i,n.increment=s<e.step?e.step:s-s%e.step,n.onChange=n.onChange.bind(h(h(n))),n.play=n.play.bind(h(h(n))),n.pause=n.pause.bind(h(h(n))),n.stepBackward=n.stepBackward.bind(h(h(n))),n.stepForward=n.stepForward.bind(h(h(n))),n.getPlayClass=n.getPlayClass.bind(h(h(n))),n.formatter=n.formatter.bind(h(h(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){c.a.bind(["space"],this.play)}},{key:"componentWillUnmount",value:function(){c.a.unbind(["space"])}},{key:"onChange",value:function(e){this.props.onChange(e.target.value),null!=this.state.intervalId&&this.pause()}},{key:"getPlayClass",value:function(){return null==this.state.intervalId?"fa fa-play fa-lg slider-button":"fa fa-pause fa-lg slider-button"}},{key:"play",value:function(){if(!this.props.disabled)if(null!=this.state.intervalId)this.pause();else{var e=setInterval(this.stepForward,this.intervalMilliseconds);this.setState({intervalId:e})}}},{key:"pause",value:function(){clearInterval(this.state.intervalId),this.setState({intervalId:null})}},{key:"stepForward",value:function(){var e=this,t=this.props,n=t.start,r=t.end,o=t.step,a=t.values;if(!t.disabled){var i=(Array.isArray(a)?a:[a,a+o]).map(function(t){return t+e.increment}),s=i[1]>r?i[0]-n:0;this.props.onChange(i.map(function(e){return e-s}))}}},{key:"stepBackward",value:function(){var e=this,t=this.props,n=t.start,r=t.end,o=t.step,a=t.values;if(!t.disabled){var i=(Array.isArray(a)?a:[a,a+o]).map(function(t){return t-e.increment}),s=i[0]<n?r-i[1]:0;this.props.onChange(i.map(function(e){return e+s}))}}},{key:"formatter",value:function(e){if(this.props.disabled)return Object(l.b)("Data has no time steps");var t=e;return Array.isArray(e)?e[0]===e[1]&&(t=[e[0]]):t=[e],t.map(function(e){return new Date(e).toUTCString()}).join(" : ")}},{key:"render",value:function(){var e=this.props,t=e.start,n=e.end,r=e.step,a=e.orientation,i=e.reversed,s=e.disabled,u=e.range,c=e.values;return o.a.createElement("div",{className:"play-slider"},o.a.createElement("div",{className:"play-slider-controls padded"},o.a.createElement("i",{className:"fa fa-step-backward fa-lg slider-button ",onClick:this.stepBackward}),o.a.createElement("i",{className:this.getPlayClass(),onClick:this.play}),o.a.createElement("i",{className:"fa fa-step-forward fa-lg slider-button ",onClick:this.stepForward})),o.a.createElement("div",{className:"play-slider-scrobbler padded"},o.a.createElement(f.a,{value:u?c:c[0],range:u,formatter:this.formatter,change:this.onChange,min:t,max:n,step:r,orientation:a,reversed:i,disabled:s?"disabled":"enabled"})))}}])&&y(n.prototype,r),a&&y(n,a),t}();function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){O(e,t,n[t])})}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}v.propTypes=m,v.defaultProps={onChange:function(){},loopDuration:15e3,maxFrames:100,orientation:"horizontal",reversed:!1,disabled:!1,range:!0},n.d(t,"a",function(){return x});var E={getLayers:i.a.func.isRequired,start:i.a.number.isRequired,end:i.a.number.isRequired,getStep:i.a.func,values:i.a.array.isRequired,aggregation:i.a.bool,disabled:i.a.bool,viewport:i.a.object.isRequired,children:i.a.node,onViewportChange:i.a.func,onValuesChange:i.a.func},x=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=S(t).call(this,e))||"object"!==g(o)&&"function"!=typeof o?_(r):o;e.getLayers,e.start,e.end,e.getStep,e.values,e.disabled,e.viewport;var a=k(e,["getLayers","start","end","getStep","values","disabled","viewport"]);return n.other=a,n.onViewportChange=n.onViewportChange.bind(_(_(n))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,o.a.Component),n=t,(r=[{key:"onViewportChange",value:function(e){var t=this.props.disabled?w({},e):w({},e,{height:e.height+20});this.props.onViewportChange(t)}},{key:"render",value:function(){var e=this.props,t=e.start,n=e.end,r=e.getStep,a=e.disabled,i=e.aggregation,u=e.children,c=e.getLayers,l=e.values,f=e.onValuesChange,p=e.viewport,y=c(l),b=w({},p,{height:a?p.height:p.height-20});return o.a.createElement("div",null,o.a.createElement(s.a,j({},this.other,{viewport:b,layers:y,onViewportChange:this.onViewportChange})),!a&&o.a.createElement(v,{start:t,end:n,step:r(t),values:l,range:!i,onChange:f}),u)}}])&&C(n.prototype,r),a&&C(n,a),t}();x.propTypes=E,x.defaultProps={aggregation:!1,disabled:!1,onViewportChange:function(){},onValuesChange:function(){}}},2132:function(e,t,n){},2133:function(e,t,n){"use strict";var r=n(276),o=n.n(r),a=n(1),i=n.n(a),s=n(0),u=n.n(s),c=n(2122),l=n(273),f=n(2131),p=n(2135),y=n(2118),b=n(2130),d=n(2115),h=n(2114);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){j(e,t,n[t])})}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var S=l.CategoricalColorNamespace.getScale;var P={formData:u.a.object.isRequired,mapboxApiKey:u.a.string.isRequired,setControlValue:u.a.func.isRequired,viewport:u.a.object.isRequired,getLayer:u.a.func.isRequired,getPoints:u.a.func.isRequired,payload:u.a.object.isRequired,onAddFilter:u.a.func,setTooltip:u.a.func},_=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=O(t).call(this,e))||"object"!==m(o)&&"function"!=typeof o?C(r):o).state=n.getStateFromProps(e),n.getLayers=n.getLayers.bind(C(C(n))),n.onValuesChange=n.onValuesChange.bind(C(C(n))),n.onViewportChange=n.onViewportChange.bind(C(C(n))),n.toggleCategory=n.toggleCategory.bind(C(C(n))),n.showSingleCategory=n.showSingleCategory.bind(C(C(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,i.a.PureComponent),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){e.payload.form_data!==this.state.formData&&this.setState(g({},this.getStateFromProps(e)))}},{key:"onValuesChange",value:function(e){this.setState({values:Array.isArray(e)?e:[e,e+this.state.getStep(e)]})}},{key:"onViewportChange",value:function(e){this.setState({viewport:e})}},{key:"getStateFromProps",value:function(e,t){var n=e.payload.data.features||[],r=n.map(function(e){return e.__timestamp}),o=function(e,t){var n=e.colorPicker||{r:0,g:0,b:0,a:1},r=[n.r,n.g,n.b,255*n.a],o=S(e.colorScheme),a={};return t.forEach(function(t){var i;null==t.cat_color||a.hasOwnProperty(t.cat_color)||(i=e.dimension?Object(y.hexToRGB)(o(t.cat_color),255*n.a):r,a[t.cat_color]={color:i,enabled:!0})}),a}(e.formData,n);if(t&&e.payload.form_data===t.formData)return g({},t,{categories:o});var a=e.payload.form_data.timeGrainSqla||e.payload.form_data.granularity||"P1D",i=Object(b.a)(r,a);return{start:i.start,end:i.end,getStep:i.getStep,values:i.values,disabled:i.disabled,viewport:e.formData.autozoom?Object(h.b)(e.viewport,e.getPoints(n)):e.viewport,selected:[],lastClick:0,formData:e.payload.form_data,categories:o}}},{key:"getLayers",value:function(e){var t=this.props,n=t.getLayer,r=t.payload,o=t.formData,a=t.onAddFilter,i=t.setTooltip,s=r.data.features?v(r.data.features):[];(s=this.addColor(s,o),o.jsDataMutator)&&(s=Object(d.a)(o.jsDataMutator)(s));s=e[0]===e[1]||e[1]===this.end?s.filter(function(t){return t.__timestamp>=e[0]&&t.__timestamp<=e[1]}):s.filter(function(t){return t.__timestamp>=e[0]&&t.__timestamp<e[1]});var u=this.state.categories;return o.dimension&&(s=s.filter(function(e){return u[e.cat_color]&&u[e.cat_color].enabled})),[n(o,g({},r,{data:g({},r.data,{features:s})}),a,i)]}},{key:"addColor",value:function(e,t){var n=t.colorPicker||{r:0,g:0,b:0,a:1},r=S(t.colorScheme);return e.map(function(e){return t.dimension?g({},e,{color:Object(y.hexToRGB)(r(e.cat_color),255*n.a)}):e})}},{key:"toggleCategory",value:function(e){var t=this.state.categories[e],n=g({},this.state.categories,j({},e,g({},t,{enabled:!t.enabled})));Object.values(n).every(function(e){return!e.enabled})&&Object.values(n).forEach(function(e){e.enabled=!0}),this.setState({categories:n})}},{key:"showSingleCategory",value:function(e){var t=g({},this.state.categories);Object.values(t).forEach(function(e){e.enabled=!1}),t[e].enabled=!0,this.setState({categories:t})}},{key:"render",value:function(){return i.a.createElement("div",{style:{position:"relative"}},i.a.createElement(f.a,{getLayers:this.getLayers,start:this.state.start,end:this.state.end,getStep:this.state.getStep,values:this.state.values,onValuesChange:this.onValuesChange,disabled:this.state.disabled,viewport:this.state.viewport,onViewportChange:this.onViewportChange,mapboxApiAccessToken:this.props.mapboxApiKey,mapStyle:this.props.formData.mapboxStyle,setControlValue:this.props.setControlValue},i.a.createElement(p.a,{categories:this.state.categories,toggleCategory:this.toggleCategory,showSingleCategory:this.showSingleCategory,position:this.props.formData.legendPosition})))}}])&&w(n.prototype,r),o&&w(n,o),t}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){V(e,t,n[t])})}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}_.propTypes=P,n.d(t,"b",function(){return M}),n.d(t,"a",function(){return L});var R={formData:u.a.object.isRequired,payload:u.a.object.isRequired,setControlValue:u.a.func.isRequired,viewport:u.a.object.isRequired,onAddFilter:u.a.func,setTooltip:u.a.func},z={onAddFilter:function(){},setTooltip:function(){}};function M(e,t){var n=function(n){function r(e){var n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o=this,n=!(a=T(r).call(this,e))||"object"!==E(a)&&"function"!=typeof a?q(o):a;var i=e.viewport,s=e.formData.autozoom?Object(h.b)(i,t(e.payload.data.features)):i;return n.state={viewport:s,layer:n.computeLayer(e)},n.onViewportChange=n.onViewportChange.bind(q(q(n))),n}var a,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(r,i.a.PureComponent),a=r,(s=[{key:"componentWillReceiveProps",value:function(e){var t=x({},e.formData,{viewport:null}),n=x({},this.props.formData,{viewport:null});o()(t,n)&&e.payload===this.props.payload||this.setState({layer:this.computeLayer(e)})}},{key:"onViewportChange",value:function(e){this.setState({viewport:e})}},{key:"computeLayer",value:function(t){var n=t.formData,r=t.payload,o=t.onAddFilter,a=t.setTooltip;return e(n,r,o,a)}},{key:"render",value:function(){var e=this.props,t=e.formData,n=e.payload,r=e.setControlValue,o=this.state,a=o.layer,s=o.viewport;return i.a.createElement(c.a,{mapboxApiAccessToken:n.data.mapboxApiKey,viewport:s,layers:[a],mapStyle:t.mapboxStyle,setControlValue:r,onViewportChange:this.onViewportChange})}}])&&A(a.prototype,s),u&&A(a,u),r}();return n.propTypes=R,n.defaultProps=z,n}function L(e,t){function n(n){var r=n.formData,o=n.payload,a=n.setControlValue,s=n.onAddFilter,u=n.setTooltip,c=n.viewport;return i.a.createElement(_,{formData:r,mapboxApiKey:o.data.mapboxApiKey,setControlValue:a,viewport:c,getLayer:e,payload:o,onAddFilter:s,setTooltip:u,getPoints:t})}return n.propTypes=R,n.defaultProps=z,n}},2135:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(1),o=n.n(r),a=n(0),i=n.n(a);n(2136);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b={categories:i.a.object,toggleCategory:i.a.func,showSingleCategory:i.a.func,position:i.a.oneOf([null,"tl","tr","bl","br"])},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,p(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){var e,t=this;if(0===Object.keys(this.props.categories).length||null===this.props.position)return null;var n=Object.entries(this.props.categories).map(function(e){var n=c(e,2),r=n[0],a=n[1],i={color:"rgba("+a.color.join(", ")+")"},s=a.enabled?"◼":"◻";return o.a.createElement("li",{key:r},o.a.createElement("a",{href:"#",onClick:function(){return t.props.toggleCategory(r)},onDoubleClick:function(){return t.props.showSingleCategory(r)}},o.a.createElement("span",{style:i},s)," ",r))}),r="t"===this.props.position.charAt(0)?"top":"bottom",a="r"===this.props.position.charAt(1)?"right":"left",i=(u(e={position:"absolute"},r,"0px"),u(e,a,"10px"),e);return o.a.createElement("div",{className:"legend",style:i},o.a.createElement("ul",{className:"categories"},n))}}])&&l(n.prototype,r),a&&l(n,a),t}();d.propTypes=b,d.defaultProps={categories:{},toggleCategory:function(){},showSingleCategory:function(){},position:"tr"}},2136:function(e,t,n){},2141:function(e,t){},2142:function(e,t){},2143:function(e,t){},2226:function(e,t,n){"use strict";n.r(t),n.d(t,"getLayer",function(){return c});var r=n(2123),o=n(2114),a=n(2115),i=n(2133);function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,i){var u=e,c=u.colorPicker,l=t.data.features.map(function(e){return s({},e,{color:[c.r,c.g,c.b,255*c.a]})});u.jsDataMutator&&(l=Object(a.a)(u.jsDataMutator)(l));var f=Object(o.c)(u.jsAggFunction,function(e){return e.weight});return new r.d(s({id:"hex-layer-".concat(u.sliceId),data:l,pickable:!0,radius:u.gridSize,minColor:[0,0,0,0],extruded:u.extruded,maxColor:[c.r,c.g,c.b,255*c.a],outline:!1,getElevationValue:f,getColorValue:f},Object(o.a)(u,i)))}t.default=Object(i.b)(c,function(e){return e.map(function(e){return e.position})})}}]);