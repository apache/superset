"use strict";exports.__esModule=!0,exports.default=createSmartNumberFormatter;var _d3Format=require("d3-format"),_NumberFormatter=_interopRequireDefault(require("../NumberFormatter")),_NumberFormats=_interopRequireDefault(require("../NumberFormats"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}/* eslint-disable no-magic-numbers */var siFormatter=(0,_d3Format.format)(".3~s"),float2PointFormatter=(0,_d3Format.format)(".2~f"),float4PointFormatter=(0,_d3Format.format)(".4~f");function createSmartNumberFormatter(a){function b(a){if(0===a)return"0";var b=Math.abs(a);if(1e3<=b)// Normal human being are more familiar
// with billion (B) that giga (G)
return siFormatter(a).replace("G","B");return 1<=b?float2PointFormatter(a):.001<=b?float4PointFormatter(a):1e-6<b?siFormatter(1e6*a)+"\xB5":siFormatter(a)}void 0===a&&(a={});var c=a,d=c.description,e=c.signed,f=void 0!==e&&e,g=c.id,h=c.label,i=f?function(a){return 0<a?"+":""}:function(){return""};return new _NumberFormatter.default({description:d,formatFunc:function c(a){return""+i(a)+b(a)},id:g||f?_NumberFormats.default.SMART_NUMBER_SIGNED:_NumberFormats.default.SMART_NUMBER,label:h||"Adaptive formatter"})}