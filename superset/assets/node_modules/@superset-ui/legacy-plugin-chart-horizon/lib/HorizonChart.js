"use strict";exports.__esModule=!0,exports.default=void 0;var _react=_interopRequireDefault(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_d3Array=require("d3-array"),_HorizonRow=_interopRequireWildcard(require("./HorizonRow"));require("./HorizonChart.css");function _interopRequireWildcard(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}return b.default=a,b}function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _inheritsLoose(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}var propTypes={className:_propTypes.default.string,width:_propTypes.default.number,seriesHeight:_propTypes.default.number,data:_propTypes.default.arrayOf(_propTypes.default.shape({key:_propTypes.default.arrayOf(_propTypes.default.string),values:_propTypes.default.arrayOf(_propTypes.default.shape({y:_propTypes.default.number}))})).isRequired,// number of bands in each direction (positive / negative)
bands:_propTypes.default.number,colors:_propTypes.default.arrayOf(_propTypes.default.string),colorScale:_propTypes.default.string,mode:_propTypes.default.string,offsetX:_propTypes.default.number},defaultProps={className:"",width:800,seriesHeight:20,bands:Math.floor(_HorizonRow.DEFAULT_COLORS.length/2),colors:_HorizonRow.DEFAULT_COLORS,colorScale:"series",mode:"offset",offsetX:0},HorizonChart=/*#__PURE__*/function(a){function b(){return a.apply(this,arguments)||this}_inheritsLoose(b,a);var c=b.prototype;return c.render=function l(){var a,b=this.props,c=b.className,d=b.width,e=b.data,f=b.seriesHeight,g=b.bands,h=b.colors,i=b.colorScale,j=b.mode,k=b.offsetX;if("overall"===i){var m=e.reduce(function(a,b){return a.concat(b.values)},[]);a=(0,_d3Array.extent)(m,function(a){return a.y})}return _react.default.createElement("div",{className:"superset-legacy-chart-horizon "+c},e.map(function(b){return _react.default.createElement(_HorizonRow.default,{key:b.key,width:d,height:f,title:b.key.join(", "),data:b.values,bands:g,colors:h,colorScale:i,mode:j,offsetX:k,yDomain:a})}))},b}(_react.default.PureComponent);HorizonChart.propTypes=propTypes,HorizonChart.defaultProps=defaultProps;var _default=HorizonChart;exports.default=_default;